const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DetailsModal-BgND9bir.js","assets/animation-vendor-Bf7mgj-L.js","assets/react-vendor-DVGsTovx.js","assets/ui-vendor-D2hm-2DB.js"])))=>i.map(i=>d[i]);
import{j as t,m as O,A as me}from"./animation-vendor-Bf7mgj-L.js";import{b as cs,a as m,R as Q,c as Za,u as lt,d as Qa,e as us,N as aa,B as ms,f as ps,g as Ne,h as at}from"./react-vendor-DVGsTovx.js";import{S as Rr,M as Or,N as Tr,a as ze,U as bt,F as yt,b as We,c as gs,C as Ie,d as Ee,e as Me,R as na,f as je,X as he,D as fs,g as wr,T as sa,h as hs,i as xs,j as Ue,k as bs,l as en,m as Fr,E as tn,n as Lr,o as Vt,p as ys,P as rn,q as zt,L as Mr,r as it,s as Gt,t as $s,W as ws,u as vs,v as Ns,B as js,H as an,w as ks,x as Cs,y as Ss,z as Ps,A as Es,G as Ds,I as Is,J as ia,K as _s,O as As,Q as Rs,V as Os,Y as Ts,Z as Fs,_ as Ls,$ as Ms,a0 as Us,a1 as Bs}from"./ui-vendor-D2hm-2DB.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();var At={},oa;function Hs(){if(oa)return At;oa=1;var e=cs();return At.createRoot=e.createRoot,At.hydrateRoot=e.hydrateRoot,At}var Vs=Hs();let zs={data:""},Gs=e=>{if(typeof window=="object"){let r=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return r.nonce=window.__nonce__,r.parentNode||(e||document.head).appendChild(r),r.firstChild}return e||zs},qs=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Ws=/\/\*[^]*?\*\/|  +/g,da=/\n+/g,Le=(e,r)=>{let a="",n="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?a=o+" "+i+";":n+=o[1]=="f"?Le(i,o):o+"{"+Le(i,o[1]=="k"?"":r)+"}":typeof i=="object"?n+=Le(i,r?r.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,d):d?d+" "+u:u)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Le.p?Le.p(o,i):o+":"+i+";")}return a+(r&&s?r+"{"+s+"}":s)+n},Re={},nn=e=>{if(typeof e=="object"){let r="";for(let a in e)r+=a+nn(e[a]);return r}return e},Ks=(e,r,a,n,s)=>{let o=nn(e),i=Re[o]||(Re[o]=(u=>{let l=0,c=11;for(;l<u.length;)c=101*c+u.charCodeAt(l++)>>>0;return"go"+c})(o));if(!Re[i]){let u=o!==e?e:(l=>{let c,g,f=[{}];for(;c=qs.exec(l.replace(Ws,""));)c[4]?f.shift():c[3]?(g=c[3].replace(da," ").trim(),f.unshift(f[0][g]=f[0][g]||{})):f[0][c[1]]=c[2].replace(da," ").trim();return f[0]})(e);Re[i]=Le(s?{["@keyframes "+i]:u}:u,a?"":"."+i)}let d=a&&Re.g?Re.g:null;return a&&(Re.g=Re[i]),((u,l,c,g)=>{g?l.data=l.data.replace(g,u):l.data.indexOf(u)===-1&&(l.data=c?u+l.data:l.data+u)})(Re[i],r,n,d),i},Js=(e,r,a)=>e.reduce((n,s,o)=>{let i=r[o];if(i&&i.call){let d=i(a),u=d&&d.props&&d.props.className||/^go/.test(d)&&d;i=u?"."+u:d&&typeof d=="object"?d.props?"":Le(d,""):d===!1?"":d}return n+s+(i??"")},"");function Qt(e){let r=this||{},a=e.call?e(r.p):e;return Ks(a.unshift?a.raw?Js(a,[].slice.call(arguments,1),r.p):a.reduce((n,s)=>Object.assign(n,s&&s.call?s(r.p):s),{}):a,Gs(r.target),r.g,r.o,r.k)}let sn,vr,Nr;Qt.bind({g:1});let Te=Qt.bind({k:1});function Xs(e,r,a,n){Le.p=r,sn=e,vr=a,Nr=n}function Be(e,r){let a=this||{};return function(){let n=arguments;function s(o,i){let d=Object.assign({},o),u=d.className||s.className;a.p=Object.assign({theme:vr&&vr()},d),a.o=/ *go\d+/.test(u),d.className=Qt.apply(a,n)+(u?" "+u:"");let l=e;return e[0]&&(l=d.as||e,delete d.as),Nr&&l[0]&&Nr(d),sn(l,d)}return s}}var Ys=e=>typeof e=="function",qt=(e,r)=>Ys(e)?e(r):e,Zs=(()=>{let e=0;return()=>(++e).toString()})(),on=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");e=!r||r.matches}return e}})(),Qs=20,Ur="default",dn=(e,r)=>{let{toastLimit:a}=e.settings;switch(r.type){case 0:return{...e,toasts:[r.toast,...e.toasts].slice(0,a)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===r.toast.id?{...i,...r.toast}:i)};case 2:let{toast:n}=r;return dn(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=r;return{...e,toasts:e.toasts.map(i=>i.id===s||s===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==r.toastId)};case 5:return{...e,pausedAt:r.time};case 6:let o=r.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},Lt=[],ln={toasts:[],pausedAt:void 0,settings:{toastLimit:Qs}},Ae={},cn=(e,r=Ur)=>{Ae[r]=dn(Ae[r]||ln,e),Lt.forEach(([a,n])=>{a===r&&n(Ae[r])})},un=e=>Object.keys(Ae).forEach(r=>cn(e,r)),ei=e=>Object.keys(Ae).find(r=>Ae[r].toasts.some(a=>a.id===e)),er=(e=Ur)=>r=>{cn(r,e)},ti={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ri=(e={},r=Ur)=>{let[a,n]=m.useState(Ae[r]||ln),s=m.useRef(Ae[r]);m.useEffect(()=>(s.current!==Ae[r]&&n(Ae[r]),Lt.push([r,n]),()=>{let i=Lt.findIndex(([d])=>d===r);i>-1&&Lt.splice(i,1)}),[r]);let o=a.toasts.map(i=>{var d,u,l;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((d=e[i.type])==null?void 0:d.removeDelay)||e?.removeDelay,duration:i.duration||((u=e[i.type])==null?void 0:u.duration)||e?.duration||ti[i.type],style:{...e.style,...(l=e[i.type])==null?void 0:l.style,...i.style}}});return{...a,toasts:o}},ai=(e,r="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:a?.id||Zs()}),Ct=e=>(r,a)=>{let n=ai(r,e,a);return er(n.toasterId||ei(n.id))({type:2,toast:n}),n.id},se=(e,r)=>Ct("blank")(e,r);se.error=Ct("error");se.success=Ct("success");se.loading=Ct("loading");se.custom=Ct("custom");se.dismiss=(e,r)=>{let a={type:3,toastId:e};r?er(r)(a):un(a)};se.dismissAll=e=>se.dismiss(void 0,e);se.remove=(e,r)=>{let a={type:4,toastId:e};r?er(r)(a):un(a)};se.removeAll=e=>se.remove(void 0,e);se.promise=(e,r,a)=>{let n=se.loading(r.loading,{...a,...a?.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=r.success?qt(r.success,s):void 0;return o?se.success(o,{id:n,...a,...a?.success}):se.dismiss(n),s}).catch(s=>{let o=r.error?qt(r.error,s):void 0;o?se.error(o,{id:n,...a,...a?.error}):se.dismiss(n)}),e};var ni=1e3,si=(e,r="default")=>{let{toasts:a,pausedAt:n}=ri(e,r),s=m.useRef(new Map).current,o=m.useCallback((g,f=ni)=>{if(s.has(g))return;let j=setTimeout(()=>{s.delete(g),i({type:4,toastId:g})},f);s.set(g,j)},[]);m.useEffect(()=>{if(n)return;let g=Date.now(),f=a.map(j=>{if(j.duration===1/0)return;let x=(j.duration||0)+j.pauseDuration-(g-j.createdAt);if(x<0){j.visible&&se.dismiss(j.id);return}return setTimeout(()=>se.dismiss(j.id,r),x)});return()=>{f.forEach(j=>j&&clearTimeout(j))}},[a,n,r]);let i=m.useCallback(er(r),[r]),d=m.useCallback(()=>{i({type:5,time:Date.now()})},[i]),u=m.useCallback((g,f)=>{i({type:1,toast:{id:g,height:f}})},[i]),l=m.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),c=m.useCallback((g,f)=>{let{reverseOrder:j=!1,gutter:x=8,defaultPosition:w}=f||{},v=a.filter(I=>(I.position||w)===(g.position||w)&&I.height),b=v.findIndex(I=>I.id===g.id),h=v.filter((I,S)=>S<b&&I.visible).length;return v.filter(I=>I.visible).slice(...j?[h+1]:[0,h]).reduce((I,S)=>I+(S.height||0)+x,0)},[a]);return m.useEffect(()=>{a.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let f=s.get(g.id);f&&(clearTimeout(f),s.delete(g.id))}})},[a,o]),{toasts:a,handlers:{updateHeight:u,startPause:d,endPause:l,calculateOffset:c}}},ii=Te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,oi=Te`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,di=Te`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,li=Be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ii} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${oi} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${di} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ci=Te`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ui=Be("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ci} 1s linear infinite;
`,mi=Te`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,pi=Te`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,gi=Be("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${mi} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${pi} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fi=Be("div")`
  position: absolute;
`,hi=Be("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xi=Te`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bi=Be("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xi} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yi=({toast:e})=>{let{icon:r,type:a,iconTheme:n}=e;return r!==void 0?typeof r=="string"?m.createElement(bi,null,r):r:a==="blank"?null:m.createElement(hi,null,m.createElement(ui,{...n}),a!=="loading"&&m.createElement(fi,null,a==="error"?m.createElement(li,{...n}):m.createElement(gi,{...n})))},$i=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wi=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vi="0%{opacity:0;} 100%{opacity:1;}",Ni="0%{opacity:1;} 100%{opacity:0;}",ji=Be("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ki=Be("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ci=(e,r)=>{let a=e.includes("top")?1:-1,[n,s]=on()?[vi,Ni]:[$i(a),wi(a)];return{animation:r?`${Te(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Te(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Si=m.memo(({toast:e,position:r,style:a,children:n})=>{let s=e.height?Ci(e.position||r||"top-center",e.visible):{opacity:0},o=m.createElement(yi,{toast:e}),i=m.createElement(ki,{...e.ariaProps},qt(e.message,e));return m.createElement(ji,{className:e.className,style:{...s,...a,...e.style}},typeof n=="function"?n({icon:o,message:i}):m.createElement(m.Fragment,null,o,i))});Xs(m.createElement);var Pi=({id:e,className:r,style:a,onHeightUpdate:n,children:s})=>{let o=m.useCallback(i=>{if(i){let d=()=>{let u=i.getBoundingClientRect().height;n(e,u)};d(),new MutationObserver(d).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:o,className:r,style:a},s)},Ei=(e,r)=>{let a=e.includes("top"),n=a?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:on()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(a?1:-1)}px)`,...n,...s}},Di=Qt`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rt=16,Ii=({reverseOrder:e,position:r="top-center",toastOptions:a,gutter:n,children:s,toasterId:o,containerStyle:i,containerClassName:d})=>{let{toasts:u,handlers:l}=si(a,o);return m.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:Rt,left:Rt,right:Rt,bottom:Rt,pointerEvents:"none",...i},className:d,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map(c=>{let g=c.position||r,f=l.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:r}),j=Ei(g,f);return m.createElement(Pi,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?Di:"",style:j},c.type==="custom"?qt(c.message,c):s?s(c):m.createElement(Si,{toast:c,position:g}))}))},Z=se;const _i="modulepreload",Ai=function(e){return"/"+e},la={},ie=function(r,a,n){let s=Promise.resolve();if(a&&a.length>0){let u=function(l){return Promise.all(l.map(c=>Promise.resolve(c).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),d=i?.nonce||i?.getAttribute("nonce");s=u(a.map(l=>{if(l=Ai(l),l in la)return;la[l]=!0;const c=l.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":_i,c||(f.as="script"),f.crossOrigin="",f.href=l,d&&f.setAttribute("nonce",d),document.head.appendChild(f),c)return new Promise((j,x)=>{f.addEventListener("load",j),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(i){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i}return s.then(i=>{for(const d of i||[])d.status==="rejected"&&o(d.reason);return r().catch(o)})},Wt="/assets/logo-DYvckzLo.png";function Ri({onSignedIn:e,onGoToSignUp:r}){const[a,n]=m.useState(""),[s,o]=m.useState(""),[i,d]=m.useState(!1),[u,l]=m.useState(!1),[c,g]=m.useState(""),[f,j]=m.useState(!1),[x,w]=m.useState(()=>typeof window>"u"?!1:localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches);m.useEffect(()=>{const h=document.documentElement;x?h.classList.add("dark"):h.classList.remove("dark"),localStorage.setItem("theme",x?"dark":"light"),window.dispatchEvent(new Event("themechange"))},[x]);const v=()=>w(h=>!h);m.useEffect(()=>{c&&(a||s)&&g("")},[a,s]);const b=async h=>{if(h.preventDefault(),g(""),!a||!s){g("Please enter both email and password.");return}if(!/\S+@\S+\.\S+/.test(a)){g("Please enter a valid email address.");return}try{j(!0);const{userAPI:I}=await ie(async()=>{const{userAPI:_}=await Promise.resolve().then(()=>ce);return{userAPI:_}},void 0),B=(await I.authenticate(a,s)).data,k={id:B.id,name:B.fullName||B.name,email:B.email,role:B.role,profilePicture:B.profilePictureUrl||null};localStorage.setItem("carrent_current_user",JSON.stringify(k)),u?localStorage.setItem("carrent_remember_me","true"):localStorage.removeItem("carrent_remember_me"),e&&e(k)}catch(I){console.error("Login error:",I),g(I.response?.data?.message||"Invalid email or password. Please try again.")}finally{j(!1)}};return t.jsxs("div",{className:"signin-page",style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"32px 24px 40px",background:"radial-gradient(circle at top left, rgba(129, 140, 248, 0.25), transparent 55%), radial-gradient(circle at bottom right, rgba(168, 85, 247, 0.22), transparent 55%), #f5f3ff"},children:[t.jsx("button",{onClick:v,className:"fixed top-4 right-4 z-50 p-2 bg-transparent border-0 rounded-lg transition-colors","aria-label":"Toggle theme",children:x?t.jsx(Rr,{className:"w-5 h-5 text-white"}):t.jsx(Or,{className:"w-5 h-5 text-purple-800"})}),t.jsxs("div",{className:"app-brand",style:{position:"absolute",top:"20px",left:"50%",transform:"translateX(-50%)",display:"flex",alignItems:"center",gap:"10px",fontSize:"20px",fontWeight:800,letterSpacing:"0.12em",textTransform:"uppercase",color:"#4c1d95",zIndex:10},children:[t.jsx("img",{src:Wt,alt:"CarRent logo",className:"app-logo",style:{width:"36px",height:"36px",objectFit:"contain",display:"block",flexShrink:0,visibility:"visible",opacity:1},onError:h=>{console.error("Logo failed to load:",Wt),h.target.style.display="none"}}),t.jsxs("span",{className:"app-brand-text",style:{color:"#4c1d95"},children:["CAR",t.jsx("span",{style:{color:"#7c3aed"},children:"RENT"})]})]}),t.jsxs("div",{className:"signin-card",style:{maxWidth:"420px",width:"100%",marginTop:"72px",padding:"28px 24px 40px",borderRadius:"20px",background:"#ffffff",boxShadow:"0 20px 40px rgba(148, 163, 184, 0.35), 0 0 0 1px rgba(129, 140, 248, 0.2)",border:"1px solid rgba(226, 232, 240, 0.9)",color:"#111827"},children:[t.jsxs("div",{className:"signin-header",children:[t.jsx("h2",{className:"signin-title signup-title-purple",children:"Sign in"}),t.jsx("p",{className:"signin-subtitle",children:"Access your bookings and find your next ride."})]}),c&&t.jsx("div",{className:"signin-error",children:c}),t.jsxs("form",{className:"signin-form",onSubmit:b,children:[t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"email",children:"Email"}),t.jsx("input",{id:"email",type:"email",className:"signin-input",placeholder:"you@example.com",value:a,autoComplete:"email",onChange:h=>{n(h.target.value),c&&g("")}})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"signin-password-wrapper",children:[t.jsx("input",{id:"password",type:i?"text":"password",className:"signin-password-input",placeholder:"Enter your password",value:s,autoComplete:"current-password",onChange:h=>{o(h.target.value),c&&g("")}}),t.jsx("button",{type:"button",className:"signin-toggle-password",onClick:()=>d(h=>!h),children:i?"Hide":"Show"})]})]}),t.jsxs("div",{className:"signin-row",children:[t.jsxs("label",{className:"signin-remember",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:h=>l(h.target.checked)}),"Remember me"]}),t.jsx("button",{type:"button",className:"signin-link",onClick:()=>{alert("Forgot password flow not implemented yet.")},children:"Forgot password?"})]}),t.jsx("button",{type:"submit",className:"signin-button",disabled:f,children:f?"Signing in...":"Sign in"})]}),t.jsxs("div",{className:"signin-footer",children:["Don't have an account?"," ",t.jsx("button",{type:"button",className:"signin-link",onClick:r,children:"Sign up"})]})]})]})}var mn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ca=Q.createContext&&Q.createContext(mn),Oi=["attr","size","title"];function Ti(e,r){if(e==null)return{};var a=Fi(e,r),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)n=o[s],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fi(e,r){if(e==null)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;a[n]=e[n]}return a}function Kt(){return Kt=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Kt.apply(this,arguments)}function ua(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Jt(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ua(Object(a),!0).forEach(function(n){Li(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Li(e,r,a){return r=Mi(r),r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Mi(e){var r=Ui(e,"string");return typeof r=="symbol"?r:r+""}function Ui(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function pn(e){return e&&e.map((r,a)=>Q.createElement(r.tag,Jt({key:a},r.attr),pn(r.child)))}function St(e){return r=>Q.createElement(Bi,Kt({attr:Jt({},e.attr)},r),pn(e.child))}function Bi(e){var r=a=>{var{attr:n,size:s,title:o}=e,i=Ti(e,Oi),d=s||a.size||"1em",u;return a.className&&(u=a.className),e.className&&(u=(u?u+" ":"")+e.className),Q.createElement("svg",Kt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,i,{className:u,style:Jt(Jt({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&Q.createElement("title",null,o),e.children)};return ca!==void 0?Q.createElement(ca.Consumer,null,a=>r(a)):r(mn)}function ma(e){return St({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function gn(e){return St({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M499.99 176h-59.87l-16.64-41.6C406.38 91.63 365.57 64 319.5 64h-127c-46.06 0-86.88 27.63-103.99 70.4L71.87 176H12.01C4.2 176-1.53 183.34.37 190.91l6 24C7.7 220.25 12.5 224 18.01 224h20.07C24.65 235.73 16 252.78 16 272v48c0 16.12 6.16 30.67 16 41.93V416c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h256v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-54.07c9.84-11.25 16-25.8 16-41.93v-48c0-19.22-8.65-36.27-22.07-48H494c5.51 0 10.31-3.75 11.64-9.09l6-24c1.89-7.57-3.84-14.91-11.65-14.91zm-352.06-17.83c7.29-18.22 24.94-30.17 44.57-30.17h127c19.63 0 37.28 11.95 44.57 30.17L384 208H128l19.93-49.83zM96 319.8c-19.2 0-32-12.76-32-31.9S76.8 256 96 256s48 28.71 48 47.85-28.8 15.95-48 15.95zm320 0c-19.2 0-48 3.19-48-15.95S396.8 256 416 256s32 12.76 32 31.9-12.8 31.9-32 31.9z"},child:[]}]})(e)}function pa(e){return St({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Hi(e){return St({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M271.06,144.3l54.27,14.3a8.59,8.59,0,0,1,6.63,8.1c0,4.6-4.09,8.4-9.12,8.4h-35.6a30,30,0,0,1-11.19-2.2c-5.24-2.2-11.28-1.7-15.3,2l-19,17.5a11.68,11.68,0,0,0-2.25,2.66,11.42,11.42,0,0,0,3.88,15.74,83.77,83.77,0,0,0,34.51,11.5V240c0,8.8,7.83,16,17.37,16h17.37c9.55,0,17.38-7.2,17.38-16V222.4c32.93-3.6,57.84-31,53.5-63-3.15-23-22.46-41.3-46.56-47.7L282.68,97.4a8.59,8.59,0,0,1-6.63-8.1c0-4.6,4.09-8.4,9.12-8.4h35.6A30,30,0,0,1,332,83.1c5.23,2.2,11.28,1.7,15.3-2l19-17.5A11.31,11.31,0,0,0,368.47,61a11.43,11.43,0,0,0-3.84-15.78,83.82,83.82,0,0,0-34.52-11.5V16c0-8.8-7.82-16-17.37-16H295.37C285.82,0,278,7.2,278,16V33.6c-32.89,3.6-57.85,31-53.51,63C227.63,119.6,247,137.9,271.06,144.3ZM565.27,328.1c-11.8-10.7-30.2-10-42.6,0L430.27,402a63.64,63.64,0,0,1-40,14H272a16,16,0,0,1,0-32h78.29c15.9,0,30.71-10.9,33.25-26.6a31.2,31.2,0,0,0,.46-5.46A32,32,0,0,0,352,320H192a117.66,117.66,0,0,0-74.1,26.29L71.4,384H16A16,16,0,0,0,0,400v96a16,16,0,0,0,16,16H372.77a64,64,0,0,0,40-14L564,377a32,32,0,0,0,1.28-48.9Z"},child:[]}]})(e)}function Ye(e){return St({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}const Ot=[{code:"+1",country:"US/Canada",flag:"ðŸ‡ºðŸ‡¸"},{code:"+44",country:"UK",flag:"ðŸ‡¬ðŸ‡§"},{code:"+33",country:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"+49",country:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"+39",country:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"+34",country:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"+31",country:"Netherlands",flag:"ðŸ‡³ðŸ‡±"},{code:"+32",country:"Belgium",flag:"ðŸ‡§ðŸ‡ª"},{code:"+41",country:"Switzerland",flag:"ðŸ‡¨ðŸ‡­"},{code:"+43",country:"Austria",flag:"ðŸ‡¦ðŸ‡¹"},{code:"+46",country:"Sweden",flag:"ðŸ‡¸ðŸ‡ª"},{code:"+47",country:"Norway",flag:"ðŸ‡³ðŸ‡´"},{code:"+45",country:"Denmark",flag:"ðŸ‡©ðŸ‡°"},{code:"+358",country:"Finland",flag:"ðŸ‡«ðŸ‡®"},{code:"+351",country:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{code:"+353",country:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{code:"+48",country:"Poland",flag:"ðŸ‡µðŸ‡±"},{code:"+420",country:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"+36",country:"Hungary",flag:"ðŸ‡­ðŸ‡º"},{code:"+7",country:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"+81",country:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"+86",country:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"+91",country:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"+61",country:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"+64",country:"New Zealand",flag:"ðŸ‡³ðŸ‡¿"},{code:"+27",country:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"+971",country:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{code:"+966",country:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"+20",country:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"+212",country:"Morocco",flag:"ðŸ‡²ðŸ‡¦"},{code:"+213",country:"Algeria",flag:"ðŸ‡©ðŸ‡¿"},{code:"+216",country:"Tunisia",flag:"ðŸ‡¹ðŸ‡³"}];function Vi({onSignedUp:e,onGoToSignIn:r}){const[a,n]=m.useState(1),[s,o]=m.useState(""),[i,d]=m.useState(""),[u,l]=m.useState(""),[c,g]=m.useState(""),[f,j]=m.useState("client"),[x,w]=m.useState(!1),[v,b]=m.useState(""),[h,I]=m.useState(!1),[S,B]=m.useState(()=>typeof window>"u"?!1:localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches);m.useEffect(()=>{const U=document.documentElement;S?U.classList.add("dark"):U.classList.remove("dark"),localStorage.setItem("theme",S?"dark":"light"),window.dispatchEvent(new Event("themechange"))},[S]);const k=()=>B(U=>!U),[_,V]=m.useState(null),[z,q]=m.useState(null),[$,R]=m.useState(null),[A,T]=m.useState(""),[N,C]=m.useState("+1"),[G,D]=m.useState(""),[M,W]=m.useState(null),[L,J]=m.useState(null),[ee,P]=m.useState(null),[p,E]=m.useState(""),[H,K]=m.useState("+1"),[F,oe]=m.useState(""),[Y,ye]=m.useState(null),pt=m.useRef(null),Yr=m.useRef(null),Zr=m.useRef(null),Qr=m.useRef(null),[lr,cr]=m.useState(!1),[ur,mr]=m.useState(!1),pr=m.useRef(null),gr=m.useRef(null);m.useEffect(()=>{const U=ae=>{pr.current&&!pr.current.contains(ae.target)&&cr(!1),gr.current&&!gr.current.contains(ae.target)&&mr(!1)};return document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[]);const _t=U=>Ot.find(ae=>ae.code===U)||Ot[0],rs=(U,ae=600,te=600,Se=200)=>new Promise(($e,we)=>{if(U.type==="application/pdf"){const He=new FileReader;He.onloadend=()=>$e(He.result),He.onerror=we,He.readAsDataURL(U);return}const gt=new FileReader;gt.onload=He=>{const pe=new Image;pe.onload=()=>{let ge=pe.width,fe=pe.height;if(ge>ae||fe>te){const ht=Math.min(ae/ge,te/fe);ge=Math.round(ge*ht),fe=Math.round(fe*ht)}const Pe=document.createElement("canvas");Pe.width=ge,Pe.height=fe;const Xe=Pe.getContext("2d");Xe.imageSmoothingEnabled=!0,Xe.imageSmoothingQuality="high",Xe.drawImage(pe,0,0,ge,fe);const os="image/jpeg",ds=Se*1024;let ft=.6,fr=0;const ls=5,ta=()=>{const ht=Pe.toDataURL(os,ft),ra=ht.split(",")[1].length*3/4;console.log(`Image compression attempt ${fr+1}: ${Math.round(ra/1024)}KB at quality ${ft.toFixed(2)}`),ra<=ds||fr>=ls?$e(ht):(ft=Math.max(.2,ft-.15),ft<=.35&&(ge>400||fe>400)&&(ge=Math.round(ge*.8),fe=Math.round(fe*.8),Pe.width=ge,Pe.height=fe,Xe.drawImage(pe,0,0,ge,fe)),fr++,ta())};ta()},pe.onerror=we,pe.src=He.target.result},gt.onerror=we,gt.readAsDataURL(U)}),Je=async(U,ae)=>{if(U){if(!U.type.startsWith("image/")&&U.type!=="application/pdf"){b("Please upload an image or PDF file"),setTimeout(()=>b(""),5e3);return}if(U.size>5*1024*1024){b("File size should be less than 5MB"),setTimeout(()=>b(""),5e3);return}b("");try{const te=await rs(U);ae(te)}catch(te){console.error("Error processing file:",te),b("Error processing file. Please try again."),setTimeout(()=>b(""),5e3)}}},as=async U=>{if(U.preventDefault(),b(""),!s||!i||!u||!c||!f){b("Please fill in all fields and choose how you will use CarRent.");return}if(!/\S+@\S+\.\S+/.test(i)){b("Please enter a valid email address.");return}if(u.length<6){b("Password should be at least 6 characters long.");return}if(u!==c){b("Passwords do not match.");return}n(2)},ea=async U=>{if(U.preventDefault(),b(""),f==="client"){if(!_||!z||!$||!A||!G){b("Please fill in all required fields and upload all documents including profile picture.");return}}else if(!M||!L||!ee||!p||!F||Y===null){b("Please fill in all required fields, upload all documents including profile picture, and select your business type.");return}try{I(!0);const ae=f==="client"?{phoneCountryCode:N,phoneNumber:G}:{phoneCountryCode:H,phoneNumber:F},te=f==="client"?{profilePictureUrl:_,drivingCardUrl:z,nationalCardUrl:$,address:A,isCompany:!1}:{profilePictureUrl:M,drivingCardUrl:L,nationalCardUrl:ee,address:p,isCompany:Y||!1},Se={fullName:s,email:i.toLowerCase(),password:u,role:f,...ae,...te},we=JSON.stringify(Se).length/(1024*1024);console.log(`Total payload size: ${we.toFixed(2)} MB`),we>.9&&(console.warn("Payload size is large, may cause issues:",we.toFixed(2),"MB"),[{name:"profilePictureUrl",data:te.profilePictureUrl},{name:"drivingCardUrl",data:te.drivingCardUrl},{name:"nationalCardUrl",data:te.nationalCardUrl}].forEach(Pe=>{if(Pe.data){const Xe=Pe.data.length*3/4/1024;console.log(`${Pe.name}: ${Xe.toFixed(2)} KB`)}}));const{userAPI:gt}=await ie(async()=>{const{userAPI:fe}=await Promise.resolve().then(()=>ce);return{userAPI:fe}},void 0),pe=(await gt.register(Se)).data,ge={id:pe.id,name:pe.fullName||pe.name,email:pe.email,role:pe.role,profilePicture:pe.profilePictureUrl||null};localStorage.setItem("carrent_current_user",JSON.stringify(ge)),e&&e(ge)}catch(ae){console.error("Registration error:",ae);let te="Could not create account. Please try again.";if(ae.response){const Se=ae.response.status,$e=ae.response.data,we=$e?.message||$e?.error||JSON.stringify($e);we&&(we.includes("PacketTooBig")||we.includes("max_allowed_packet")||we.includes("Packet for query is too large"))?te="Image files are too large. Please use smaller images or compress them before uploading.":$e?.message?te=$e.message:$e?.error?te=$e.error:Se===500?te="Server error occurred. Please check your connection and try again.":Se===400?te="Invalid data provided. Please check all fields and try again.":Se===409?te="An account with this email already exists.":Se===413&&(te="File size too large. Please use smaller images."),console.error("Error response:",Se,$e)}else ae.request?(te="Could not connect to server. Please check your internet connection.",console.error("No response received:",ae.request)):console.error("Request setup error:",ae.message);b(te)}finally{I(!1)}},ns=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"signin-header",children:[t.jsx("h2",{className:"signin-title signup-title-purple",children:"Create account"}),t.jsx("p",{className:"signin-subtitle",children:"Sign up to manage your rentals and save your favourite cars."})]}),v&&t.jsx("div",{className:"signin-error",children:v}),t.jsxs("form",{className:"signin-form",onSubmit:as,children:[t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"fullName",children:"Full name"}),t.jsx("input",{id:"fullName",type:"text",className:"signin-input",placeholder:"John Doe",value:s,onChange:U=>o(U.target.value)})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"signup-email",children:"Email"}),t.jsx("input",{id:"signup-email",type:"email",className:"signin-input",placeholder:"you@example.com",value:i,autoComplete:"email",onChange:U=>d(U.target.value)})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"signup-password",children:"Password"}),t.jsxs("div",{className:"signin-password-wrapper",children:[t.jsx("input",{id:"signup-password",type:x?"text":"password",className:"signin-password-input",placeholder:"Create a password",value:u,autoComplete:"new-password",onChange:U=>l(U.target.value)}),t.jsx("button",{type:"button",className:"signin-toggle-password",onClick:()=>w(U=>!U),children:x?"Hide":"Show"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"confirmPassword",children:"Confirm password"}),t.jsx("input",{id:"confirmPassword",type:"password",className:"signin-input",placeholder:"Repeat your password",value:c,autoComplete:"new-password",onChange:U=>g(U.target.value)})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("span",{className:"signin-label",children:"How will you use CarRent?"}),t.jsxs("div",{className:"identity-row",children:[t.jsxs("label",{className:`identity-pill ${f==="client"?"identity-pill--active":""}`,children:[t.jsx("input",{type:"radio",name:"identity",value:"client",checked:f==="client",onChange:U=>j(U.target.value)}),t.jsx(gn,{className:"identity-icon"}),"Rent a Car"]}),t.jsxs("label",{className:`identity-pill ${f==="owner"?"identity-pill--active":""}`,children:[t.jsx("input",{type:"radio",name:"identity",value:"owner",checked:f==="owner",onChange:U=>j(U.target.value)}),t.jsx(Hi,{className:"identity-icon"}),"Rent Out My Car"]})]})]}),t.jsx("button",{type:"submit",className:"signin-button",disabled:h,children:"Continue"})]}),t.jsxs("div",{className:"signin-footer",children:["Already have an account?"," ",t.jsx("button",{type:"button",className:"signin-link",onClick:r,children:"Sign in"})]})]}),ss=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"signin-header",children:[t.jsxs("button",{type:"button",className:"back-button-inline",onClick:()=>n(1),children:[t.jsx(ma,{})," Back"]}),t.jsx("h2",{className:"signin-title signup-title-purple",children:"Additional Information"}),t.jsx("p",{className:"signin-subtitle",children:"Please provide your documents and contact details to complete your registration."})]}),v&&t.jsx("div",{className:"signin-error",children:v}),t.jsxs("form",{className:"signin-form",onSubmit:ea,children:[t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"Profile Picture *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:U=>Je(U.target.files[0],V),style:{display:"none"},id:"profile-picture-input"}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>document.getElementById("profile-picture-input")?.click(),children:[t.jsx(Ye,{})," ",_?"Change Profile Picture":"Upload Profile Picture"]}),_&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"Driving Card *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{ref:pt,type:"file",accept:"image/*,application/pdf",onChange:U=>Je(U.target.files[0],q),style:{display:"none"}}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>pt.current?.click(),children:[t.jsx(Ye,{})," ",z?"Change Driving Card":"Upload Driving Card"]}),z&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"National Card *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{ref:Yr,type:"file",accept:"image/*,application/pdf",onChange:U=>Je(U.target.files[0],R),style:{display:"none"}}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>Yr.current?.click(),children:[t.jsx(Ye,{})," ",$?"Change National Card":"Upload National Card"]}),$&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"address",children:"Address *"}),t.jsx("input",{id:"address",type:"text",className:"signin-input",placeholder:"Street, City, State, ZIP Code",value:A,onChange:U=>T(U.target.value),required:!0})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"phone",children:"Phone Number *"}),t.jsxs("div",{className:"phone-input-wrapper",children:[t.jsxs("div",{className:"country-code-dropdown",ref:pr,children:[t.jsxs("button",{type:"button",className:"country-code-select-button",onClick:()=>cr(!lr),children:[t.jsxs("span",{className:"country-code-display",children:[t.jsx("span",{className:"country-flag",children:_t(N).flag}),t.jsx("span",{className:"country-code-text",children:_t(N).code})]}),t.jsx(pa,{className:`dropdown-arrow ${lr?"open":""}`})]}),lr&&t.jsx("div",{className:"country-code-dropdown-menu",children:Ot.map(U=>t.jsxs("button",{type:"button",className:`country-code-option ${N===U.code?"selected":""}`,onClick:()=>{C(U.code),cr(!1)},children:[t.jsx("span",{className:"country-flag",children:U.flag}),t.jsx("span",{className:"country-code-text",children:U.code}),t.jsx("span",{className:"country-name",children:U.country})]},U.code))})]}),t.jsx("input",{id:"phone",type:"tel",className:"signin-input phone-input",placeholder:"1234567890",value:G,onChange:U=>D(U.target.value.replace(/\D/g,"")),required:!0})]})]}),t.jsx("button",{type:"submit",className:"signin-button",disabled:h,children:h?"Creating account...":"Complete Sign Up"})]})]}),is=()=>t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"signin-header",children:[t.jsxs("button",{type:"button",className:"back-button-inline",onClick:()=>n(1),children:[t.jsx(ma,{})," Back"]}),t.jsx("h2",{className:"signin-title signup-title-purple",children:"Additional Information"}),t.jsx("p",{className:"signin-subtitle",children:"Please provide your documents and business details to complete your registration."})]}),v&&t.jsx("div",{className:"signin-error",children:v}),t.jsxs("form",{className:"signin-form",onSubmit:ea,children:[t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"Profile Picture *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:U=>Je(U.target.files[0],W),style:{display:"none"},id:"owner-profile-picture-input"}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>document.getElementById("owner-profile-picture-input")?.click(),children:[t.jsx(Ye,{})," ",M?"Change Profile Picture":"Upload Profile Picture"]}),M&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"Driving Card *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{ref:Zr,type:"file",accept:"image/*,application/pdf",onChange:U=>Je(U.target.files[0],J),style:{display:"none"}}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>Zr.current?.click(),children:[t.jsx(Ye,{})," ",L?"Change Driving Card":"Upload Driving Card"]}),L&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",children:"National Card *"}),t.jsxs("div",{className:"file-upload-wrapper",children:[t.jsx("input",{ref:Qr,type:"file",accept:"image/*,application/pdf",onChange:U=>Je(U.target.files[0],P),style:{display:"none"}}),t.jsxs("button",{type:"button",className:"file-upload-button",onClick:()=>Qr.current?.click(),children:[t.jsx(Ye,{})," ",ee?"Change National Card":"Upload National Card"]}),ee&&t.jsx("span",{className:"file-upload-success",children:"âœ“ File uploaded"})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"owner-address",children:"Address *"}),t.jsx("input",{id:"owner-address",type:"text",className:"signin-input",placeholder:"Street, City, State, ZIP Code",value:p,onChange:U=>E(U.target.value),required:!0})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("label",{className:"signin-label",htmlFor:"owner-phone",children:"Phone Number *"}),t.jsxs("div",{className:"phone-input-wrapper",children:[t.jsxs("div",{className:"country-code-dropdown",ref:gr,children:[t.jsxs("button",{type:"button",className:"country-code-select-button",onClick:()=>mr(!ur),children:[t.jsxs("span",{className:"country-code-display",children:[t.jsx("span",{className:"country-flag",children:_t(H).flag}),t.jsx("span",{className:"country-code-text",children:_t(H).code})]}),t.jsx(pa,{className:`dropdown-arrow ${ur?"open":""}`})]}),ur&&t.jsx("div",{className:"country-code-dropdown-menu",children:Ot.map(U=>t.jsxs("button",{type:"button",className:`country-code-option ${H===U.code?"selected":""}`,onClick:()=>{K(U.code),mr(!1)},children:[t.jsx("span",{className:"country-flag",children:U.flag}),t.jsx("span",{className:"country-code-text",children:U.code}),t.jsx("span",{className:"country-name",children:U.country})]},U.code))})]}),t.jsx("input",{id:"owner-phone",type:"tel",className:"signin-input phone-input",placeholder:"1234567890",value:F,onChange:U=>oe(U.target.value.replace(/\D/g,"")),required:!0})]})]}),t.jsxs("div",{className:"signin-field",children:[t.jsx("span",{className:"signin-label",children:"Business Type *"}),t.jsxs("div",{className:"identity-row",children:[t.jsxs("label",{className:`identity-pill ${Y===!0?"identity-pill--active":""}`,children:[t.jsx("input",{type:"radio",name:"businessType",value:"company",checked:Y===!0,onChange:()=>ye(!0)}),"Company"]}),t.jsxs("label",{className:`identity-pill ${Y===!1?"identity-pill--active":""}`,children:[t.jsx("input",{type:"radio",name:"businessType",value:"single",checked:Y===!1,onChange:()=>ye(!1)}),"Single Car Processor"]})]})]}),t.jsx("button",{type:"submit",className:"signin-button",disabled:h,children:h?"Creating account...":"Complete Sign Up"})]})]});return t.jsxs("div",{className:"signin-page",children:[t.jsx("button",{onClick:k,className:"fixed top-4 right-4 z-50 p-2 bg-transparent border-0 rounded-lg transition-colors","aria-label":"Toggle theme",children:S?t.jsx(Rr,{className:"w-5 h-5 text-white"}):t.jsx(Or,{className:"w-5 h-5 text-purple-800"})}),t.jsxs("div",{className:"app-brand",children:[t.jsx("img",{src:Wt,alt:"CarRent logo",className:"app-logo"}),t.jsxs("span",{className:"app-brand-text",children:["CAR",t.jsx("span",{children:"RENT"})]})]}),t.jsxs("div",{className:"signin-card",children:[a===1&&ns(),a===2&&f==="client"&&ss(),a===2&&f==="owner"&&is()]})]})}function fn(e,r){return function(){return e.apply(r,arguments)}}const{toString:zi}=Object.prototype,{getPrototypeOf:Br}=Object,{iterator:tr,toStringTag:hn}=Symbol,rr=(e=>r=>{const a=zi.call(r);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Ce=e=>(e=e.toLowerCase(),r=>rr(r)===e),ar=e=>r=>typeof r===e,{isArray:ct}=Array,ot=ar("undefined");function Pt(e){return e!==null&&!ot(e)&&e.constructor!==null&&!ot(e.constructor)&&xe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xn=Ce("ArrayBuffer");function Gi(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&xn(e.buffer),r}const qi=ar("string"),xe=ar("function"),bn=ar("number"),Et=e=>e!==null&&typeof e=="object",Wi=e=>e===!0||e===!1,Mt=e=>{if(rr(e)!=="object")return!1;const r=Br(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(hn in e)&&!(tr in e)},Ki=e=>{if(!Et(e)||Pt(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ji=Ce("Date"),Xi=Ce("File"),Yi=Ce("Blob"),Zi=Ce("FileList"),Qi=e=>Et(e)&&xe(e.pipe),eo=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||xe(e.append)&&((r=rr(e))==="formdata"||r==="object"&&xe(e.toString)&&e.toString()==="[object FormData]"))},to=Ce("URLSearchParams"),[ro,ao,no,so]=["ReadableStream","Request","Response","Headers"].map(Ce),io=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dt(e,r,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),ct(e))for(n=0,s=e.length;n<s;n++)r.call(null,e[n],n,e);else{if(Pt(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let d;for(n=0;n<i;n++)d=o[n],r.call(null,e[d],d,e)}}function yn(e,r){if(Pt(e))return null;r=r.toLowerCase();const a=Object.keys(e);let n=a.length,s;for(;n-- >0;)if(s=a[n],r===s.toLowerCase())return s;return null}const Ve=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$n=e=>!ot(e)&&e!==Ve;function jr(){const{caseless:e,skipUndefined:r}=$n(this)&&this||{},a={},n=(s,o)=>{const i=e&&yn(a,o)||o;Mt(a[i])&&Mt(s)?a[i]=jr(a[i],s):Mt(s)?a[i]=jr({},s):ct(s)?a[i]=s.slice():(!r||!ot(s))&&(a[i]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Dt(arguments[s],n);return a}const oo=(e,r,a,{allOwnKeys:n}={})=>(Dt(r,(s,o)=>{a&&xe(s)?e[o]=fn(s,a):e[o]=s},{allOwnKeys:n}),e),lo=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),co=(e,r,a,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),a&&Object.assign(e.prototype,a)},uo=(e,r,a,n)=>{let s,o,i;const d={};if(r=r||{},e==null)return r;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)i=s[o],(!n||n(i,e,r))&&!d[i]&&(r[i]=e[i],d[i]=!0);e=a!==!1&&Br(e)}while(e&&(!a||a(e,r))&&e!==Object.prototype);return r},mo=(e,r,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=r.length;const n=e.indexOf(r,a);return n!==-1&&n===a},po=e=>{if(!e)return null;if(ct(e))return e;let r=e.length;if(!bn(r))return null;const a=new Array(r);for(;r-- >0;)a[r]=e[r];return a},go=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&Br(Uint8Array)),fo=(e,r)=>{const n=(e&&e[tr]).call(e);let s;for(;(s=n.next())&&!s.done;){const o=s.value;r.call(e,o[0],o[1])}},ho=(e,r)=>{let a;const n=[];for(;(a=e.exec(r))!==null;)n.push(a);return n},xo=Ce("HTMLFormElement"),bo=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,s){return n.toUpperCase()+s}),ga=(({hasOwnProperty:e})=>(r,a)=>e.call(r,a))(Object.prototype),yo=Ce("RegExp"),wn=(e,r)=>{const a=Object.getOwnPropertyDescriptors(e),n={};Dt(a,(s,o)=>{let i;(i=r(s,o,e))!==!1&&(n[o]=i||s)}),Object.defineProperties(e,n)},$o=e=>{wn(e,(r,a)=>{if(xe(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=e[a];if(xe(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},wo=(e,r)=>{const a={},n=s=>{s.forEach(o=>{a[o]=!0})};return ct(e)?n(e):n(String(e).split(r)),a},vo=()=>{},No=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function jo(e){return!!(e&&xe(e.append)&&e[hn]==="FormData"&&e[tr])}const ko=e=>{const r=new Array(10),a=(n,s)=>{if(Et(n)){if(r.indexOf(n)>=0)return;if(Pt(n))return n;if(!("toJSON"in n)){r[s]=n;const o=ct(n)?[]:{};return Dt(n,(i,d)=>{const u=a(i,s+1);!ot(u)&&(o[d]=u)}),r[s]=void 0,o}}return n};return a(e,0)},Co=Ce("AsyncFunction"),So=e=>e&&(Et(e)||xe(e))&&xe(e.then)&&xe(e.catch),vn=((e,r)=>e?setImmediate:r?((a,n)=>(Ve.addEventListener("message",({source:s,data:o})=>{s===Ve&&o===a&&n.length&&n.shift()()},!1),s=>{n.push(s),Ve.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",xe(Ve.postMessage)),Po=typeof queueMicrotask<"u"?queueMicrotask.bind(Ve):typeof process<"u"&&process.nextTick||vn,Eo=e=>e!=null&&xe(e[tr]),y={isArray:ct,isArrayBuffer:xn,isBuffer:Pt,isFormData:eo,isArrayBufferView:Gi,isString:qi,isNumber:bn,isBoolean:Wi,isObject:Et,isPlainObject:Mt,isEmptyObject:Ki,isReadableStream:ro,isRequest:ao,isResponse:no,isHeaders:so,isUndefined:ot,isDate:Ji,isFile:Xi,isBlob:Yi,isRegExp:yo,isFunction:xe,isStream:Qi,isURLSearchParams:to,isTypedArray:go,isFileList:Zi,forEach:Dt,merge:jr,extend:oo,trim:io,stripBOM:lo,inherits:co,toFlatObject:uo,kindOf:rr,kindOfTest:Ce,endsWith:mo,toArray:po,forEachEntry:fo,matchAll:ho,isHTMLForm:xo,hasOwnProperty:ga,hasOwnProp:ga,reduceDescriptors:wn,freezeMethods:$o,toObjectSet:wo,toCamelCase:bo,noop:vo,toFiniteNumber:No,findKey:yn,global:Ve,isContextDefined:$n,isSpecCompliantForm:jo,toJSONObject:ko,isAsyncFn:Co,isThenable:So,setImmediate:vn,asap:Po,isIterable:Eo};function X(e,r,a,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}y.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:y.toJSONObject(this.config),code:this.code,status:this.status}}});const Nn=X.prototype,jn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{jn[e]={value:e}});Object.defineProperties(X,jn);Object.defineProperty(Nn,"isAxiosError",{value:!0});X.from=(e,r,a,n,s,o)=>{const i=Object.create(Nn);y.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError");const d=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return X.call(i,d,u,a,n,s),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",o&&Object.assign(i,o),i};const Do=null;function kr(e){return y.isPlainObject(e)||y.isArray(e)}function kn(e){return y.endsWith(e,"[]")?e.slice(0,-2):e}function fa(e,r,a){return e?e.concat(r).map(function(s,o){return s=kn(s),!a&&o?"["+s+"]":s}).join(a?".":""):r}function Io(e){return y.isArray(e)&&!e.some(kr)}const _o=y.toFlatObject(y,{},null,function(r){return/^is[A-Z]/.test(r)});function nr(e,r,a){if(!y.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,a=y.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,v){return!y.isUndefined(v[w])});const n=a.metaTokens,s=a.visitor||c,o=a.dots,i=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&y.isSpecCompliantForm(r);if(!y.isFunction(s))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(y.isDate(x))return x.toISOString();if(y.isBoolean(x))return x.toString();if(!u&&y.isBlob(x))throw new X("Blob is not supported. Use a Buffer instead.");return y.isArrayBuffer(x)||y.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function c(x,w,v){let b=x;if(x&&!v&&typeof x=="object"){if(y.endsWith(w,"{}"))w=n?w:w.slice(0,-2),x=JSON.stringify(x);else if(y.isArray(x)&&Io(x)||(y.isFileList(x)||y.endsWith(w,"[]"))&&(b=y.toArray(x)))return w=kn(w),b.forEach(function(I,S){!(y.isUndefined(I)||I===null)&&r.append(i===!0?fa([w],S,o):i===null?w:w+"[]",l(I))}),!1}return kr(x)?!0:(r.append(fa(v,w,o),l(x)),!1)}const g=[],f=Object.assign(_o,{defaultVisitor:c,convertValue:l,isVisitable:kr});function j(x,w){if(!y.isUndefined(x)){if(g.indexOf(x)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(x),y.forEach(x,function(b,h){(!(y.isUndefined(b)||b===null)&&s.call(r,b,y.isString(h)?h.trim():h,w,f))===!0&&j(b,w?w.concat(h):[h])}),g.pop()}}if(!y.isObject(e))throw new TypeError("data must be an object");return j(e),r}function ha(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function Hr(e,r){this._pairs=[],e&&nr(e,this,r)}const Cn=Hr.prototype;Cn.append=function(r,a){this._pairs.push([r,a])};Cn.toString=function(r){const a=r?function(n){return r.call(this,n,ha)}:ha;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function Ao(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sn(e,r,a){if(!r)return e;const n=a&&a.encode||Ao;y.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let o;if(s?o=s(r,a):o=y.isURLSearchParams(r)?r.toString():new Hr(r,a).toString(n),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class xa{constructor(){this.handlers=[]}use(r,a,n){return this.handlers.push({fulfilled:r,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){y.forEach(this.handlers,function(n){n!==null&&r(n)})}}const Pn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ro=typeof URLSearchParams<"u"?URLSearchParams:Hr,Oo=typeof FormData<"u"?FormData:null,To=typeof Blob<"u"?Blob:null,Fo={isBrowser:!0,classes:{URLSearchParams:Ro,FormData:Oo,Blob:To},protocols:["http","https","file","blob","url","data"]},Vr=typeof window<"u"&&typeof document<"u",Cr=typeof navigator=="object"&&navigator||void 0,Lo=Vr&&(!Cr||["ReactNative","NativeScript","NS"].indexOf(Cr.product)<0),Mo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uo=Vr&&window.location.href||"http://localhost",Bo=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vr,hasStandardBrowserEnv:Lo,hasStandardBrowserWebWorkerEnv:Mo,navigator:Cr,origin:Uo},Symbol.toStringTag,{value:"Module"})),le={...Bo,...Fo};function Ho(e,r){return nr(e,new le.classes.URLSearchParams,{visitor:function(a,n,s,o){return le.isNode&&y.isBuffer(a)?(this.append(n,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...r})}function Vo(e){return y.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function zo(e){const r={},a=Object.keys(e);let n;const s=a.length;let o;for(n=0;n<s;n++)o=a[n],r[o]=e[o];return r}function En(e){function r(a,n,s,o){let i=a[o++];if(i==="__proto__")return!0;const d=Number.isFinite(+i),u=o>=a.length;return i=!i&&y.isArray(s)?s.length:i,u?(y.hasOwnProp(s,i)?s[i]=[s[i],n]:s[i]=n,!d):((!s[i]||!y.isObject(s[i]))&&(s[i]=[]),r(a,n,s[i],o)&&y.isArray(s[i])&&(s[i]=zo(s[i])),!d)}if(y.isFormData(e)&&y.isFunction(e.entries)){const a={};return y.forEachEntry(e,(n,s)=>{r(Vo(n),s,a,0)}),a}return null}function Go(e,r,a){if(y.isString(e))try{return(r||JSON.parse)(e),y.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(e)}const It={transitional:Pn,adapter:["xhr","http","fetch"],transformRequest:[function(r,a){const n=a.getContentType()||"",s=n.indexOf("application/json")>-1,o=y.isObject(r);if(o&&y.isHTMLForm(r)&&(r=new FormData(r)),y.isFormData(r))return s?JSON.stringify(En(r)):r;if(y.isArrayBuffer(r)||y.isBuffer(r)||y.isStream(r)||y.isFile(r)||y.isBlob(r)||y.isReadableStream(r))return r;if(y.isArrayBufferView(r))return r.buffer;if(y.isURLSearchParams(r))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let d;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ho(r,this.formSerializer).toString();if((d=y.isFileList(r))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return nr(d?{"files[]":r}:r,u&&new u,this.formSerializer)}}return o||s?(a.setContentType("application/json",!1),Go(r)):r}],transformResponse:[function(r){const a=this.transitional||It.transitional,n=a&&a.forcedJSONParsing,s=this.responseType==="json";if(y.isResponse(r)||y.isReadableStream(r))return r;if(r&&y.isString(r)&&(n&&!this.responseType||s)){const i=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(r,this.parseReviver)}catch(d){if(i)throw d.name==="SyntaxError"?X.from(d,X.ERR_BAD_RESPONSE,this,null,this.response):d}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};y.forEach(["delete","get","head","post","put","patch"],e=>{It.headers[e]={}});const qo=y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wo=e=>{const r={};let a,n,s;return e&&e.split(`
`).forEach(function(i){s=i.indexOf(":"),a=i.substring(0,s).trim().toLowerCase(),n=i.substring(s+1).trim(),!(!a||r[a]&&qo[a])&&(a==="set-cookie"?r[a]?r[a].push(n):r[a]=[n]:r[a]=r[a]?r[a]+", "+n:n)}),r},ba=Symbol("internals");function xt(e){return e&&String(e).trim().toLowerCase()}function Ut(e){return e===!1||e==null?e:y.isArray(e)?e.map(Ut):String(e)}function Ko(e){const r=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)r[n[1]]=n[2];return r}const Jo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hr(e,r,a,n,s){if(y.isFunction(n))return n.call(this,r,a);if(s&&(r=a),!!y.isString(r)){if(y.isString(n))return r.indexOf(n)!==-1;if(y.isRegExp(n))return n.test(r)}}function Xo(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,a,n)=>a.toUpperCase()+n)}function Yo(e,r){const a=y.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+a,{value:function(s,o,i){return this[n].call(this,r,s,o,i)},configurable:!0})})}let be=class{constructor(r){r&&this.set(r)}set(r,a,n){const s=this;function o(d,u,l){const c=xt(u);if(!c)throw new Error("header name must be a non-empty string");const g=y.findKey(s,c);(!g||s[g]===void 0||l===!0||l===void 0&&s[g]!==!1)&&(s[g||u]=Ut(d))}const i=(d,u)=>y.forEach(d,(l,c)=>o(l,c,u));if(y.isPlainObject(r)||r instanceof this.constructor)i(r,a);else if(y.isString(r)&&(r=r.trim())&&!Jo(r))i(Wo(r),a);else if(y.isObject(r)&&y.isIterable(r)){let d={},u,l;for(const c of r){if(!y.isArray(c))throw TypeError("Object iterator must return a key-value pair");d[l=c[0]]=(u=d[l])?y.isArray(u)?[...u,c[1]]:[u,c[1]]:c[1]}i(d,a)}else r!=null&&o(a,r,n);return this}get(r,a){if(r=xt(r),r){const n=y.findKey(this,r);if(n){const s=this[n];if(!a)return s;if(a===!0)return Ko(s);if(y.isFunction(a))return a.call(this,s,n);if(y.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,a){if(r=xt(r),r){const n=y.findKey(this,r);return!!(n&&this[n]!==void 0&&(!a||hr(this,this[n],n,a)))}return!1}delete(r,a){const n=this;let s=!1;function o(i){if(i=xt(i),i){const d=y.findKey(n,i);d&&(!a||hr(n,n[d],d,a))&&(delete n[d],s=!0)}}return y.isArray(r)?r.forEach(o):o(r),s}clear(r){const a=Object.keys(this);let n=a.length,s=!1;for(;n--;){const o=a[n];(!r||hr(this,this[o],o,r,!0))&&(delete this[o],s=!0)}return s}normalize(r){const a=this,n={};return y.forEach(this,(s,o)=>{const i=y.findKey(n,o);if(i){a[i]=Ut(s),delete a[o];return}const d=r?Xo(o):String(o).trim();d!==o&&delete a[o],a[d]=Ut(s),n[d]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const a=Object.create(null);return y.forEach(this,(n,s)=>{n!=null&&n!==!1&&(a[s]=r&&y.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,a])=>r+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...a){const n=new this(r);return a.forEach(s=>n.set(s)),n}static accessor(r){const n=(this[ba]=this[ba]={accessors:{}}).accessors,s=this.prototype;function o(i){const d=xt(i);n[d]||(Yo(s,i),n[d]=!0)}return y.isArray(r)?r.forEach(o):o(r),this}};be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);y.reduceDescriptors(be.prototype,({value:e},r)=>{let a=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(n){this[a]=n}}});y.freezeMethods(be);function xr(e,r){const a=this||It,n=r||a,s=be.from(n.headers);let o=n.data;return y.forEach(e,function(d){o=d.call(a,o,s.normalize(),r?r.status:void 0)}),s.normalize(),o}function Dn(e){return!!(e&&e.__CANCEL__)}function ut(e,r,a){X.call(this,e??"canceled",X.ERR_CANCELED,r,a),this.name="CanceledError"}y.inherits(ut,X,{__CANCEL__:!0});function In(e,r,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?e(a):r(new X("Request failed with status code "+a.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Zo(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function Qo(e,r){e=e||10;const a=new Array(e),n=new Array(e);let s=0,o=0,i;return r=r!==void 0?r:1e3,function(u){const l=Date.now(),c=n[o];i||(i=l),a[s]=u,n[s]=l;let g=o,f=0;for(;g!==s;)f+=a[g++],g=g%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<r)return;const j=c&&l-c;return j?Math.round(f*1e3/j):void 0}}function ed(e,r){let a=0,n=1e3/r,s,o;const i=(l,c=Date.now())=>{a=c,s=null,o&&(clearTimeout(o),o=null),e(...l)};return[(...l)=>{const c=Date.now(),g=c-a;g>=n?i(l,c):(s=l,o||(o=setTimeout(()=>{o=null,i(s)},n-g)))},()=>s&&i(s)]}const Xt=(e,r,a=3)=>{let n=0;const s=Qo(50,250);return ed(o=>{const i=o.loaded,d=o.lengthComputable?o.total:void 0,u=i-n,l=s(u),c=i<=d;n=i;const g={loaded:i,total:d,progress:d?i/d:void 0,bytes:u,rate:l||void 0,estimated:l&&d&&c?(d-i)/l:void 0,event:o,lengthComputable:d!=null,[r?"download":"upload"]:!0};e(g)},a)},ya=(e,r)=>{const a=e!=null;return[n=>r[0]({lengthComputable:a,total:e,loaded:n}),r[1]]},$a=e=>(...r)=>y.asap(()=>e(...r)),td=le.hasStandardBrowserEnv?((e,r)=>a=>(a=new URL(a,le.origin),e.protocol===a.protocol&&e.host===a.host&&(r||e.port===a.port)))(new URL(le.origin),le.navigator&&/(msie|trident)/i.test(le.navigator.userAgent)):()=>!0,rd=le.hasStandardBrowserEnv?{write(e,r,a,n,s,o,i){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(r)}`];y.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),y.isString(n)&&d.push(`path=${n}`),y.isString(s)&&d.push(`domain=${s}`),o===!0&&d.push("secure"),y.isString(i)&&d.push(`SameSite=${i}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ad(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nd(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function _n(e,r,a){let n=!ad(r);return e&&(n||a==!1)?nd(e,r):r}const wa=e=>e instanceof be?{...e}:e;function Ke(e,r){r=r||{};const a={};function n(l,c,g,f){return y.isPlainObject(l)&&y.isPlainObject(c)?y.merge.call({caseless:f},l,c):y.isPlainObject(c)?y.merge({},c):y.isArray(c)?c.slice():c}function s(l,c,g,f){if(y.isUndefined(c)){if(!y.isUndefined(l))return n(void 0,l,g,f)}else return n(l,c,g,f)}function o(l,c){if(!y.isUndefined(c))return n(void 0,c)}function i(l,c){if(y.isUndefined(c)){if(!y.isUndefined(l))return n(void 0,l)}else return n(void 0,c)}function d(l,c,g){if(g in r)return n(l,c);if(g in e)return n(void 0,l)}const u={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:d,headers:(l,c,g)=>s(wa(l),wa(c),g,!0)};return y.forEach(Object.keys({...e,...r}),function(c){const g=u[c]||s,f=g(e[c],r[c],c);y.isUndefined(f)&&g!==d||(a[c]=f)}),a}const An=e=>{const r=Ke({},e);let{data:a,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:d}=r;if(r.headers=i=be.from(i),r.url=Sn(_n(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&i.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),y.isFormData(a)){if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(y.isFunction(a.getHeaders)){const u=a.getHeaders(),l=["content-type","content-length"];Object.entries(u).forEach(([c,g])=>{l.includes(c.toLowerCase())&&i.set(c,g)})}}if(le.hasStandardBrowserEnv&&(n&&y.isFunction(n)&&(n=n(r)),n||n!==!1&&td(r.url))){const u=s&&o&&rd.read(o);u&&i.set(s,u)}return r},sd=typeof XMLHttpRequest<"u",id=sd&&function(e){return new Promise(function(a,n){const s=An(e);let o=s.data;const i=be.from(s.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:l}=s,c,g,f,j,x;function w(){j&&j(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function b(){if(!v)return;const I=be.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),B={data:!d||d==="text"||d==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:I,config:e,request:v};In(function(_){a(_),w()},function(_){n(_),w()},B),v=null}"onloadend"in v?v.onloadend=b:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(b)},v.onabort=function(){v&&(n(new X("Request aborted",X.ECONNABORTED,e,v)),v=null)},v.onerror=function(S){const B=S&&S.message?S.message:"Network Error",k=new X(B,X.ERR_NETWORK,e,v);k.event=S||null,n(k),v=null},v.ontimeout=function(){let S=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const B=s.transitional||Pn;s.timeoutErrorMessage&&(S=s.timeoutErrorMessage),n(new X(S,B.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,e,v)),v=null},o===void 0&&i.setContentType(null),"setRequestHeader"in v&&y.forEach(i.toJSON(),function(S,B){v.setRequestHeader(B,S)}),y.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),d&&d!=="json"&&(v.responseType=s.responseType),l&&([f,x]=Xt(l,!0),v.addEventListener("progress",f)),u&&v.upload&&([g,j]=Xt(u),v.upload.addEventListener("progress",g),v.upload.addEventListener("loadend",j)),(s.cancelToken||s.signal)&&(c=I=>{v&&(n(!I||I.type?new ut(null,e,v):I),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const h=Zo(s.url);if(h&&le.protocols.indexOf(h)===-1){n(new X("Unsupported protocol "+h+":",X.ERR_BAD_REQUEST,e));return}v.send(o||null)})},od=(e,r)=>{const{length:a}=e=e?e.filter(Boolean):[];if(r||a){let n=new AbortController,s;const o=function(l){if(!s){s=!0,d();const c=l instanceof Error?l:this.reason;n.abort(c instanceof X?c:new ut(c instanceof Error?c.message:c))}};let i=r&&setTimeout(()=>{i=null,o(new X(`timeout ${r} of ms exceeded`,X.ETIMEDOUT))},r);const d=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),e=null)};e.forEach(l=>l.addEventListener("abort",o));const{signal:u}=n;return u.unsubscribe=()=>y.asap(d),u}},dd=function*(e,r){let a=e.byteLength;if(a<r){yield e;return}let n=0,s;for(;n<a;)s=n+r,yield e.slice(n,s),n=s},ld=async function*(e,r){for await(const a of cd(e))yield*dd(a,r)},cd=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:a,value:n}=await r.read();if(a)break;yield n}}finally{await r.cancel()}},va=(e,r,a,n)=>{const s=ld(e,r);let o=0,i,d=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:l,value:c}=await s.next();if(l){d(),u.close();return}let g=c.byteLength;if(a){let f=o+=g;a(f)}u.enqueue(new Uint8Array(c))}catch(l){throw d(l),l}},cancel(u){return d(u),s.return()}},{highWaterMark:2})},Na=64*1024,{isFunction:Tt}=y,ud=(({Request:e,Response:r})=>({Request:e,Response:r}))(y.global),{ReadableStream:ja,TextEncoder:ka}=y.global,Ca=(e,...r)=>{try{return!!e(...r)}catch{return!1}},md=e=>{e=y.merge.call({skipUndefined:!0},ud,e);const{fetch:r,Request:a,Response:n}=e,s=r?Tt(r):typeof fetch=="function",o=Tt(a),i=Tt(n);if(!s)return!1;const d=s&&Tt(ja),u=s&&(typeof ka=="function"?(x=>w=>x.encode(w))(new ka):async x=>new Uint8Array(await new a(x).arrayBuffer())),l=o&&d&&Ca(()=>{let x=!1;const w=new a(le.origin,{body:new ja,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!w}),c=i&&d&&Ca(()=>y.isReadableStream(new n("").body)),g={stream:c&&(x=>x.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!g[x]&&(g[x]=(w,v)=>{let b=w&&w[x];if(b)return b.call(w);throw new X(`Response type '${x}' is not supported`,X.ERR_NOT_SUPPORT,v)})});const f=async x=>{if(x==null)return 0;if(y.isBlob(x))return x.size;if(y.isSpecCompliantForm(x))return(await new a(le.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(y.isArrayBufferView(x)||y.isArrayBuffer(x))return x.byteLength;if(y.isURLSearchParams(x)&&(x=x+""),y.isString(x))return(await u(x)).byteLength},j=async(x,w)=>{const v=y.toFiniteNumber(x.getContentLength());return v??f(w)};return async x=>{let{url:w,method:v,data:b,signal:h,cancelToken:I,timeout:S,onDownloadProgress:B,onUploadProgress:k,responseType:_,headers:V,withCredentials:z="same-origin",fetchOptions:q}=An(x),$=r||fetch;_=_?(_+"").toLowerCase():"text";let R=od([h,I&&I.toAbortSignal()],S),A=null;const T=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let N;try{if(k&&l&&v!=="get"&&v!=="head"&&(N=await j(V,b))!==0){let L=new a(w,{method:"POST",body:b,duplex:"half"}),J;if(y.isFormData(b)&&(J=L.headers.get("content-type"))&&V.setContentType(J),L.body){const[ee,P]=ya(N,Xt($a(k)));b=va(L.body,Na,ee,P)}}y.isString(z)||(z=z?"include":"omit");const C=o&&"credentials"in a.prototype,G={...q,signal:R,method:v.toUpperCase(),headers:V.normalize().toJSON(),body:b,duplex:"half",credentials:C?z:void 0};A=o&&new a(w,G);let D=await(o?$(A,q):$(w,G));const M=c&&(_==="stream"||_==="response");if(c&&(B||M&&T)){const L={};["status","statusText","headers"].forEach(p=>{L[p]=D[p]});const J=y.toFiniteNumber(D.headers.get("content-length")),[ee,P]=B&&ya(J,Xt($a(B),!0))||[];D=new n(va(D.body,Na,ee,()=>{P&&P(),T&&T()}),L)}_=_||"text";let W=await g[y.findKey(g,_)||"text"](D,x);return!M&&T&&T(),await new Promise((L,J)=>{In(L,J,{data:W,headers:be.from(D.headers),status:D.status,statusText:D.statusText,config:x,request:A})})}catch(C){throw T&&T(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,x,A),{cause:C.cause||C}):X.from(C,C&&C.code,x,A)}}},pd=new Map,Rn=e=>{let r=e&&e.env||{};const{fetch:a,Request:n,Response:s}=r,o=[n,s,a];let i=o.length,d=i,u,l,c=pd;for(;d--;)u=o[d],l=c.get(u),l===void 0&&c.set(u,l=d?new Map:md(r)),c=l;return l};Rn();const zr={http:Do,xhr:id,fetch:{get:Rn}};y.forEach(zr,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const Sa=e=>`- ${e}`,gd=e=>y.isFunction(e)||e===null||e===!1;function fd(e,r){e=y.isArray(e)?e:[e];const{length:a}=e;let n,s;const o={};for(let i=0;i<a;i++){n=e[i];let d;if(s=n,!gd(n)&&(s=zr[(d=String(n)).toLowerCase()],s===void 0))throw new X(`Unknown adapter '${d}'`);if(s&&(y.isFunction(s)||(s=s.get(r))))break;o[d||"#"+i]=s}if(!s){const i=Object.entries(o).map(([u,l])=>`adapter ${u} `+(l===!1?"is not supported by the environment":"is not available in the build"));let d=a?i.length>1?`since :
`+i.map(Sa).join(`
`):" "+Sa(i[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const On={getAdapter:fd,adapters:zr};function br(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ut(null,e)}function Pa(e){return br(e),e.headers=be.from(e.headers),e.data=xr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),On.getAdapter(e.adapter||It.adapter,e)(e).then(function(n){return br(e),n.data=xr.call(e,e.transformResponse,n),n.headers=be.from(n.headers),n},function(n){return Dn(n)||(br(e),n&&n.response&&(n.response.data=xr.call(e,e.transformResponse,n.response),n.response.headers=be.from(n.response.headers))),Promise.reject(n)})}const Tn="1.13.2",sr={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{sr[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const Ea={};sr.transitional=function(r,a,n){function s(o,i){return"[Axios v"+Tn+"] Transitional option '"+o+"'"+i+(n?". "+n:"")}return(o,i,d)=>{if(r===!1)throw new X(s(i," has been removed"+(a?" in "+a:"")),X.ERR_DEPRECATED);return a&&!Ea[i]&&(Ea[i]=!0,console.warn(s(i," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(o,i,d):!0}};sr.spelling=function(r){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function hd(e,r,a){if(typeof e!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const o=n[s],i=r[o];if(i){const d=e[o],u=d===void 0||i(d,o,e);if(u!==!0)throw new X("option "+o+" must be "+u,X.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const Bt={assertOptions:hd,validators:sr},De=Bt.validators;let Ge=class{constructor(r){this.defaults=r||{},this.interceptors={request:new xa,response:new xa}}async request(r,a){try{return await this._request(r,a)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Ke(this.defaults,a);const{transitional:n,paramsSerializer:s,headers:o}=a;n!==void 0&&Bt.assertOptions(n,{silentJSONParsing:De.transitional(De.boolean),forcedJSONParsing:De.transitional(De.boolean),clarifyTimeoutError:De.transitional(De.boolean)},!1),s!=null&&(y.isFunction(s)?a.paramsSerializer={serialize:s}:Bt.assertOptions(s,{encode:De.function,serialize:De.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Bt.assertOptions(a,{baseUrl:De.spelling("baseURL"),withXsrfToken:De.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let i=o&&y.merge(o.common,o[a.method]);o&&y.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),a.headers=be.concat(i,o);const d=[];let u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(u=u&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});const l=[];this.interceptors.response.forEach(function(w){l.push(w.fulfilled,w.rejected)});let c,g=0,f;if(!u){const x=[Pa.bind(this),void 0];for(x.unshift(...d),x.push(...l),f=x.length,c=Promise.resolve(a);g<f;)c=c.then(x[g++],x[g++]);return c}f=d.length;let j=a;for(;g<f;){const x=d[g++],w=d[g++];try{j=x(j)}catch(v){w.call(this,v);break}}try{c=Pa.call(this,j)}catch(x){return Promise.reject(x)}for(g=0,f=l.length;g<f;)c=c.then(l[g++],l[g++]);return c}getUri(r){r=Ke(this.defaults,r);const a=_n(r.baseURL,r.url,r.allowAbsoluteUrls);return Sn(a,r.params,r.paramsSerializer)}};y.forEach(["delete","get","head","options"],function(r){Ge.prototype[r]=function(a,n){return this.request(Ke(n||{},{method:r,url:a,data:(n||{}).data}))}});y.forEach(["post","put","patch"],function(r){function a(n){return function(o,i,d){return this.request(Ke(d||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Ge.prototype[r]=a(),Ge.prototype[r+"Form"]=a(!0)});let xd=class Fn{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const i=new Promise(d=>{n.subscribe(d),o=d}).then(s);return i.cancel=function(){n.unsubscribe(o)},i},r(function(o,i,d){n.reason||(n.reason=new ut(o,i,d),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const r=new AbortController,a=n=>{r.abort(n)};return this.subscribe(a),r.signal.unsubscribe=()=>this.unsubscribe(a),r.signal}static source(){let r;return{token:new Fn(function(s){r=s}),cancel:r}}};function bd(e){return function(a){return e.apply(null,a)}}function yd(e){return y.isObject(e)&&e.isAxiosError===!0}const Sr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sr).forEach(([e,r])=>{Sr[r]=e});function Ln(e){const r=new Ge(e),a=fn(Ge.prototype.request,r);return y.extend(a,Ge.prototype,r,{allOwnKeys:!0}),y.extend(a,r,null,{allOwnKeys:!0}),a.create=function(s){return Ln(Ke(e,s))},a}const re=Ln(It);re.Axios=Ge;re.CanceledError=ut;re.CancelToken=xd;re.isCancel=Dn;re.VERSION=Tn;re.toFormData=nr;re.AxiosError=X;re.Cancel=re.CanceledError;re.all=function(r){return Promise.all(r)};re.spread=bd;re.isAxiosError=yd;re.mergeConfig=Ke;re.AxiosHeaders=be;re.formToJSON=e=>En(y.isHTMLForm(e)?new FormData(e):e);re.getAdapter=On.getAdapter;re.HttpStatusCode=Sr;re.default=re;const{Axios:U0,AxiosError:B0,CanceledError:H0,isCancel:V0,CancelToken:z0,VERSION:G0,all:q0,Cancel:W0,isAxiosError:K0,spread:J0,toFormData:X0,AxiosHeaders:Y0,HttpStatusCode:Z0,formToJSON:Q0,getAdapter:eu,mergeConfig:tu}=re,$d="http://localhost:8080/api",ne=re.create({baseURL:$d,headers:{"Content-Type":"application/json"}}),wd={register:e=>ne.post("/users/register",e),authenticate:(e,r)=>ne.post("/users/authenticate",{email:e,password:r}),getUserById:e=>ne.get(`/users/${e}`),updateUser:(e,r)=>ne.put(`/users/${e}`,r),changePassword:(e,r,a)=>ne.post(`/users/${e}/change-password`,{currentPassword:r,newPassword:a}),getAllUsers:()=>ne.get("/users")},Mn={getAllCars:e=>ne.get("/cars",{params:e}),getCarById:e=>ne.get(`/cars/${e}`),addCar:e=>ne.post("/cars",e),updateCar:(e,r)=>ne.put(`/cars/${e}`,r),deleteCar:e=>ne.delete(`/cars/${e}`),getCarsByOwner:e=>ne.get(`/cars/owner/${e}`)},vd={createReservation:e=>ne.post("/reservations",e),getReservationById:e=>ne.get(`/reservations/${e}`),getReservationsByUser:e=>ne.get(`/reservations/user/${e}`),getReservationsByCar:e=>ne.get(`/reservations/car/${e}`),updateReservation:(e,r)=>ne.put(`/reservations/${e}`,r),cancelReservation:e=>ne.delete(`/reservations/${e}`),getAllReservations:()=>ne.get("/reservations")},ce=Object.freeze(Object.defineProperty({__proto__:null,carAPI:Mn,reservationAPI:vd,userAPI:wd},Symbol.toStringTag,{value:"Module"})),Nd=m.memo(function({car:r,onClick:a}){return r.availability==="available"||r.available===!0||r.availability,t.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"group bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg transition-all duration-300 overflow-hidden border border-gray-200/30 dark:border-purple-800/20 flex flex-col h-full cursor-pointer",onClick:()=>a?.(r),children:[t.jsx("div",{className:"px-5 pt-4 pb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-semibold",children:r.owner?r.owner.charAt(0).toUpperCase():"O"}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-white font-medium truncate transition-colors duration-300",title:r.owner,children:r.owner})]})}),t.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none flex items-end justify-center pb-6",children:t.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/90 dark:bg-indigo-950/90 backdrop-blur-sm rounded-full shadow-lg transition-colors duration-300",children:[t.jsx("span",{className:"text-sm font-semibold text-indigo-600",children:"View details"}),t.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full animate-pulse"})]})}),r.mainImage?t.jsx("img",{src:r.mainImage,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",decoding:"async"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-2 bg-gradient-to-br from-indigo-200 to-purple-200 rounded-xl"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No image"})]})}),r.__distanceKm!==void 0&&t.jsx("div",{className:"absolute top-3 left-3 z-20",children:t.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-semibold rounded-full shadow-lg backdrop-blur-sm",children:[t.jsx(Tr,{className:"w-3 h-3"}),r.__distanceKm," km"]})})]}),t.jsxs("div",{className:"flex-1 p-5 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white line-clamp-1 transition-colors duration-300",children:r.name}),t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-white transition-colors duration-300",children:[t.jsx(ze,{className:"w-4 h-4 text-indigo-500 dark:text-white"}),t.jsx("span",{children:r.city})]})]}),t.jsxs("div",{className:"flex gap-1.5 mb-3",children:[t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(bt,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsxs("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:[r.seats," seats"]})]}),t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(yt,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsx("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:r.fuel})]}),t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(We,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsx("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:r.gearbox})]})]}),t.jsx("div",{className:"text-gray-900 dark:text-white transition-colors duration-300",children:t.jsxs("p",{className:"text-lg font-semibold",children:[t.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-purple-200 dark:to-purple-300 bg-clip-text text-transparent align-middle",children:r.pricePerDay}),t.jsx("span",{className:"ml-1 text-sm font-medium align-middle text-gray-600 dark:text-white transition-colors duration-300",children:"MAD"}),t.jsx("span",{className:"ml-2 text-sm font-medium align-middle text-gray-500 dark:text-white transition-colors duration-300",children:"per day"})]})})]})]})}),jd=m.memo(function({cars:r,onFilter:a}){const[n,s]=m.useState({availability:"all",location:"all",brand:"",seats:"",type:"",fuel:"",priceMin:"",priceMax:"",priceSort:"",timesRented:"",rating:"",dateFrom:"",dateTo:""}),[o,i]=m.useState(!1),[d,u]=m.useState(null),[l,c]=m.useState(!1),[g,f]=m.useState(!1),[j,x]=m.useState(!1),[w,v]=m.useState(!1),[b,h]=m.useState(""),[I,S]=m.useState({top:0,left:0}),B=m.useRef(null),k=m.useRef(null),_=m.useRef(null),V=m.useRef(null),z=m.useRef(null),q=m.useRef(null),$=Array.from(new Set(r.map(p=>p.brand))).sort(),R=Array.from(new Set(r.map(p=>p.city))).sort(),A=$.filter(p=>p.toLowerCase().includes(b.toLowerCase())),T=R.filter(p=>p.toLowerCase().includes(b.toLowerCase()));m.useEffect(()=>{if(g&&V.current){const p=()=>{if(V.current){const E=V.current.getBoundingClientRect();S({top:E.bottom+window.scrollY+8,left:E.left+window.scrollX})}};return p(),window.addEventListener("scroll",p,!0),window.addEventListener("resize",p),()=>{window.removeEventListener("scroll",p,!0),window.removeEventListener("resize",p)}}},[g]),m.useEffect(()=>{const p=E=>{B.current&&!B.current.contains(E.target)&&c(!1),(!k.current||!k.current.contains(E.target))&&(!_.current||!_.current.contains(E.target))&&(!V.current||!V.current.contains(E.target))&&f(!1),z.current&&!z.current.contains(E.target)&&x(!1),q.current&&!q.current.contains(E.target)&&v(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]),m.useEffect(()=>{d||a({availability:"all",location:"all",brand:"",seats:"",type:"",fuel:"",priceMin:"",priceMax:"",priceSort:"",timesRented:"",rating:"",dateFrom:"",dateTo:""})},[d,a]);const N=m.useCallback(p=>{s(E=>({...E,location:p})),f(!1)},[]),C=m.useCallback(p=>{s(E=>({...E,brand:p})),c(!1),h("")},[]),G=m.useCallback(p=>{p&&p.preventDefault(),u({...n});const E={availability:n.availability,location:n.location,brand:n.brand,seats:n.seats,type:n.type,fuel:n.fuel,priceMin:n.priceMin,priceMax:n.priceMax,priceSort:n.priceSort,timesRented:n.timesRented,rating:n.rating,dateFrom:n.dateFrom,dateTo:n.dateTo};a(E),i(!1),Z.success("Filters applied!")},[n,a]),D=m.useCallback(p=>{p&&p.preventDefault(),s({availability:"all",location:"all",brand:"",seats:"",type:"",fuel:"",priceMin:"",priceMax:"",priceSort:"",timesRented:"",rating:"",dateFrom:"",dateTo:""}),u(null),h(""),c(!1),f(!1),x(!1),v(!1),Z.success("Filters reset")},[]),M=m.useCallback(p=>{p&&p.preventDefault(),i(!o),c(!1),f(!1),x(!1),v(!1)},[o]),W=d?JSON.stringify(n)!==JSON.stringify(d):n.availability!=="all"||n.location!=="all"||n.brand!==""||n.seats!==""||n.type!==""||n.fuel!==""||n.priceMin!==""||n.priceMax!==""||n.priceSort!==""||n.timesRented!==""||n.rating!==""||n.dateFrom!==""||n.dateTo!=="",L=d?d.availability!=="all"||d.location!=="all"||d.brand!==""||d.seats!==""||d.type!==""||d.fuel!==""||d.priceMin!==""||d.priceMax!==""||d.priceSort!==""||d.timesRented!==""||d.rating!==""||d.dateFrom!==""||d.dateTo!=="":!1,J=()=>n.location==="all"?"All cities":n.location,ee=()=>n.priceSort==="low-to-high"?"Lower to Higher":n.priceSort==="high-to-low"?"Higher to Lower":n.priceSort==="range"?n.priceMin&&n.priceMax?`${n.priceMin} - ${n.priceMax}`:n.priceMin?`From ${n.priceMin}`:n.priceMax?`Up to ${n.priceMax}`:"Range":"Price",P=()=>n.dateFrom&&n.dateTo?`${new Date(n.dateFrom).toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${new Date(n.dateTo).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:n.dateFrom?`From ${new Date(n.dateFrom).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:n.dateTo?`Until ${new Date(n.dateTo).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"Date";return t.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.15},className:"bg-white dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg mb-6 border border-gray-200 dark:border-purple-800/30 transition-colors duration-300 overflow-visible",onClick:p=>p.stopPropagation(),children:[t.jsxs("div",{className:"p-4 overflow-visible relative",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 overflow-visible relative",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(gs,{className:"w-5 h-5 text-purple-600 dark:text-white"}),t.jsx("h3",{className:"font-semibold text-purple-600 dark:text-white",children:"Filters"})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2 flex-1 justify-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-500 dark:text-white",children:"Date:"}),t.jsxs("div",{className:"relative",ref:q,children:[t.jsxs("button",{onClick:()=>v(!w),className:"px-3 py-1 bg-blue-50 dark:bg-blue-900/40 dark:text-blue-300 text-blue-700 rounded-lg font-medium hover:bg-blue-100 dark:hover:bg-blue-900/60 transition-colors text-xs flex items-center gap-1",children:[P(),t.jsx(Ie,{className:"w-3 h-3"})]}),t.jsx(me,{children:w&&t.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 mt-2 w-80 bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 p-4 transition-colors duration-300",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"From"}),t.jsx("input",{type:"date",value:n.dateFrom,onChange:p=>s(E=>({...E,dateFrom:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"To"}),t.jsx("input",{type:"date",value:n.dateTo,onChange:p=>s(E=>({...E,dateTo:p.target.value})),min:n.dateFrom||void 0,className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]}),(n.dateFrom||n.dateTo)&&t.jsx("button",{onClick:()=>{s(p=>({...p,dateFrom:"",dateTo:""}))},className:"w-full px-3 py-2 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:"Clear dates"})]})})})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm",children:[t.jsx("span",{className:"text-gray-500 dark:text-white",children:"Price:"}),t.jsxs("div",{className:"relative",ref:z,children:[t.jsxs("button",{onClick:()=>x(!j),className:"px-3 py-1 bg-orange-50 dark:bg-orange-900/40 dark:text-orange-300 text-orange-700 rounded-lg font-medium hover:bg-orange-100 dark:hover:bg-orange-900/60 transition-colors text-xs flex items-center gap-1",children:[ee(),t.jsx(Ie,{className:"w-3 h-3"})]}),t.jsx(me,{children:j&&t.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute z-50 mt-2 w-64 bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 overflow-hidden transition-colors duration-300",children:t.jsxs("div",{className:"p-2",children:[t.jsxs("button",{onClick:()=>{s(p=>({...p,priceSort:"low-to-high",priceMin:"",priceMax:""})),x(!1)},className:`w-full px-4 py-3 text-left hover:bg-orange-50 dark:hover:bg-orange-900/40 transition-colors flex items-center justify-between ${n.priceSort==="low-to-high"?"bg-orange-50 dark:bg-orange-900/40 text-orange-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-medium",children:"Lower to Higher"}),n.priceSort==="low-to-high"&&t.jsx(Ee,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]}),t.jsxs("button",{onClick:()=>{s(p=>({...p,priceSort:"high-to-low",priceMin:"",priceMax:""})),x(!1)},className:`w-full px-4 py-3 text-left hover:bg-orange-50 dark:hover:bg-orange-900/40 transition-colors flex items-center justify-between ${n.priceSort==="high-to-low"?"bg-orange-50 dark:bg-orange-900/40 text-orange-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-medium",children:"Higher to Lower"}),n.priceSort==="high-to-low"&&t.jsx(Ee,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]}),t.jsxs("div",{className:"border-t border-purple-200/30 dark:border-purple-700/30 mt-1 pt-1",children:[t.jsxs("button",{onClick:()=>{s(p=>({...p,priceSort:"range"}))},className:`w-full px-4 py-3 text-left hover:bg-orange-50 dark:hover:bg-orange-900/40 transition-colors flex items-center justify-between ${n.priceSort==="range"?"bg-orange-50 dark:bg-orange-900/40 text-orange-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-medium",children:"Range"}),n.priceSort==="range"&&t.jsx(Ee,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]}),n.priceSort==="range"&&t.jsxs("div",{className:"px-4 pb-3 space-y-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"Min"}),t.jsx("input",{type:"number",placeholder:"Min price",value:n.priceMin,onChange:p=>s(E=>({...E,priceMin:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"Max"}),t.jsx("input",{type:"number",placeholder:"Max price",value:n.priceMax,onChange:p=>s(E=>({...E,priceMax:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]})]})]})]})})})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-2 text-sm relative overflow-visible",children:[t.jsx("span",{className:"text-gray-500 dark:text-white",children:"City:"}),t.jsxs("div",{className:"relative overflow-visible",ref:_,children:[t.jsxs("button",{ref:V,onClick:()=>{if(V.current){const p=V.current.getBoundingClientRect();S({top:p.bottom+window.scrollY+8,left:p.left+window.scrollX})}f(!g)},className:"px-3 py-1 bg-green-50 dark:bg-green-900/40 dark:text-green-300 text-green-700 rounded-lg font-medium hover:bg-green-100 dark:hover:bg-green-900/60 transition-colors text-xs flex items-center gap-1",children:[J(),t.jsx(Ie,{className:"w-3 h-3"})]}),g&&typeof document<"u"&&Za.createPortal(t.jsx(me,{children:g&&t.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},style:{position:"fixed",top:`${I.top}px`,left:`${I.left}px`,zIndex:9999},className:"w-64 bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 max-h-64 overflow-hidden transition-colors duration-300",ref:_,children:[t.jsx("div",{className:"p-3 border-b border-purple-200/30 dark:border-purple-700/30",children:t.jsxs("div",{className:"relative",children:[t.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white"}),t.jsx("input",{type:"text",value:b,onChange:p=>h(p.target.value),placeholder:"Search for a city...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white",autoFocus:!0})]})}),t.jsxs("div",{className:"overflow-y-auto max-h-48",children:[t.jsxs("button",{onClick:()=>N("all"),className:`w-full px-4 py-3 text-left hover:bg-green-50 dark:hover:bg-green-900/30 transition-colors flex items-center justify-between ${n.location==="all"?"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-bold",children:"All cities"}),n.location==="all"&&t.jsx(Ee,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),T.map(p=>t.jsxs("button",{onClick:()=>N(p),className:`w-full px-4 py-3 text-left hover:bg-green-50 dark:hover:bg-green-900/30 transition-colors flex items-center justify-between ${n.location===p?"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-bold",children:p}),n.location===p&&t.jsx(Ee,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]},p)),T.length===0&&t.jsx("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-white",children:"No city found"})]})]})}),document.body)]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[L&&t.jsx(O.button,{whileTap:{scale:.95},onClick:D,className:"p-2 text-gray-500 dark:text-white hover:text-red-600 transition-colors",title:"Reset",children:t.jsx(na,{className:"w-4 h-4"})}),t.jsxs(O.button,{whileTap:{scale:.95},onClick:M,className:"px-4 py-2 bg-purple-50 dark:bg-purple-900/40 dark:text-purple-300 text-purple-600 rounded-xl font-medium flex items-center gap-2 hover:bg-purple-100 dark:hover:bg-purple-900/60 transition-colors duration-150 text-sm",children:[t.jsx("span",{children:o?"Close":"Other preferences"}),t.jsx(Ie,{className:`w-4 h-4 transition-transform ${o?"rotate-180":""}`})]})]})]}),L&&d&&t.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-purple-200/30 dark:border-purple-700/30",children:[d.availability!=="all"&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-white dark:text-gray-700 text-blue-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(je,{className:"w-3 h-3"}),"Available",t.jsx("button",{onClick:()=>s(p=>({...p,availability:"all"})),className:"hover:text-blue-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.location!=="all"&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-white dark:text-gray-700 text-green-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(ze,{className:"w-3 h-3"}),d.location,t.jsx("button",{onClick:()=>s(p=>({...p,location:"all"})),className:"hover:text-green-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),(d.dateFrom||d.dateTo)&&t.jsxs("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-white dark:text-gray-700 text-indigo-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(je,{className:"w-3 h-3"}),d.dateFrom&&d.dateTo?`${new Date(d.dateFrom).toLocaleDateString()} - ${new Date(d.dateTo).toLocaleDateString()}`:d.dateFrom?`From ${new Date(d.dateFrom).toLocaleDateString()}`:`Until ${new Date(d.dateTo).toLocaleDateString()}`,t.jsx("button",{onClick:()=>s(p=>({...p,dateFrom:"",dateTo:""})),className:"hover:text-indigo-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.priceSort&&t.jsxs("span",{className:"px-2 py-1 bg-orange-100 dark:bg-white dark:text-gray-700 text-orange-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(fs,{className:"w-3 h-3"}),d.priceSort==="low-to-high"?"Lower to Higher":d.priceSort==="high-to-low"?"Higher to Lower":d.priceSort==="range"&&(d.priceMin||d.priceMax)?`${d.priceMin||"0"} - ${d.priceMax||"âˆž"}`:"Price",t.jsx("button",{onClick:()=>s(p=>({...p,priceSort:"",priceMin:"",priceMax:""})),className:"hover:text-orange-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.brand&&t.jsxs("span",{className:"px-2 py-1 bg-purple-100 dark:bg-white dark:text-gray-700 text-purple-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(wr,{className:"w-3 h-3"}),d.brand,t.jsx("button",{onClick:()=>s(p=>({...p,brand:""})),className:"hover:text-purple-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.seats&&t.jsxs("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-white dark:text-gray-700 text-indigo-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(bt,{className:"w-3 h-3"}),d.seats," seats",t.jsx("button",{onClick:()=>s(p=>({...p,seats:""})),className:"hover:text-indigo-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.type&&t.jsxs("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-white dark:text-gray-700 text-indigo-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(We,{className:"w-3 h-3"}),d.type==="manual"?"Manual":"Automatic",t.jsx("button",{onClick:()=>s(p=>({...p,type:""})),className:"hover:text-indigo-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.fuel&&t.jsxs("span",{className:"px-2 py-1 bg-orange-100 dark:bg-white dark:text-gray-700 text-orange-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(yt,{className:"w-3 h-3"}),d.fuel==="diesel"?"Diesel":"Petrol",t.jsx("button",{onClick:()=>s(p=>({...p,fuel:""})),className:"hover:text-orange-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]}),d.timesRented&&t.jsxs("span",{className:"px-2 py-1 bg-teal-100 dark:bg-white dark:text-gray-700 text-teal-700 rounded-full text-xs font-medium flex items-center gap-1 border border-purple-200/30 dark:border-purple-700/30",children:[t.jsx(sa,{className:"w-3 h-3"}),d.timesRented==="most"?"Most Rented":"Least Rented",t.jsx("button",{onClick:()=>s(p=>({...p,timesRented:""})),className:"hover:text-teal-900 dark:hover:text-gray-500",children:t.jsx(he,{className:"w-3 h-3"})})]})]})]}),t.jsxs(me,{children:[l&&t.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},ref:B,className:"absolute z-50 mt-2 w-full max-w-sm bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 max-h-64 overflow-hidden transition-colors duration-300",children:[t.jsx("div",{className:"p-3 border-b border-purple-200/30 dark:border-purple-700/30",children:t.jsxs("div",{className:"relative",children:[t.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white"}),t.jsx("input",{type:"text",value:b,onChange:p=>h(p.target.value),placeholder:"Search for a brand...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white",autoFocus:!0})]})}),t.jsx("div",{className:"overflow-y-auto max-h-48",children:A.length>0?A.map(p=>t.jsxs("button",{onClick:()=>C(p),className:`w-full px-4 py-3 text-left hover:bg-purple-50 transition-colors flex items-center justify-between ${n.brand===p?"bg-purple-50 dark:bg-purple-900/40 text-purple-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsx("span",{className:"font-medium",children:p}),n.brand===p&&t.jsx(Ee,{className:"w-4 h-4 text-purple-600"})]},p)):t.jsx("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-white",children:"No brand found"})}),t.jsx("div",{className:"p-3 border-t border-purple-200/30 dark:border-purple-700/30",children:t.jsx("button",{onClick:()=>C(""),className:"w-full px-4 py-2 text-center text-purple-600 font-medium hover:bg-purple-50 rounded-lg transition-colors",children:"All brands"})})]}),g&&t.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},ref:k,className:"md:hidden absolute z-[9999] mt-2 w-full max-w-sm bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 max-h-64 overflow-hidden transition-colors duration-300",children:[t.jsx("div",{className:"p-3 border-b border-purple-200/30 dark:border-purple-700/30",children:t.jsxs("div",{className:"relative",children:[t.jsx(Me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white"}),t.jsx("input",{type:"text",value:b,onChange:p=>h(p.target.value),placeholder:"Search for a city...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white",autoFocus:!0})]})}),t.jsxs("div",{className:"overflow-y-auto max-h-48",children:[t.jsxs("button",{onClick:()=>N("all"),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center justify-between ${n.location==="all"?"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(hs,{className:"w-4 h-4"}),t.jsx("span",{className:"font-bold",children:"All cities"})]}),n.location==="all"&&t.jsx(Ee,{className:"w-4 h-4 text-green-600"})]}),T.length>0?T.map(p=>t.jsxs("button",{onClick:()=>N(p),className:`w-full px-4 py-3 text-left hover:bg-green-50 transition-colors flex items-center justify-between ${n.location===p?"bg-green-50 dark:bg-green-900/40 text-green-700 dark:text-white":"text-gray-700 dark:text-white"}`,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx("span",{className:"font-bold",children:p})]}),n.location===p&&t.jsx(Ee,{className:"w-4 h-4 text-green-600"})]},p)):t.jsx("div",{className:"px-4 py-8 text-center text-gray-500 dark:text-white",children:"No city found"})]})]})]}),t.jsx(me,{children:o&&t.jsx(O.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.15},className:"overflow-hidden border-t border-purple-200/30 dark:border-purple-700/30",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsxs("div",{className:"flex-1 space-y-6 md:pr-6 md:border-r md:border-purple-200/30 md:dark:border-purple-700/30",children:[t.jsxs("div",{className:"space-y-2 md:hidden",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx("span",{children:"City"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:n.location==="all"?"":n.location,onChange:p=>{const E=p.target.value;N(E!==""&&E!=="all"?E:"all")},className:"w-full px-3 py-2 text-sm border border-gray-200/50 dark:border-purple-700/30 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none appearance-none bg-white/80 dark:bg-indigo-900/60 backdrop-blur-sm text-gray-900 dark:text-purple-100 transition-colors duration-300",children:[t.jsx("option",{value:"",children:"All cities"}),R.map(p=>t.jsx("option",{value:p,className:"text-gray-700 dark:text-white dark:bg-gray-700",children:p},p))]}),t.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white pointer-events-none"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(je,{className:"w-4 h-4"}),t.jsx("span",{children:"Availability"})]}),t.jsx("div",{className:"flex gap-2",children:["all","available"].map(p=>{const E={all:"All",available:"Available"};return t.jsx("button",{onClick:()=>s(H=>({...H,availability:p})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.availability===p?p==="all"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-green-100 text-green-700 border border-green-200":"bg-gray-100 dark:bg-gray-800/40 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800/60"}`,children:E[p]},p)})}),t.jsxs("div",{className:"flex gap-2 items-end",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"From"}),t.jsx("input",{type:"date",value:n.dateFrom,onChange:p=>s(E=>({...E,dateFrom:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"block text-xs text-gray-500 dark:text-white mb-1",children:"To"}),t.jsx("input",{type:"date",value:n.dateTo,onChange:p=>s(E=>({...E,dateTo:p.target.value})),min:n.dateFrom||void 0,className:"w-full px-3 py-2 text-sm border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none bg-white dark:bg-gray-700 dark:text-white"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(wr,{className:"w-4 h-4"}),t.jsx("span",{children:"Brand"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:n.brand,onChange:p=>s(E=>({...E,brand:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200/50 dark:border-purple-700/30 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none appearance-none bg-white/80 dark:bg-indigo-900/60 backdrop-blur-sm text-gray-900 dark:text-purple-100 transition-colors duration-300",children:[t.jsx("option",{value:"",children:"All brands"}),$.map(p=>t.jsx("option",{value:p,className:"text-gray-700 dark:text-white dark:bg-gray-700",children:p},p))]}),t.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white pointer-events-none"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(bt,{className:"w-4 h-4"}),t.jsx("span",{children:"Seats"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:n.seats,onChange:p=>s(E=>({...E,seats:p.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-200/50 dark:border-purple-700/30 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none appearance-none bg-white/80 dark:bg-indigo-900/60 backdrop-blur-sm text-gray-900 dark:text-purple-100 transition-colors duration-300",children:[t.jsx("option",{value:"",children:"All seats"}),t.jsx("option",{value:"2",children:"2 seats"}),t.jsx("option",{value:"4",children:"4 seats"}),t.jsx("option",{value:"5",children:"5 seats"}),t.jsx("option",{value:"7",children:"7 seats"}),t.jsx("option",{value:"8",children:"8+ seats"})]}),t.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-white pointer-events-none"})]})]})]}),t.jsxs("div",{className:"flex-1 space-y-6 md:pl-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(We,{className:"w-4 h-4"}),t.jsx("span",{children:"Type"})]}),t.jsx("div",{className:"flex gap-2",children:["","manual","automatic"].map(p=>{const E={"":"All",manual:"Manual",automatic:"Automatic"};return t.jsx("button",{onClick:()=>s(H=>({...H,type:p})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.type===p?"bg-indigo-100 text-indigo-700 border border-indigo-200":"bg-gray-100 dark:bg-gray-800/40 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800/60"}`,children:E[p]},p)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(yt,{className:"w-4 h-4"}),t.jsx("span",{children:"Fuel Type"})]}),t.jsx("div",{className:"flex gap-2",children:["","diesel","petrol"].map(p=>{const E={"":"All",diesel:"Diesel",petrol:"Petrol"};return t.jsx("button",{onClick:()=>s(H=>({...H,fuel:p})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.fuel===p?"bg-orange-100 text-orange-700 border border-orange-200":"bg-gray-100 dark:bg-gray-800/40 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800/60"}`,children:E[p]},p)})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-white",children:[t.jsx(sa,{className:"w-4 h-4"}),t.jsx("span",{children:"Times Rented"})]}),t.jsx("div",{className:"flex gap-2",children:["","most","least"].map(p=>{const E={"":"All",most:"Most Rented",least:"Least Rented"};return t.jsx("button",{onClick:()=>s(H=>({...H,timesRented:p})),className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all ${n.timesRented===p?"bg-teal-100 text-teal-700 border border-teal-200":"bg-gray-100 dark:bg-gray-800/40 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800/60"}`,children:E[p]},p)})})]})]})]}),t.jsx("div",{className:"pt-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(O.button,{whileTap:{scale:.98},onClick:G,disabled:!W,className:`flex-1 px-4 py-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 ${W?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[t.jsx(Ee,{className:"w-4 h-4"}),t.jsx("span",{children:"Apply"})]}),L&&t.jsxs(O.button,{whileTap:{scale:.98},onClick:D,className:"px-4 py-3 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-xl font-medium text-sm flex items-center justify-center gap-2 transition-colors",children:[t.jsx(na,{className:"w-4 h-4"}),t.jsx("span",{children:"Reset"})]})]})})]})})}),!o&&W&&t.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"px-4 pb-4",children:t.jsxs(O.button,{whileTap:{scale:.98},onClick:G,className:"w-full px-4 py-3 bg-indigo-600 text-white rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:bg-indigo-700 shadow-md",children:[t.jsx(Ee,{className:"w-4 h-4"}),t.jsx("span",{children:"Apply filters"})]})})]})});function Ft(e){return e*Math.PI/180}function kd(e,r,a,n){const o=Ft(a-e),i=Ft(n-r),d=Math.sin(o/2)*Math.sin(o/2)+Math.cos(Ft(e))*Math.cos(Ft(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}const Cd=m.lazy(()=>ie(()=>import("./DetailsModal-BgND9bir.js"),__vite__mapDeps([0,1,2,3])));function Un({isEmbedded:e=!1,onCarSelect:r}){const[a,n]=m.useState([]),[s,o]=m.useState(!0);m.useEffect(()=>{(async()=>{try{o(!0);const b=((await Mn.getAllCars()).data||[]).map(h=>({id:h.id,name:h.name,brand:h.brand,pricePerDay:typeof h.pricePerDay=="number"?h.pricePerDay:parseFloat(h.pricePerDay)||0,city:h.city,availability:h.availability,owner:h.ownerName,mainImage:h.mainImageUrl||"",images:h.imagesUrl||[],seats:h.seats,fuel:h.fuelType,gearbox:h.gearbox,latitude:h.latitude,longitude:h.longitude}));n(b)}catch(v){console.error("Error loading cars:",v),n([])}finally{o(!1)}})()},[]);const[i,d]=m.useState({availability:"all",location:"all",brand:"",userCoords:null,radiusKm:50}),[u,l]=m.useState(null),c=m.useCallback(w=>{d(v=>({...v,...w}))},[]),g=m.useMemo(()=>{let w=a.slice();if(i.availability!=="all"&&(w=w.filter(v=>v.availability===i.availability)),i.brand&&(w=w.filter(v=>v.brand===i.brand)),i.location!=="all"){if(i.location==="nearest"&&i.userCoords)return w.map(b=>{const h=b.latitude??b.coords?.lat??b.lat,I=b.longitude??b.coords?.lng??b.longitude;return{c:b,distKm:kd(i.userCoords.lat,i.userCoords.lng,h,I)}}).filter(b=>b.distKm<=(i.radiusKm??50)).sort((b,h)=>b.distKm-h.distKm).map(b=>({...b.c,__distanceKm:Number(b.distKm.toFixed(2))}));i.location!=="nearest"&&(w=w.filter(v=>v.city===i.location))}return w},[a,i]),f=m.useCallback(w=>{l(w)},[]),j=m.useCallback(()=>{l(null)},[]),x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:g.length>10?.01:.03}}};return t.jsx("div",{className:`${e?"py-4 px-4 sm:px-6 lg:px-8":"min-h-screen py-8 px-4 sm:px-6 lg:px-8"} ${e?"":"bg-gray-50 dark:bg-[#1a0f24]"} text-gray-900 dark:text-white transition-colors duration-300`,onClick:w=>{w.stopPropagation()},children:t.jsxs("div",{className:`${e?"w-full":"max-w-7xl"} mx-auto`,children:[t.jsx(jd,{cars:a,onFilter:c}),t.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15},className:"mb-6 flex items-center justify-between flex-wrap gap-4",children:[t.jsx("div",{className:"flex items-center gap-3",children:i.location==="nearest"&&i.userCoords?t.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-indigo-100 dark:bg-indigo-900/40 dark:text-indigo-300 text-indigo-700 rounded-xl font-semibold transition-colors duration-300",children:[t.jsx(Tr,{className:"w-5 h-5"}),t.jsxs("span",{children:["Sorted by distance â€” ",i.radiusKm," km radius"]})]}):t.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800/40 dark:text-white text-gray-700 rounded-xl font-semibold transition-colors duration-300",children:[t.jsx(Me,{className:"w-5 h-5 dark:text-white"}),t.jsxs("span",{children:[g.length," ",g.length===1?"vehicle found":"vehicles found"]})]})}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.availability!=="all"&&t.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:i.availability==="available"?"Available only":"Reserved only"}),i.location!=="all"&&i.location!=="nearest"&&t.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:["City: ",i.location]}),i.brand&&t.jsxs("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:["Brand: ",i.brand]})]})]}),s&&t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gray-200 rounded-full mb-4",children:t.jsx(Me,{className:"w-12 h-12 text-gray-400 animate-pulse"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Loading cars..."})]}),!s&&g.length>0?t.jsx(O.div,{variants:x,initial:"hidden",animate:"visible",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.jsx(me,{mode:"popLayout",children:g.map(w=>t.jsx(O.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},children:t.jsx(Nd,{car:w,onClick:f})},w.id))})}):t.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center py-16",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gray-200 rounded-full mb-4",children:t.jsx(Me,{className:"w-12 h-12 text-gray-400"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No vehicle found"}),t.jsx("p",{className:"text-gray-500",children:"Try modifying your search criteria"})]}),t.jsx(me,{children:u&&t.jsx(m.Suspense,{fallback:null,children:t.jsx(Cd,{car:u,onClose:j,isEmbedded:e,onReserve:r})})})]})})}const nt={active:{icon:Ue,color:"bg-emerald-50 text-emerald-700",label:"Active",badgeColor:"bg-emerald-500"},upcoming:{icon:en,color:"bg-blue-50 text-blue-700",label:"Upcoming",badgeColor:"bg-blue-500"},pending:{icon:bs,color:"bg-yellow-50 text-yellow-700",label:"Pending",badgeColor:"bg-yellow-500"},completed:{icon:Ue,color:"bg-gray-100 text-gray-700",label:"Completed",badgeColor:"bg-gray-500"},cancelled:{icon:xs,color:"bg-red-50 text-red-700",label:"Cancelled",badgeColor:"bg-red-500"}},Sd={gps:{label:"GPS",icon:"ðŸ“"},wifi:{label:"WiFi",icon:"ðŸ“¶"},babySeat:{label:"Baby seat",icon:"ðŸ‘¶"},delivery:{label:"Delivery",icon:"ðŸš—"}},Pd={basic:{label:"Basic"},premium:{label:"Premium"},full:{label:"Full coverage"}},qe=e=>new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}),Ed=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),Bn=(e,r)=>{const a=new Date(e),n=new Date(r);return Math.ceil((n-a)/(1e3*60*60*24))},Hn=e=>{const r=new Date,n=new Date(e)-r,s=Math.ceil(n/(1e3*60*60*24));return s>0?s:0},Dd=({booking:e,onCancel:r,onViewDetails:a})=>{nt[e.status]?.icon;const n=Bn(e.reservation.startDate,e.reservation.endDate);Hn(e.reservation.endDate);const s=e.status==="active",o=e.status==="upcoming";return t.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{y:-2},className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 overflow-hidden hover:shadow-xl transition-all duration-300",children:t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${nt[e.status]?.color}`,children:nt[e.status]?.label}),t.jsx("span",{className:"text-xs text-gray-500",children:e.reservation.reference})]}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.car.name}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:e.car.brand})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[e.price," MAD"]}),t.jsxs("div",{className:"text-sm text-gray-500 dark:text-white/70",children:[n," day",n>1?"s":""]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-white mb-4",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(je,{className:"w-4 h-4"}),t.jsx("span",{children:qe(e.reservation.startDate)})]}),t.jsx(Fr,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(je,{className:"w-4 h-4"}),t.jsx("span",{children:qe(e.reservation.endDate)})]})]}),t.jsxs("div",{className:"flex gap-2 pt-3 border-t border-gray-100 dark:border-purple-800/30",children:[t.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(e),className:"flex-1 py-2 px-3 bg-gray-50 dark:bg-indigo-900/60 text-gray-700 dark:text-white rounded-md font-medium hover:bg-gray-100 dark:hover:bg-indigo-900/80 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(tn,{className:"w-4 h-4"}),t.jsx("span",{children:"View details"})]}),(s||o)&&e.status!=="pending"&&t.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(e),className:"py-2 px-3 bg-red-50 text-red-700 rounded-md font-medium hover:bg-red-100 transition-colors flex items-center justify-center gap-2 text-sm",children:[t.jsx(Lr,{className:"w-4 h-4"}),t.jsx("span",{children:"Cancel"})]}),e.status==="pending"&&t.jsx("div",{className:"py-2 px-3 bg-yellow-50 text-yellow-700 rounded-md font-medium text-sm text-center",children:"Waiting for approval"})]})]})})},Id=({booking:e,onClose:r,onConfirm:a})=>t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:r,children:t.jsx(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:n=>n.stopPropagation(),className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 max-w-md w-full",children:t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/40 rounded-lg",children:t.jsx(en,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirm cancellation"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-white",children:["Reference: ",e.reservation.reference]})]})]}),t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/30 rounded-lg p-4 mb-6",children:[t.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"âš ï¸ Are you sure you want to cancel this reservation? This action is irreversible."}),t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 mt-2",children:["Vehicle: ",t.jsx("span",{className:"font-medium",children:e.car.name})]}),t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["From ",qe(e.reservation.startDate)," to ",qe(e.reservation.endDate)]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:r,className:"flex-1 py-2.5 px-4 border border-gray-300 dark:border-purple-700/30 rounded-lg font-medium text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-indigo-900/40 transition-colors",children:"No, keep it"}),t.jsx("button",{onClick:()=>{a(e),r()},className:"flex-1 py-2.5 px-4 bg-red-600 dark:bg-red-700 text-white rounded-lg font-medium hover:bg-red-700 dark:hover:bg-red-600 transition-colors",children:"Yes, cancel"})]})]})})}),_d=({booking:e,onClose:r})=>{const a=Bn(e.reservation.startDate,e.reservation.endDate),n=Hn(e.reservation.endDate);nt[e.status]?.icon;const s=Pd[e.reservation.insurance],o=e.reservation.extras.map(i=>Sd[i]).filter(Boolean);return t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:r,children:t.jsxs(O.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:i=>i.stopPropagation(),className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"sticky top-0 bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl border-b border-gray-200 dark:border-purple-800/30 p-4 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Booking details"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-white",children:e.reservation.reference})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:t.jsx(he,{className:"w-5 h-5 text-gray-500"})})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:t.jsx("img",{src:e.car.image,alt:e.car.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:e.car.name}),t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${nt[e.status]?.color}`,children:nt[e.status]?.label}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-white",children:e.car.brand})]}),t.jsxs("div",{className:"flex gap-3 text-sm text-gray-600 dark:text-white",children:[t.jsxs("span",{children:[e.car.seats," seats"]}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:e.car.fuel}),t.jsx("span",{children:"â€¢"}),t.jsx("span",{children:e.car.gearbox})]})]})]}),n>0&&e.status!=="completed"&&e.status!=="cancelled"&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n}),t.jsxs("div",{className:"text-sm text-gray-500 dark:text-white/70",children:["day",n>1?"s":""," remaining"]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Rental period"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-indigo-900/40 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:"Start"}),t.jsx("div",{className:"font-medium dark:text-white",children:qe(e.reservation.startDate)})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:"End"}),t.jsx("div",{className:"font-medium dark:text-white",children:qe(e.reservation.endDate)})]}),t.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-white/70 mt-3",children:[a," day",a>1?"s":""," total"]})]})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Selected options"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm dark:text-white",children:[t.jsx("span",{children:"Insurance"}),t.jsx("span",{className:"font-medium",children:s?.label})]}),o.length>0&&t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70 mb-1",children:"Additional services"}),t.jsx("div",{className:"space-y-1",children:o.map((i,d)=>t.jsxs("div",{className:"flex items-center gap-2 text-sm dark:text-white",children:[t.jsx("span",{children:i.icon}),t.jsx("span",{children:i.label})]},d))})]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Payment"}),t.jsxs("div",{className:"bg-gray-50 dark:bg-indigo-900/40 rounded-lg p-4",children:[t.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:[e.price," MAD"]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between dark:text-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-white/70",children:"Method"}),t.jsx("span",{className:"font-medium",children:e.reservation.paymentMethod==="card"?"Credit card":e.reservation.paymentMethod==="cash"?"Cash":"Bank transfer"})]}),t.jsxs("div",{className:"flex justify-between dark:text-white",children:[t.jsx("span",{className:"text-gray-600 dark:text-white/70",children:"Status"}),t.jsx("span",{className:`font-medium ${e.status==="cancelled"?"text-red-600 dark:text-red-400":"text-emerald-600 dark:text-emerald-400"}`,children:e.status==="cancelled"?"Cancelled":"Paid"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Booked on"}),t.jsxs("div",{className:"text-sm text-gray-600 dark:text-white",children:[qe(e.reservation.createdAt)," at ",Ed(e.reservation.createdAt)]})]})]})]}),t.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-purple-800/30",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{className:"flex-1 py-2.5 px-4 border border-gray-300 dark:border-purple-700/30 rounded-lg font-medium text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-indigo-900/40 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Vt,{className:"w-4 h-4"}),t.jsx("span",{children:"Download invoice"})]}),t.jsxs("button",{className:"flex-1 py-2.5 px-4 border border-gray-300 dark:border-purple-700/30 rounded-lg font-medium text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-indigo-900/40 transition-colors flex items-center justify-center gap-2",children:[t.jsx(ys,{className:"w-4 h-4"}),t.jsx("span",{children:"Contact support"})]})]})})]})]})})},Ad=({filter:e,onExplore:r})=>{const a={all:"You haven't made any bookings yet",active:"No active bookings",upcoming:"No upcoming bookings",completed:"No completed bookings",cancelled:"No cancelled bookings"};return t.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-16",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full mb-6",children:t.jsx(je,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),t.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e==="all"?"No bookings yet":"No results found"}),t.jsx("p",{className:"text-gray-600 dark:text-white mb-8 max-w-md mx-auto",children:a[e]||"No bookings found"}),t.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:r,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition-colors inline-flex items-center gap-2",children:[t.jsx(wr,{className:"w-5 h-5"}),t.jsx("span",{children:"Explore vehicles"})]})]})};function Vn({isEmbedded:e=!1}){const r=lt(),[a,n]=m.useState("all"),[s,o]=m.useState(null),[i,d]=m.useState(!1),[u,l]=m.useState(!1),[c,g]=m.useState(null),[f,j]=m.useState([]),x=()=>{if(e){const S=localStorage.getItem("carrent_current_user");if(S)try{const B=JSON.parse(S);if(B.role==="owner"||B.role==="OWNER"){r("/owner"),B.id&&localStorage.setItem(`carrent_owner_active_tab_${B.id}`,"home"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"home"}))},100);return}}catch{}}r("/catalogue")};m.useEffect(()=>{(async()=>{const B=localStorage.getItem("carrent_current_user");if(B)try{const k=JSON.parse(B),{reservationAPI:_,carAPI:V}=await ie(async()=>{const{reservationAPI:R,carAPI:A}=await Promise.resolve().then(()=>ce);return{reservationAPI:R,carAPI:A}},void 0),q=(await _.getReservationsByUser(k.id)).data||[],$=await Promise.all(q.map(async R=>{let A=null;try{A=(await V.getCarById(R.carId)).data}catch(N){console.error("Error loading car:",N)}let T=R.status||"pending";if(!(T==="pending"||T==="cancelled")){const N=new Date;N.setHours(0,0,0,0);const C=new Date(R.startDate);C.setHours(0,0,0,0);const G=new Date(R.endDate);G.setHours(0,0,0,0),G<N?T="completed":C>N?T="upcoming":T="active"}return{id:R.id,car:A?{id:A.id,name:A.name,image:A.mainImageUrl||"",brand:A.brand,seats:A.seats,fuel:A.fuelType,gearbox:A.gearbox}:null,reservation:{startDate:R.startDate,endDate:R.endDate,reference:`RES-${R.id}`,createdAt:R.createdAt||new Date().toISOString(),insurance:R.insuranceType,extras:R.extras||[],paymentMethod:"cash"},status:T,price:R.totalPrice||0}}));j($)}catch(k){console.error("Error loading bookings:",k),j([])}})()},[]);const w=a==="all"?f:f.filter(S=>S.status===a),v=S=>{g(S),l(!0)},b=async S=>{try{const{reservationAPI:B}=await ie(async()=>{const{reservationAPI:_}=await Promise.resolve().then(()=>ce);return{reservationAPI:_}},void 0);await B.cancelReservation(S.id);const k=f.map(_=>_.id===S.id?{..._,status:"cancelled"}:_);j(k)}catch(B){console.error("Error cancelling booking:",B),alert("Error cancelling reservation. Please try again.")}},h=S=>{o(S),d(!0)},I={total:f.length,active:f.filter(S=>S.status==="active").length,upcoming:f.filter(S=>S.status==="upcoming").length,pending:f.filter(S=>S.status==="pending").length,completed:f.filter(S=>S.status==="completed").length,cancelled:f.filter(S=>S.status==="cancelled").length,totalSpent:f.reduce((S,B)=>S+(B.price||0),0)};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#1a0f24]",children:[t.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 pt-2 pb-2 lg:max-w-7xl lg:mx-auto",children:t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2 mb-6 flex-wrap lg:flex-nowrap",children:[{id:"all",label:"All",count:I.total},{id:"pending",label:"Pending",count:I.pending},{id:"active",label:"Active",count:I.active},{id:"upcoming",label:"Upcoming",count:I.upcoming},{id:"completed",label:"Completed",count:I.completed}].map(S=>t.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(S.id),className:`flex-1 lg:flex-none px-2 py-1.5 sm:px-3 sm:py-2 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap border ${a===S.id?"bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 border-indigo-200 dark:border-indigo-700/50":"bg-gray-100 dark:bg-gray-800/40 text-gray-700 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-800/60 border-gray-200 dark:border-gray-700/50"}`,children:[S.label,S.count>0&&t.jsxs("span",{className:"ml-1.5 sm:ml-2 text-[10px] sm:text-xs opacity-75",children:["(",S.count,")"]})]},S.id))})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsx(me,{mode:"wait",children:w.length>0?t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid md:grid-cols-2 gap-4",children:w.map(S=>t.jsx(Dd,{booking:S,onCancel:v,onViewDetails:h},S.id))},"bookings"):t.jsx(Ad,{filter:a,onExplore:x})})}),t.jsxs(me,{children:[i&&s&&t.jsx(_d,{booking:s,onClose:()=>d(!1)}),u&&c&&t.jsx(Id,{booking:c,onClose:()=>{l(!1),g(null)},onConfirm:b})]})]})}var mt=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54",{default:"(..) .... ....","/^11/":"(..) .... ....","/^15/":"(..) ... ....","/^(2|3|4|5)/":"(.) .... ....","/^9/":"(.) .... ....."},0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["CÃ´te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["CuraÃ§ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["RÃ©union","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["SÃ£o TomÃ© and PrÃ­ncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],Rd="react-international-phone-",zn=(...e)=>e.filter(r=>!!r).join(" ").trim(),Od=(...e)=>zn(...e).split(" ").map(r=>`${Rd}${r}`).join(" "),de=({addPrefix:e,rawClassNames:r})=>zn(Od(...e),...r),Td=({value:e,mask:r,maskSymbol:a,offset:n=0,trimNonMaskCharsLeftover:s=!1})=>{if(e.length<n)return e;let o=e.slice(0,n),i=e.slice(n),d=o,u=0;for(let l of r.split("")){if(u>=i.length){if(!s&&l!==a){d+=l;continue}break}l===a?(d+=i[u],u+=1):d+=l}return d},tt=e=>e?/^\d+$/.test(e):!1,ir=e=>e.replace(/\D/g,""),Fd=(e,r)=>{let a=e.style.display;a!=="block"&&(e.style.display="block");let n=e.getBoundingClientRect(),s=r.getBoundingClientRect(),o=s.top-n.top,i=n.bottom-s.bottom;o>=0&&i>=0||(Math.abs(o)<Math.abs(i)?e.scrollTop+=o:e.scrollTop-=i),e.style.display=a},Ld=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes("macintosh"),Md=(e,r)=>{let a=r.disableDialCodeAndPrefix?!1:r.forceDialCode,n=r.disableDialCodeAndPrefix?!1:r.insertDialCodeOnEmpty,s=e,o=l=>r.trimNonDigitsEnd?l.trim():l;if(!s)return n&&!s.length||a?o(`${r.prefix}${r.dialCode}${r.charAfterDialCode}`):o(s);if(s=ir(s),s===r.dialCode&&!r.disableDialCodeAndPrefix)return o(`${r.prefix}${r.dialCode}${r.charAfterDialCode}`);if(r.dialCode.startsWith(s)&&!r.disableDialCodeAndPrefix)return o(a?`${r.prefix}${r.dialCode}${r.charAfterDialCode}`:`${r.prefix}${s}`);if(!s.startsWith(r.dialCode)&&!r.disableDialCodeAndPrefix){if(a)return o(`${r.prefix}${r.dialCode}${r.charAfterDialCode}`);if(s.length<r.dialCode.length)return o(`${r.prefix}${s}`)}let i=()=>{let l=r.dialCode.length,c=s.slice(0,l),g=s.slice(l);return{phoneLeftSide:c,phoneRightSide:g}},{phoneLeftSide:d,phoneRightSide:u}=i();return d=`${r.prefix}${d}${r.charAfterDialCode}`,u=Td({value:u,mask:r.mask,maskSymbol:r.maskChar,trimNonMaskCharsLeftover:r.trimNonDigitsEnd||r.disableDialCodeAndPrefix&&u.length===0}),r.disableDialCodeAndPrefix&&(d=""),o(`${d}${u}`)},Ud=({phoneBeforeInput:e,phoneAfterInput:r,phoneAfterFormatted:a,cursorPositionAfterInput:n,leftOffset:s=0,deletion:o})=>{if(n<s)return s;if(!e)return a.length;let i=null;for(let c=n-1;c>=0;c-=1)if(tt(r[c])){i=c;break}if(i===null){for(let c=0;c<r.length;c+=1)if(tt(a[c]))return c;return r.length}let d=0;for(let c=0;c<i;c+=1)tt(r[c])&&(d+=1);let u=0,l=0;for(let c=0;c<a.length&&(u+=1,tt(a[c])&&(l+=1),!(l>=d+1));c+=1);if(o!=="backward")for(;!tt(a[u])&&u<a.length;)u+=1;return u},Ht=({phone:e,prefix:r})=>e?`${r}${ir(e)}`:"";function Pr({value:e,country:r,insertDialCodeOnEmpty:a,trimNonDigitsEnd:n,countries:s,prefix:o,charAfterDialCode:i,forceDialCode:d,disableDialCodeAndPrefix:u,defaultMask:l,countryGuessingEnabled:c,disableFormatting:g}){let f=e;u&&(f=f.startsWith(`${o}`)?f:`${o}${r.dialCode}${f}`);let j=c?Xd({phone:f,countries:s,currentCountryIso2:r?.iso2}):void 0,x=j?.country??r,w=Md(f,{prefix:o,mask:Kd({phone:f,country:x,defaultMask:l,disableFormatting:g}),maskChar:Gn,dialCode:x.dialCode,trimNonDigitsEnd:n,charAfterDialCode:i,forceDialCode:d,insertDialCodeOnEmpty:a,disableDialCodeAndPrefix:u}),v=c&&!j?.fullDialCodeMatch?r:x;return{phone:Ht({phone:u?`${v.dialCode}${w}`:w,prefix:o}),inputValue:w,country:v}}var Bd=e=>{if(e?.toLocaleLowerCase().includes("delete")??!1)return e?.toLocaleLowerCase().includes("forward")?"forward":"backward"},Hd=(e,{country:r,insertDialCodeOnEmpty:a,phoneBeforeInput:n,prefix:s,charAfterDialCode:o,forceDialCode:i,disableDialCodeAndPrefix:d,countryGuessingEnabled:u,defaultMask:l,disableFormatting:c,countries:g})=>{let f=e.nativeEvent,j=f.inputType,x=Bd(j),w=!!j?.startsWith("insertFrom"),v=j==="insertText",b=f?.data||void 0,h=e.target.value,I=e.target.selectionStart??0;if(j?.includes("history"))return{inputValue:n,phone:Ht({phone:n,prefix:s}),cursorPosition:n.length,country:r};if(v&&!tt(b)&&h!==s)return{inputValue:n,phone:Ht({phone:d?`${r.dialCode}${n}`:n,prefix:s}),cursorPosition:I-(b?.length??0),country:r};if(i&&!h.startsWith(`${s}${r.dialCode}`)&&!w){let V=h?n:`${s}${r.dialCode}${o}`;return{inputValue:V,phone:Ht({phone:V,prefix:s}),cursorPosition:s.length+r.dialCode.length+o.length,country:r}}let{phone:S,inputValue:B,country:k}=Pr({value:h,country:r,trimNonDigitsEnd:x==="backward",insertDialCodeOnEmpty:a,countryGuessingEnabled:u,countries:g,prefix:s,charAfterDialCode:o,forceDialCode:i,disableDialCodeAndPrefix:d,disableFormatting:c,defaultMask:l}),_=Ud({cursorPositionAfterInput:I,phoneBeforeInput:n,phoneAfterInput:h,phoneAfterFormatted:B,leftOffset:i?s.length+r.dialCode.length+o.length:0,deletion:x});return{phone:S,inputValue:B,cursorPosition:_,country:k}},Vd=(e,r)=>{let a=Object.keys(e),n=Object.keys(r);if(a.length!==n.length)return!1;for(let s of a)if(e[s]!==r[s])return!1;return!0},zd=()=>{let e=m.useRef(),r=m.useRef(Date.now());return{check:()=>{let a=Date.now(),n=e.current?a-r.current:void 0;return e.current=r.current,r.current=a,n}}},Gd={size:20,overrideLastItemDebounceMS:-1};function qd(e,r){let{size:a,overrideLastItemDebounceMS:n,onChange:s}={...Gd,...r},[o,i]=m.useState(e),[d,u]=m.useState([o]),[l,c]=m.useState(0),g=zd();return[o,(f,j)=>{if(typeof f=="object"&&typeof o=="object"&&Vd(f,o)||f===o)return;let x=n>0,w=g.check(),v=x&&w!==void 0?w>n:!0;if(j?.overrideLastItem!==void 0?j.overrideLastItem:!v)u(b=>[...b.slice(0,l),f]);else{let b=d.length>=a;u(h=>[...h.slice(b?1:0,l+1),f]),b||c(h=>h+1)}i(f),s?.(f)},()=>{if(l<=0)return{success:!1};let f=d[l-1];return i(f),c(j=>j-1),s?.(f),{success:!0,value:f}},()=>{if(l+1>=d.length)return{success:!1};let f=d[l+1];return i(f),c(j=>j+1),s?.(f),{success:!0,value:f}}]}var Gn=".",ve={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,disableFormatting:!1,countries:mt},Wd=({defaultCountry:e=ve.defaultCountry,value:r=ve.value,countries:a=ve.countries,prefix:n=ve.prefix,defaultMask:s=ve.defaultMask,charAfterDialCode:o=ve.charAfterDialCode,historySaveDebounceMS:i=ve.historySaveDebounceMS,disableCountryGuess:d=ve.disableCountryGuess,disableDialCodePrefill:u=ve.disableDialCodePrefill,forceDialCode:l=ve.forceDialCode,disableDialCodeAndPrefix:c=ve.disableDialCodeAndPrefix,disableFormatting:g=ve.disableFormatting,onChange:f,inputRef:j})=>{let x={countries:a,prefix:n,charAfterDialCode:o,forceDialCode:c?!1:l,disableDialCodeAndPrefix:c,defaultMask:s,countryGuessingEnabled:!d,disableFormatting:g},w=m.useRef(null),v=j||w,b=T=>{Promise.resolve().then(()=>{typeof window>"u"||v.current!==document?.activeElement||v.current?.setSelectionRange(T,T)})},[{phone:h,inputValue:I,country:S},B,k,_]=qd(()=>{let T=rt({value:e,field:"iso2",countries:a});T||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let N=T||rt({value:"us",field:"iso2",countries:a}),{phone:C,inputValue:G,country:D}=Pr({value:r,country:N,insertDialCodeOnEmpty:!u,...x});return b(G.length),{phone:C,inputValue:G,country:D.iso2}},{overrideLastItemDebounceMS:i,onChange:({inputValue:T,phone:N,country:C})=>{if(!f)return;let G=V(C);f({phone:N,inputValue:T,country:G})}}),V=m.useCallback(T=>rt({value:T,field:"iso2",countries:a}),[a]),z=m.useMemo(()=>V(S),[S,V]);m.useEffect(()=>{let T=v.current;if(!T)return;let N=C=>{if(!C.key)return;let G=C.ctrlKey,D=C.metaKey,M=C.shiftKey;if(C.key.toLowerCase()==="z"){if(Ld()){if(!D)return}else if(!G)return;M?_():k()}};return T.addEventListener("keydown",N),()=>{T.removeEventListener("keydown",N)}},[v,k,_]);let q=T=>{T.preventDefault();let{phone:N,inputValue:C,country:G,cursorPosition:D}=Hd(T,{country:z,phoneBeforeInput:I,insertDialCodeOnEmpty:!1,...x});return B({inputValue:C,phone:N,country:G.iso2}),b(D),r},$=(T,N={focusOnInput:!1})=>{let C=rt({value:T,field:"iso2",countries:a});if(!C){console.error(`[react-international-phone]: can not find a country with "${T}" iso2 code`);return}let G=c?"":`${n}${C.dialCode}${o}`;B({inputValue:G,phone:`${n}${C.dialCode}`,country:C.iso2}),N.focusOnInput&&Promise.resolve().then(()=>{v.current?.focus()})},[R,A]=m.useState(!1);return m.useEffect(()=>{if(!R){A(!0),r!==h&&f?.({inputValue:I,phone:h,country:z});return}if(r===h)return;let{phone:T,inputValue:N,country:C}=Pr({value:r,country:z,insertDialCodeOnEmpty:!u,...x});B({phone:T,inputValue:N,country:C.iso2})},[r]),{phone:h,inputValue:I,country:z,setCountry:$,handlePhoneValueChange:q,inputRef:v}},Kd=({phone:e,country:r,defaultMask:a="............",disableFormatting:n=!1})=>{let s=r.format,o=d=>n?d.replace(new RegExp(`[^${Gn}]`,"g"),""):d;if(!s)return o(a);if(typeof s=="string")return o(s);if(!s.default)return console.error(`[react-international-phone]: default mask for ${r.iso2} is not provided`),o(a);let i=Object.keys(s).find(d=>{if(d==="default")return!1;if(!(d.charAt(0)==="/"&&d.charAt(d.length-1)==="/"))return console.error(`[react-international-phone]: format regex "${d}" for ${r.iso2} is not valid`),!1;let u=new RegExp(d.substring(1,d.length-1)),l=e.replace(r.dialCode,"");return u.test(ir(l))});return o(i?s[i]:s.default)},_e=e=>{let[r,a,n,s,o,i]=e;return{name:r,iso2:a,dialCode:n,format:s,priority:o,areaCodes:i}},Jd=e=>`Field "${e}" is not supported`,rt=({field:e,value:r,countries:a=mt})=>{if(["priority"].includes(e))throw new Error(Jd(e));let n=a.find(s=>{let o=_e(s);return r===o[e]});if(n)return _e(n)},Xd=({phone:e,countries:r=mt,currentCountryIso2:a})=>{let n={country:void 0,fullDialCodeMatch:!1};if(!e)return n;let s=ir(e);if(!s)return n;let o=n,i=({country:d,fullDialCodeMatch:u})=>{let l=d.dialCode===o.country?.dialCode,c=(d.priority??0)<(o.country?.priority??0);(!l||c)&&(o={country:d,fullDialCodeMatch:u})};for(let d of r){let u=_e(d),{dialCode:l,areaCodes:c}=u;if(s.startsWith(l)){let g=o.country?Number(l)>=Number(o.country.dialCode):!0;if(c){let f=s.substring(l.length);for(let j of c)if(f.startsWith(j))return{country:u,fullDialCodeMatch:!0}}(g||l===s||!o.fullDialCodeMatch)&&i({country:u,fullDialCodeMatch:!0})}o.fullDialCodeMatch||s.length<l.length&&l.startsWith(s)&&(!o.country||Number(l)<=Number(o.country.dialCode))&&i({country:u,fullDialCodeMatch:!1})}if(a){let d=rt({value:a,field:"iso2",countries:r});if(!d)return o;let u=d?(l=>{if(!l?.areaCodes)return!1;let c=s.substring(l.dialCode.length);return l.areaCodes.some(g=>g.startsWith(c))})(d):!1;o&&o.country?.dialCode===d.dialCode&&o.country!==d&&o.fullDialCodeMatch&&(!d.areaCodes||u)&&(o={country:d,fullDialCodeMatch:!0})}return o},Yd=(e,r)=>{let a=parseInt(e,16);return Number(a+r).toString(16)},Zd="abcdefghijklmnopqrstuvwxyz",Qd="1f1e6",Da=Zd.split("").reduce((e,r,a)=>({...e,[r]:Yd(Qd,a)}),{}),el=e=>[Da[e[0]],Da[e[1]]].join("-"),qn=({iso2:e,size:r,src:a,protocol:n="https",disableLazyLoading:s,className:o,style:i,...d})=>{if(!e)return Q.createElement("img",{className:de({addPrefix:["flag-emoji"],rawClassNames:[o]}),width:r,height:r,...d});let u=()=>{if(a)return a;let l=el(e);return`${n}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${l}.svg`};return Q.createElement("img",{className:de({addPrefix:["flag-emoji"],rawClassNames:[o]}),src:u(),width:r,height:r,draggable:!1,"data-country":e,loading:s?void 0:"lazy",style:{width:r,height:r,...i},alt:"",...d})},tl=1e3,rl=({show:e,dialCodePrefix:r="+",selectedCountry:a,countries:n=mt,preferredCountries:s=[],flags:o,onSelect:i,onClose:d,...u})=>{let l=m.useRef(null),c=m.useRef(),g=m.useMemo(()=>{if(!s||!s.length)return n;let k=[],_=[...n];for(let V of s){let z=_.findIndex(q=>_e(q).iso2===V);if(z!==-1){let q=_.splice(z,1)[0];k.push(q)}}return k.concat(_)},[n,s]),f=m.useRef({updatedAt:void 0,value:""}),j=k=>{let _=f.current.updatedAt&&new Date().getTime()-f.current.updatedAt.getTime()>tl;f.current={value:_?k:`${f.current.value}${k}`,updatedAt:new Date};let V=g.findIndex(z=>_e(z).name.toLowerCase().startsWith(f.current.value));V!==-1&&v(V)},x=m.useCallback(k=>g.findIndex(_=>_e(_).iso2===k),[g]),[w,v]=m.useState(x(a)),b=()=>{c.current!==a&&v(x(a))},h=m.useCallback(k=>{v(x(k.iso2)),i?.(k)},[i,x]),I=k=>{let _=g.length-1,V=z=>k==="prev"?z-1:k==="next"?z+1:k==="last"?_:0;v(z=>{let q=V(z);return q<0?0:q>_?_:q})},S=k=>{if(k.stopPropagation(),k.key==="Enter"){k.preventDefault();let _=_e(g[w]);h(_);return}if(k.key==="Escape"){d?.();return}if(k.key==="ArrowUp"){k.preventDefault(),I("prev");return}if(k.key==="ArrowDown"){k.preventDefault(),I("next");return}if(k.key==="PageUp"){k.preventDefault(),I("first");return}if(k.key==="PageDown"){k.preventDefault(),I("last");return}k.key===" "&&k.preventDefault(),k.key.length===1&&!k.altKey&&!k.ctrlKey&&!k.metaKey&&j(k.key.toLocaleLowerCase())},B=m.useCallback(()=>{if(!l.current||w===void 0)return;let k=_e(g[w]).iso2;if(k===c.current)return;let _=l.current.querySelector(`[data-country="${k}"]`);_&&(Fd(l.current,_),c.current=k)},[w,g]);return m.useEffect(()=>{B()},[w,B]),m.useEffect(()=>{l.current&&(e?l.current.focus():b())},[e]),m.useEffect(()=>{b()},[a]),Q.createElement("ul",{ref:l,role:"listbox",className:de({addPrefix:["country-selector-dropdown"],rawClassNames:[u.className]}),style:{display:e?"block":"none",...u.style},onKeyDown:S,onBlur:d,tabIndex:-1,"aria-activedescendant":`react-international-phone__${_e(g[w]).iso2}-option`},g.map((k,_)=>{let V=_e(k),z=V.iso2===a,q=_===w,$=s.includes(V.iso2),R=_===s.length-1,A=o?.find(T=>T.iso2===V.iso2);return Q.createElement(Q.Fragment,{key:V.iso2},Q.createElement("li",{"data-country":V.iso2,role:"option","aria-selected":z,"aria-label":`${V.name} ${r}${V.dialCode}`,id:`react-international-phone__${V.iso2}-option`,className:de({addPrefix:["country-selector-dropdown__list-item",$&&"country-selector-dropdown__list-item--preferred",z&&"country-selector-dropdown__list-item--selected",q&&"country-selector-dropdown__list-item--focused"],rawClassNames:[u.listItemClassName,$&&u.listItemPreferredClassName,z&&u.listItemSelectedClassName,q&&u.listItemFocusedClassName]}),onClick:()=>h(V),style:u.listItemStyle,title:V.name},Q.createElement(qn,{iso2:V.iso2,src:A?.src,className:de({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[u.listItemFlagClassName]}),style:u.listItemFlagStyle}),Q.createElement("span",{className:de({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[u.listItemCountryNameClassName]}),style:u.listItemCountryNameStyle},V.name),Q.createElement("span",{className:de({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[u.listItemDialCodeClassName]}),style:u.listItemDialCodeStyle},r,V.dialCode)),R?Q.createElement("hr",{className:de({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[u.preferredListDividerClassName]}),style:u.preferredListDividerStyle}):null)}))},al=({selectedCountry:e,onSelect:r,disabled:a,hideDropdown:n,countries:s=mt,preferredCountries:o=[],flags:i,renderButtonWrapper:d,...u})=>{let[l,c]=m.useState(!1),g=m.useMemo(()=>{if(e)return rt({value:e,field:"iso2",countries:s})},[s,e]),f=m.useRef(null),j=w=>{w.key&&["ArrowUp","ArrowDown"].includes(w.key)&&(w.preventDefault(),c(!0))},x=()=>{let w={title:g?.name,onClick:()=>c(b=>!b),onMouseDown:b=>b.preventDefault(),onKeyDown:j,disabled:n||a,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":l},v=Q.createElement("div",{className:de({addPrefix:["country-selector-button__button-content"],rawClassNames:[u.buttonContentWrapperClassName]}),style:u.buttonContentWrapperStyle},Q.createElement(qn,{iso2:e,src:i?.find(b=>b.iso2===e)?.src,className:de({addPrefix:["country-selector-button__flag-emoji",a&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[u.flagClassName]}),style:{visibility:e?"visible":"hidden",...u.flagStyle}}),!n&&Q.createElement("div",{className:de({addPrefix:["country-selector-button__dropdown-arrow",a&&"country-selector-button__dropdown-arrow--disabled",l&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[u.dropdownArrowClassName]}),style:u.dropdownArrowStyle}));return d?d({children:v,rootProps:w}):Q.createElement("button",{...w,type:"button",className:de({addPrefix:["country-selector-button",l&&"country-selector-button--active",a&&"country-selector-button--disabled",n&&"country-selector-button--hide-dropdown"],rawClassNames:[u.buttonClassName]}),"data-country":e,style:u.buttonStyle},v)};return Q.createElement("div",{className:de({addPrefix:["country-selector"],rawClassNames:[u.className]}),style:u.style,ref:f},x(),Q.createElement(rl,{show:l,countries:s,preferredCountries:o,flags:i,onSelect:w=>{c(!1),r?.(w)},selectedCountry:e,onClose:()=>{c(!1)},...u.dropdownStyleProps}))},nl=({dialCode:e,prefix:r,disabled:a,style:n,className:s})=>Q.createElement("div",{className:de({addPrefix:["dial-code-preview",a&&"dial-code-preview--disabled"],rawClassNames:[s]}),style:n},`${r}${e}`),sl=m.forwardRef(({value:e,onChange:r,countries:a=mt,preferredCountries:n=[],hideDropdown:s,showDisabledDialCodeAndPrefix:o,disableFocusAfterCountrySelect:i,flags:d,style:u,className:l,inputStyle:c,inputClassName:g,countrySelectorStyleProps:f,dialCodePreviewStyleProps:j,inputProps:x,placeholder:w,disabled:v,name:b,onFocus:h,onBlur:I,required:S,autoFocus:B,...k},_)=>{let{phone:V,inputValue:z,inputRef:q,country:$,setCountry:R,handlePhoneValueChange:A}=Wd({value:e,countries:a,...k,onChange:N=>{r?.(N.phone,{country:N.country,inputValue:N.inputValue})}}),T=k.disableDialCodeAndPrefix&&o&&$?.dialCode;return m.useImperativeHandle(_,()=>q.current?Object.assign(q.current,{setCountry:R,state:{phone:V,inputValue:z,country:$}}):null,[q,R,V,z,$]),Q.createElement("div",{ref:_,className:de({addPrefix:["input-container"],rawClassNames:[l]}),style:u},Q.createElement(al,{onSelect:N=>R(N.iso2,{focusOnInput:!i}),flags:d,selectedCountry:$.iso2,countries:a,preferredCountries:n,disabled:v,hideDropdown:s,...f}),T&&Q.createElement(nl,{dialCode:$.dialCode,prefix:k.prefix??"+",disabled:v,...j}),Q.createElement("input",{onChange:A,value:z,type:"tel",ref:q,className:de({addPrefix:["input",v&&"input--disabled"],rawClassNames:[g]}),placeholder:w,disabled:v,style:c,name:b,onFocus:h,onBlur:I,autoFocus:B,required:S,...x}))});const il={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function ol(e,r){var a=Array.prototype.slice.call(r);return a.push(il),e.apply(this,a)}function Ia(e,r){e=e.split("-"),r=r.split("-");for(var a=e[0].split("."),n=r[0].split("."),s=0;s<3;s++){var o=Number(a[s]),i=Number(n[s]);if(o>i)return 1;if(i>o)return-1;if(!isNaN(o)&&isNaN(i))return 1;if(isNaN(o)&&!isNaN(i))return-1}return e[1]&&r[1]?e[1]>r[1]?1:e[1]<r[1]?-1:0:!e[1]&&r[1]?1:e[1]&&!r[1]?-1:0}var dl={}.constructor;function st(e){return e!=null&&e.constructor===dl}function dt(e){"@babel/helpers - typeof";return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dt(e)}function or(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ll(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cl(n.key),n)}}function dr(e,r,a){return r&&ll(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cl(e){var r=ul(e,"string");return dt(r)=="symbol"?r:r+""}function ul(e,r){if(dt(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(dt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ml="1.2.0",pl="1.7.35",_a=" ext. ",gl=/^\d+$/,ue=(function(){function e(r){or(this,e),Wn(r),this.metadata=r,Kn.call(this,r)}return dr(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(a){return a!=="001"})}},{key:"getCountryMetadata",value:function(a){return this.metadata.countries[a]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(a){return this.getCountryMetadata(a)!==void 0}},{key:"hasCallingCode",value:function(a){if(this.getCountryCodesForCallingCode(a))return!0;if(this.nonGeographic()){if(this.nonGeographic()[a])return!0}else{var n=this.countryCallingCodes()[a];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(a){return this.nonGeographic()?!!this.nonGeographic()[a]:!this.getCountryCodesForCallingCode(a)}},{key:"country",value:function(a){return this.selectNumberingPlan(a)}},{key:"selectNumberingPlan",value:function(a,n){if(a&&gl.test(a)&&(n=a,a=null),a&&a!=="001"){if(!this.hasCountry(a))throw new Error("Unknown country: ".concat(a));this.numberingPlan=new Aa(this.getCountryMetadata(a),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new Aa(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(a){var n=this.countryCallingCodes()[a];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(a){var n=this.getCountryCodesForCallingCode(a);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(a){var n=this.getCountryCodeForCallingCode(a);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var s=this.nonGeographic()[a];if(s)return s}else{var o=this.countryCallingCodes()[a];if(o&&o.length===1&&o[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(a){return this.numberingPlan.type(a)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(a){return this.selectNumberingPlan(a)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),Aa=(function(){function e(r,a){or(this,e),this.globalMetadataObject=a,this.metadata=r,Kn.call(this,a.metadata)}return dr(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(a){return a[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var a=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(s){return new fl(s,a)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(a){return a[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(a){if(this.hasTypes()&&Ra(this.types(),a))return new xl(Ra(this.types(),a),this)}},{key:"ext",value:function(){return this.v1||this.v2?_a:this.metadata[13]||_a}}])})(),fl=(function(){function e(r,a){or(this,e),this._format=r,this.metadata=a}return dr(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!hl.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),hl=/^\(?\$1\)?$/,xl=(function(){function e(r,a){or(this,e),this.type=r,this.metadata=a}return dr(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function Ra(e,r){switch(r){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function Wn(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!st(e)||!st(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(st(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+bl(e)+": "+e,"."))}var bl=function(r){return dt(r)};function Gr(e,r){if(r=new ue(r),r.hasCountry(e))return r.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function yl(e,r){return r.countries.hasOwnProperty(e)}function Kn(e){var r=e.version;typeof r=="number"?(this.v1=r===1,this.v2=r===2,this.v3=r===3,this.v4=r===4):r?Ia(r,ml)===-1?this.v2=!0:Ia(r,pl)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function qr(e,r,a){return $l(e,r,void 0,a)}function $l(e,r,a,n){r&&(n=new ue(n.metadata),n.selectNumberingPlan(r));var s=n.type(a),o=s&&s.possibleLengths()||n.possibleLengths();if(!o)return"IS_POSSIBLE";var i=e.length,d=o[0];return d===i?"IS_POSSIBLE":d>i?"TOO_SHORT":o[o.length-1]<i?"TOO_LONG":o.indexOf(i,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function wl(e,r,a){if(r===void 0&&(r={}),a=new ue(a),r.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!a.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));a.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(e.countryCallingCode)}}if(a.possibleLengths())return Jn(e.phone||e.nationalNumber,e.country,a);if(e.countryCallingCode&&a.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function Jn(e,r,a){return qr(e,r,a)==="IS_POSSIBLE"}function Fe(e,r){return e=e||"",new RegExp("^(?:"+r+")$").test(e)}function vl(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=Nl(e))||r){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nl(e,r){if(e){if(typeof e=="string")return Oa(e,r);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Oa(e,r):void 0}}function Oa(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=Array(r);a<r;a++)n[a]=e[a];return n}var jl=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Wr(e,r,a){if(r=r||{},!(!e.country&&!e.countryCallingCode)){a=new ue(a),a.selectNumberingPlan(e.country,e.countryCallingCode);var n=r.v2?e.nationalNumber:e.phone;if(Fe(n,a.nationalNumberPattern())){if(yr(n,"FIXED_LINE",a))return a.type("MOBILE")&&a.type("MOBILE").pattern()===""||!a.type("MOBILE")||yr(n,"MOBILE",a)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var s=vl(jl),o;!(o=s()).done;){var i=o.value;if(yr(n,i,a))return i}}}}function yr(e,r,a){return r=a.type(r),!r||!r.pattern()||r.possibleLengths()&&r.possibleLengths().indexOf(e.length)<0?!1:Fe(e,r.pattern())}function kl(e,r,a){if(r=r||{},a=new ue(a),a.selectNumberingPlan(e.country,e.countryCallingCode),a.hasTypes())return Wr(e,r,a.metadata)!==void 0;var n=r.v2?e.nationalNumber:e.phone;return Fe(n,a.nationalNumberPattern())}function Cl(e,r,a){var n=new ue(a),s=n.getCountryCodesForCallingCode(e);return s?s.filter(function(o){return Sl(r,o,a)}):[]}function Sl(e,r,a){var n=new ue(a);return n.selectNumberingPlan(r),n.numberingPlan.possibleLengths().indexOf(e.length)>=0}var Kr=2,Pl=17,El=3,ke="0-9ï¼-ï¼™Ù -Ù©Û°-Û¹",Dl="-â€-â€•âˆ’ãƒ¼ï¼",Il="ï¼/",_l="ï¼Ž.",Al=" Â Â­â€‹â ã€€",Rl="()ï¼ˆï¼‰ï¼»ï¼½\\[\\]",Ol="~â“âˆ¼ï½ž",Yt="".concat(Dl).concat(Il).concat(_l).concat(Al).concat(Rl).concat(Ol),Jr="+ï¼‹",Tl=new RegExp("(["+ke+"])");function Fl(e,r,a,n){if(r){var s=new ue(n);s.selectNumberingPlan(r,a);var o=new RegExp(s.IDDPrefix());if(e.search(o)===0){e=e.slice(e.match(o)[0].length);var i=e.match(Tl);if(!(i&&i[1]!=null&&i[1].length>0&&i[1]==="0"))return e}}}function Ll(e,r){if(e&&r.numberingPlan.nationalPrefixForParsing()){var a=new RegExp("^(?:"+r.numberingPlan.nationalPrefixForParsing()+")"),n=a.exec(e);if(n){var s,o,i=n.length-1,d=i>0&&n[i];if(r.nationalPrefixTransformRule()&&d)s=e.replace(a,r.nationalPrefixTransformRule()),i>1&&(o=n[1]);else{var u=n[0];s=e.slice(u.length),d&&(o=n[1])}var l;if(d){var c=e.indexOf(n[1]),g=e.slice(0,c);g===r.numberingPlan.nationalPrefix()&&(l=r.numberingPlan.nationalPrefix())}else l=n[0];return{nationalNumber:s,nationalPrefix:l,carrierCode:o}}}return{nationalNumber:e}}function Ml(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=Ul(e))||r){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ul(e,r){if(e){if(typeof e=="string")return Ta(e,r);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ta(e,r):void 0}}function Ta(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=Array(r);a<r;a++)n[a]=e[a];return n}function Bl(e,r){var a=r.countries,n=r.metadata;n=new ue(n);for(var s=Ml(a),o;!(o=s()).done;){var i=o.value;if(n.selectNumberingPlan(i),n.leadingDigits()){if(e&&e.search(n.leadingDigits())===0)return i}else if(Wr({phone:e,country:i},void 0,n.metadata))return i}}function Xn(e,r){var a=r.nationalNumber,n=r.metadata,s=n.getCountryCodesForCallingCode(e);if(s)return s.length===1?s[0]:Bl(a,{countries:s,metadata:n.metadata})}function Er(e,r,a){var n=Ll(e,a),s=n.carrierCode,o=n.nationalNumber;if(o!==e){if(!Hl(e,o,a))return{nationalNumber:e};if(a.numberingPlan.possibleLengths()&&(r||(r=Xn(a.numberingPlan.callingCode(),{nationalNumber:o,metadata:a})),!Vl(o,r,a)))return{nationalNumber:e}}return{nationalNumber:o,carrierCode:s}}function Hl(e,r,a){return!(Fe(e,a.nationalNumberPattern())&&!Fe(r,a.nationalNumberPattern()))}function Vl(e,r,a){switch(qr(e,r,a)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function zl(e,r,a,n,s){var o=a?Gr(a,s):n;if(e.indexOf(o)===0){s=new ue(s),s.selectNumberingPlan(a,o);var i=e.slice(o.length),d=Er(i,r,s),u=d.nationalNumber,l=Er(e,r,s),c=l.nationalNumber;if(!Fe(c,s.nationalNumberPattern())&&Fe(u,s.nationalNumberPattern())||qr(c,r,s)==="TOO_LONG")return{countryCallingCode:o,number:i}}return{number:e}}function Yn(e,r,a,n,s){if(!e)return{};var o;if(e[0]!=="+"){var i=Fl(e,a,n,s);if(i&&i!==e)o=!0,e="+"+i;else{if(a||n){var d=zl(e,r,a,n,s),u=d.countryCallingCode,l=d.number;if(u)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:u,number:l}}return{number:e}}}if(e[1]==="0")return{};s=new ue(s);for(var c=2;c-1<=El&&c<=e.length;){var g=e.slice(1,c);if(s.hasCallingCode(g))return s.selectNumberingPlan(g),{countryCallingCodeSource:o?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:g,number:e.slice(c)};c++}return{}}function Gl(e){return e.replace(new RegExp("[".concat(Yt,"]+"),"g")," ").trim()}var ql=/(\$\d)/;function Wl(e,r,a){var n=a.useInternationalFormat,s=a.withNationalPrefix,o=e.replace(new RegExp(r.pattern()),n?r.internationalFormat():s&&r.nationalPrefixFormattingRule()?r.format().replace(ql,r.nationalPrefixFormattingRule()):r.format());return n?Gl(o):o}var Kl=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function Jl(e,r,a){var n=new ue(a);if(n.selectNumberingPlan(e,r),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(Kl.test(n.IDDPrefix()))return n.IDDPrefix()}var Xl=";ext=",Ze=function(r){return"([".concat(ke,"]{1,").concat(r,"})")};function Zn(e){var r="20",a="15",n="9",s="6",o="[ Â \\t,]*",i="[:\\.ï¼Ž]?[ Â \\t,-]*",d="#?",u="(?:e?xt(?:ensi(?:oÌ?|Ã³))?n?|ï½…?ï½˜ï½”ï½Ž?|Ð´Ð¾Ð±|anexo)",l="(?:[xï½˜#ï¼ƒ~ï½ž]|int|ï½‰ï½Žï½”)",c="[- ]+",g="[ Â \\t]*",f="(?:,{2}|;)",j=Xl+Ze(r),x=o+u+i+Ze(r)+d,w=o+l+i+Ze(n)+d,v=c+Ze(s)+"#",b=g+f+i+Ze(a)+d,h=g+"(?:,)+"+i+Ze(n)+d;return j+"|"+x+"|"+w+"|"+v+"|"+b+"|"+h}var Yl="["+ke+"]{"+Kr+"}",Zl="["+Jr+"]{0,1}(?:["+Yt+"]*["+ke+"]){3,}["+Yt+ke+"]*",Ql=new RegExp("^["+Jr+"]{0,1}(?:["+Yt+"]*["+ke+"]){1,2}$","i"),ec=Zl+"(?:"+Zn()+")?",tc=new RegExp("^"+Yl+"$|^"+ec+"$","i");function rc(e){return e.length>=Kr&&tc.test(e)}function ac(e){return Ql.test(e)}function nc(e){var r=e.number,a=e.ext;if(!r)return"";if(r[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(r).concat(a?";ext="+a:"")}var Fa={formatExtension:function(r,a,n){return"".concat(r).concat(n.ext()).concat(a)}};function sc(e,r,a,n){if(a?a=dc({},Fa,a):a=Fa,n=new ue(n),e.country&&e.country!=="001"){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else if(e.countryCallingCode)n.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var s=n.countryCallingCode(),o=a.v2?e.nationalNumber:e.phone,i;switch(r){case"NATIONAL":return o?(i=Zt(o,e.carrierCode,"NATIONAL",n,a),$r(i,e.ext,n,a.formatExtension)):"";case"INTERNATIONAL":return o?(i=Zt(o,null,"INTERNATIONAL",n,a),i="+".concat(s," ").concat(i),$r(i,e.ext,n,a.formatExtension)):"+".concat(s);case"E.164":return"+".concat(s).concat(o);case"RFC3966":return nc({number:"+".concat(s).concat(o),ext:e.ext});case"IDD":if(!a.fromCountry)return;var d=oc(o,e.carrierCode,s,a.fromCountry,n);return $r(d,e.ext,n,a.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(r,'"'))}}function Zt(e,r,a,n,s){var o=ic(n.formats(),e);return o?Wl(e,o,{useInternationalFormat:a==="INTERNATIONAL",withNationalPrefix:!(o.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&s&&s.nationalPrefix===!1)}):e}function ic(e,r){return lc(e,function(a){if(a.leadingDigitsPatterns().length>0){var n=a.leadingDigitsPatterns()[a.leadingDigitsPatterns().length-1];if(r.search(n)!==0)return!1}return Fe(r,a.pattern())})}function $r(e,r,a,n){return r?n(e,r,a):e}function oc(e,r,a,n,s){var o=Gr(n,s.metadata);if(o===a){var i=Zt(e,r,"NATIONAL",s);return a==="1"?a+" "+i:i}var d=Jl(n,void 0,s.metadata);if(d)return"".concat(d," ").concat(a," ").concat(Zt(e,null,"INTERNATIONAL",s))}function dc(){for(var e=1,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];for(;e<a.length;){if(a[e])for(var s in a[e])a[0][s]=a[e][s];e++}return a[0]}function lc(e,r){for(var a=0;a<e.length;){if(r(e[a]))return e[a];a++}}function $t(e){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$t(e)}function La(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Ma(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?La(Object(a),!0).forEach(function(n){cc(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function cc(e,r,a){return(r=Qn(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function uc(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mc(e,r){for(var a=0;a<r.length;a++){var n=r[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qn(n.key),n)}}function pc(e,r,a){return r&&mc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qn(e){var r=gc(e,"string");return $t(r)=="symbol"?r:r+""}function gc(e,r){if($t(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if($t(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fc=(function(){function e(r,a,n){if(uc(this,e),!r)throw new TypeError("First argument is required");if(typeof r!="string")throw new TypeError("First argument must be a string");if(r[0]==="+"&&!a)throw new TypeError("`metadata` argument not passed");if(st(a)&&st(a.countries)){n=a;var s=r;if(!bc.test(s))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var o=Yn(s,void 0,void 0,void 0,n),i=o.countryCallingCode,d=o.number;if(a=d,r=i,!a)throw new Error("Invalid `number` argument passed: too short")}if(!a)throw new TypeError("`nationalNumber` argument is required");if(typeof a!="string")throw new TypeError("`nationalNumber` argument must be a string");Wn(n);var u=xc(r,n),l=u.country,c=u.countryCallingCode;this.country=l,this.countryCallingCode=c,this.nationalNumber=a,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return pc(e,[{key:"setExt",value:function(a){this.ext=a}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:Cl(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return wl(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return kl(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var a=new ue(this.getMetadata());return a.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(a){return this.number===a.number&&this.ext===a.ext}},{key:"getType",value:function(){return Wr(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(a,n){return sc(this,a,n?Ma(Ma({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(a){return this.format("NATIONAL",a)}},{key:"formatInternational",value:function(a){return this.format("INTERNATIONAL",a)}},{key:"getURI",value:function(a){return this.format("RFC3966",a)}}])})(),hc=function(r){return/^[A-Z]{2}$/.test(r)};function xc(e,r){var a,n,s=new ue(r);return hc(e)?(a=e,s.selectNumberingPlan(a),n=s.countryCallingCode()):n=e,{country:a,countryCallingCode:n}}var bc=/^\+\d+$/;function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dr(e)}function yc(e,r,a){return Object.defineProperty(e,"prototype",{writable:!1}),e}function $c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wc(e,r,a){return r=vt(r),vc(e,Xr()?Reflect.construct(r,a||[],vt(e).constructor):r.apply(e,a))}function vc(e,r){if(r&&(Dr(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nc(e)}function Nc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jc(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&wt(e,r)}function Ir(e){var r=typeof Map=="function"?new Map:void 0;return Ir=function(n){if(n===null||!Cc(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(n))return r.get(n);r.set(n,s)}function s(){return kc(n,arguments,vt(this).constructor)}return s.prototype=Object.create(n.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),wt(s,n)},Ir(e)}function kc(e,r,a){if(Xr())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,r);var s=new(e.bind.apply(e,n));return a&&wt(s,a.prototype),s}function Xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xr=function(){return!!e})()}function Cc(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function wt(e,r){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},wt(e,r)}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vt(e)}var Oe=(function(e){function r(a){var n;return $c(this,r),n=wc(this,r,[a]),Object.setPrototypeOf(n,r.prototype),n.name=n.constructor.name,n}return jc(r,e),yc(r)})(Ir(Error)),Ua=new RegExp("(?:"+Zn()+")$","i");function Sc(e){var r=e.search(Ua);if(r<0)return{};for(var a=e.slice(0,r),n=e.match(Ua),s=1;s<n.length;){if(n[s])return{number:a,ext:n[s]};s++}}var Pc={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","ï¼":"0","ï¼‘":"1","ï¼’":"2","ï¼“":"3","ï¼”":"4","ï¼•":"5","ï¼–":"6","ï¼—":"7","ï¼˜":"8","ï¼™":"9","Ù ":"0","Ù¡":"1","Ù¢":"2","Ù£":"3","Ù¤":"4","Ù¥":"5","Ù¦":"6","Ù§":"7","Ù¨":"8","Ù©":"9","Û°":"0","Û±":"1","Û²":"2","Û³":"3","Û´":"4","Ûµ":"5","Û¶":"6","Û·":"7","Û¸":"8","Û¹":"9"};function Ec(e){return Pc[e]}function Dc(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=Ic(e))||r){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ic(e,r){if(e){if(typeof e=="string")return Ba(e,r);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ba(e,r):void 0}}function Ba(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=Array(r);a<r;a++)n[a]=e[a];return n}function Ha(e){for(var r="",a=Dc(e.split("")),n;!(n=a()).done;){var s=n.value;r+=_c(s,r)||""}return r}function _c(e,r,a){return e==="+"?r?void 0:"+":Ec(e)}var es="+",Ac="[\\-\\.\\(\\)]?",Va="(["+ke+"]|"+Ac+")",Rc="^\\"+es+Va+"*["+ke+"]"+Va+"*$",Oc=new RegExp(Rc,"g"),_r=ke,Tc="["+_r+"]+((\\-)*["+_r+"])*",Fc="a-zA-Z",Lc="["+Fc+"]+((\\-)*["+_r+"])*",Mc="^("+Tc+"\\.)*"+Lc+"\\.?$",Uc=new RegExp(Mc,"g"),za="tel:",Ar=";phone-context=",Bc=";isub=";function Hc(e){var r=e.indexOf(Ar);if(r<0)return null;var a=r+Ar.length;if(a>=e.length)return"";var n=e.indexOf(";",a);return n>=0?e.substring(a,n):e.substring(a)}function Vc(e){return e===null?!0:e.length===0?!1:Oc.test(e)||Uc.test(e)}function zc(e,r){var a=r.extractFormattedPhoneNumber,n=Hc(e);if(!Vc(n))throw new Oe("NOT_A_NUMBER");var s;if(n===null)s=a(e)||"";else{s="",n.charAt(0)===es&&(s+=n);var o=e.indexOf(za),i;o>=0?i=o+za.length:i=0;var d=e.indexOf(Ar);s+=e.substring(i,d)}var u=s.indexOf(Bc);if(u>0&&(s=s.substring(0,u)),s!=="")return s}var Gc=250,qc=new RegExp("["+Jr+ke+"]"),Wc=new RegExp("[^"+ke+"#]+$");function Kc(e,r,a){if(r=r||{},a=new ue(a),r.defaultCountry&&!a.hasCountry(r.defaultCountry))throw r.v2?new Oe("INVALID_COUNTRY"):new Error("Unknown country: ".concat(r.defaultCountry));var n=Xc(e,r.v2,r.extract),s=n.number,o=n.ext,i=n.error;if(!s){if(r.v2)throw i==="TOO_SHORT"?new Oe("TOO_SHORT"):new Oe("NOT_A_NUMBER");return{}}var d=Zc(s,r.defaultCountry,r.defaultCallingCode,a),u=d.country,l=d.nationalNumber,c=d.countryCallingCode,g=d.countryCallingCodeSource,f=d.carrierCode;if(!a.hasSelectedNumberingPlan()){if(r.v2)throw new Oe("INVALID_COUNTRY");return{}}if(!l||l.length<Kr){if(r.v2)throw new Oe("TOO_SHORT");return{}}if(l.length>Pl){if(r.v2)throw new Oe("TOO_LONG");return{}}if(r.v2){var j=new fc(c,l,a.metadata);return u&&(j.country=u),f&&(j.carrierCode=f),o&&(j.ext=o),j.__countryCallingCodeSource=g,j}var x=(r.extended?a.hasSelectedNumberingPlan():u)?Fe(l,a.nationalNumberPattern()):!1;return r.extended?{country:u,countryCallingCode:c,carrierCode:f,valid:x,possible:x?!0:!!(r.extended===!0&&a.possibleLengths()&&Jn(l,u,a)),phone:l,ext:o}:x?Yc(u,l,o):{}}function Jc(e,r,a){if(e){if(e.length>Gc){if(a)throw new Oe("TOO_LONG");return}if(r===!1)return e;var n=e.search(qc);if(!(n<0))return e.slice(n).replace(Wc,"")}}function Xc(e,r,a){var n=zc(e,{extractFormattedPhoneNumber:function(i){return Jc(i,a,r)}});if(!n)return{};if(!rc(n))return ac(n)?{error:"TOO_SHORT"}:{};var s=Sc(n);return s.ext?s:{number:n}}function Yc(e,r,a){var n={country:e,phone:r};return a&&(n.ext=a),n}function Zc(e,r,a,n){var s=Yn(Ha(e),void 0,r,a,n.metadata),o=s.countryCallingCodeSource,i=s.countryCallingCode,d=s.number,u;if(i)n.selectNumberingPlan(i);else if(d&&(r||a))n.selectNumberingPlan(r,a),r&&(u=r),i=a||Gr(r,n.metadata);else return{};if(!d)return{countryCallingCodeSource:o,countryCallingCode:i};var l=Er(Ha(d),u,n),c=l.nationalNumber,g=l.carrierCode,f=Xn(i,{nationalNumber:c,metadata:n});return f&&(u=f,f==="001"||n.selectNumberingPlan(u)),{country:u,countryCallingCode:i,countryCallingCodeSource:o,nationalNumber:c,carrierCode:g}}function Nt(e){"@babel/helpers - typeof";return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nt(e)}function Ga(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function qa(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Ga(Object(a),!0).forEach(function(n){Qc(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ga(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Qc(e,r,a){return(r=e0(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function e0(e){var r=t0(e,"string");return Nt(r)=="symbol"?r:r+""}function t0(e,r){if(Nt(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(Nt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function r0(e,r,a){return Kc(e,qa(qa({},r),{},{v2:!0}),a)}function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},jt(e)}function Wa(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function a0(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Wa(Object(a),!0).forEach(function(n){n0(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wa(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function n0(e,r,a){return(r=s0(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function s0(e){var r=i0(e,"string");return jt(r)=="symbol"?r:r+""}function i0(e,r){if(jt(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function o0(e,r){return u0(e)||c0(e,r)||l0(e,r)||d0()}function d0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l0(e,r){if(e){if(typeof e=="string")return Ka(e,r);var a={}.toString.call(e).slice(8,-1);return a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set"?Array.from(e):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ka(e,r):void 0}}function Ka(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,n=Array(r);a<r;a++)n[a]=e[a];return n}function c0(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var n,s,o,i,d=[],u=!0,l=!1;try{if(o=(a=a.call(e)).next,r!==0)for(;!(u=(n=o.call(a)).done)&&(d.push(n.value),d.length!==r);u=!0);}catch(c){l=!0,s=c}finally{try{if(!u&&a.return!=null&&(i=a.return(),Object(i)!==i))return}finally{if(l)throw s}}return d}}function u0(e){if(Array.isArray(e))return e}function m0(e){var r=Array.prototype.slice.call(e),a=o0(r,4),n=a[0],s=a[1],o=a[2],i=a[3],d,u,l;if(typeof n=="string")d=n;else throw new TypeError("A text for parsing must be a string.");if(!s||typeof s=="string")i?(u=o,l=i):(u=void 0,l=o),s&&(u=a0({defaultCountry:s},u));else if(st(s))o?(u=s,l=o):l=s;else throw new Error("Invalid second argument: ".concat(s));return{text:d,options:u,metadata:l}}function kt(e){"@babel/helpers - typeof";return kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kt(e)}function Ja(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,n)}return a}function Xa(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Ja(Object(a),!0).forEach(function(n){p0(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ja(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function p0(e,r,a){return(r=g0(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function g0(e){var r=f0(e,"string");return kt(r)=="symbol"?r:r+""}function f0(e,r){if(kt(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,r);if(kt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function h0(e,r,a){r&&r.defaultCountry&&!yl(r.defaultCountry,a)&&(r=Xa(Xa({},r),{},{defaultCountry:void 0}));try{return r0(e,r,a)}catch(n){if(!(n instanceof Oe))throw n}}function x0(){var e=m0(arguments),r=e.text,a=e.options,n=e.metadata;return h0(r,a,n)}function Ya(){return ol(x0,arguments)}const b0=["Toyota","Mercedes","BMW","Audi","Renault","Hyundai","Volkswagen","Peugeot","Kia","Dacia","Ford","Nissan","Jeep","Range Rover"],y0=["Casablanca","Rabat","Marrakech","Fez","Tangier","Agadir","Oujda","Kenitra","Tetouan","Essaouira","El Jadida","Laayoune"],$0=({car:e,formData:r,days:a,totalPrice:n,step:s})=>{const o={basic:50,premium:100,full:200}[r.insurance]||0,i={gps:25,wifi:40,babySeat:30,delivery:150};r.extras.reduce((u,l)=>u+(i[l]||0),0),a*(typeof e.pricePerDay=="number"?e.pricePerDay:parseFloat(e.pricePerDay)||0);const d={gps:{label:"Premium GPS",price:25},wifi:{label:"Mobile WiFi",price:40},babySeat:{label:"Child Seat",price:30},delivery:{label:"Delivery",price:150}};return t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-indigo-950/40 rounded-2xl shadow-sm border border-gray-200 dark:border-purple-800/30 overflow-hidden transition-colors duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-purple-800/30",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Cs,{className:"w-5 h-5 text-indigo-600 dark:text-purple-400"}),t.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Reservation"})]}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Step ",s," of 3"]})]}),t.jsxs("div",{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:t.jsx("img",{src:e.mainImage,alt:e.name,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:e.name}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ss,{className:"w-3 h-3 text-gray-400 dark:text-gray-500"}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:[e.brand," â€¢ ",e.city]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"flex justify-between items-center",children:t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[typeof e.pricePerDay=="number"?e.pricePerDay:parseFloat(e.pricePerDay)||0," MAD/day"]}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[a||0," day",a!==1?"s":""]})]})}),r.insurance&&o>0&&t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Insurance"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:r.insurance})]}),t.jsxs("p",{className:"font-semibold text-indigo-600 dark:text-purple-400",children:["+",o," MAD"]})]}),r.extras.length>0&&t.jsxs("div",{className:"border-t border-gray-100 dark:border-purple-800/30 pt-3",children:[t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:"Additional options"}),r.extras.map(u=>{const l=d[u];return l?t.jsxs("div",{className:"flex justify-between items-center text-sm mb-2",children:[t.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:l.label}),t.jsxs("span",{className:"font-medium text-indigo-600 dark:text-purple-400",children:["+",l.price," MAD"]})]},u):null})]})]}),t.jsx("div",{className:"border-t border-gray-200 dark:border-purple-800/30 pt-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"Total"}),a>0&&t.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Math.round(n/a)," MAD/day average"]})]}),t.jsxs(O.div,{initial:{scale:1.1},animate:{scale:1},className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n," MAD"]},n)]})})]})]})]})})},w0=({steps:e,currentStep:r,onStepClick:a,isSubmitting:n})=>t.jsx("div",{className:"flex items-center justify-center",children:t.jsx("div",{className:"flex items-center gap-2 sm:gap-4 md:gap-6 lg:gap-10",children:e.map((s,o)=>{const i=s.icon,d=s.number===r,u=s.number<r;return t.jsxs("div",{className:"flex items-center",children:[t.jsxs(O.button,{onClick:()=>!n&&a(s.number),disabled:n,className:`flex items-center gap-1.5 sm:gap-2 md:gap-3 px-2 sm:px-3 md:px-4 py-1.5 sm:py-2 rounded-full transition-colors ${d?"bg-purple-800/30 text-white shadow-[0_8px_24px_rgba(0,0,0,0.25)] border border-purple-500/50":u?"text-emerald-600 dark:text-emerald-300":"text-purple-800 dark:text-gray-300 hover:text-purple-900 dark:hover:text-white"}`,children:[t.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center flex-shrink-0 ${d?"bg-purple-600 text-white":u?"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-600 dark:text-emerald-200 border border-emerald-300 dark:border-emerald-600/40":"bg-purple-800/20 dark:bg-gray-800 text-purple-800 dark:text-gray-300 border border-purple-800/30 dark:border-gray-700"}`,children:u?t.jsx(Ue,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5"}):t.jsx(i,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5"})}),t.jsxs("div",{className:"flex flex-col leading-tight text-left",children:[t.jsxs("span",{className:"text-[10px] sm:text-xs font-semibold",children:["Step ",s.number]}),t.jsx("span",{className:"text-xs sm:text-sm font-semibold",children:s.title})]})]}),o<e.length-1&&t.jsx("div",{className:"w-4 sm:w-6 md:w-12 lg:w-16 h-px bg-purple-900/50 mx-1 sm:mx-2 md:mx-3 lg:mx-4"})]},s.number)})})}),v0=({step:e,formData:r,onFormChange:a,onToggleExtra:n,days:s,subTotal:o,blockedDates:i,setFormData:d})=>{const u=[{id:"gps",label:"Premium GPS",price:25,icon:Tr},{id:"wifi",label:"Mobile WiFi",price:40,icon:Ns},{id:"babySeat",label:"Child Seat",price:30,icon:js},{id:"delivery",label:"Home Delivery",price:150,icon:an}],l=[{id:"basic",label:"Basic",price:50,desc:"Civil liability protection"},{id:"premium",label:"Premium",price:100,desc:"Collision + Theft + Assistance"},{id:"full",label:"Full Coverage",price:200,desc:"Complete coverage"}];switch(e){case 1:return t.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-indigo-950/40 rounded-2xl border border-gray-200 dark:border-purple-800/30 p-6 transition-colors duration-300",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Select Dates"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Choose your desired rental period"})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[t.jsx(je,{className:"w-4 h-4 text-purple-600 dark:text-gray-400"}),t.jsx("span",{children:"Start Date"})]}),t.jsx("input",{type:"date",name:"startDate",value:r.startDate,onChange:c=>{const g=c.target.value;if(i.includes(g)){Z.error("This date is already booked. Please choose another date.");return}a(c),r.endDate&&r.endDate<g&&d(f=>({...f,endDate:""}))},min:new Date().toISOString().split("T")[0],required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:opacity-60 [&::-webkit-calendar-picker-indicator]:hover:opacity-100 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[0.4] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:hue-rotate-[250deg] dark:[&::-webkit-calendar-picker-indicator]:invert"}),i.length>0&&t.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Note: Some dates are already booked and cannot be selected"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[t.jsx(ks,{className:"w-4 h-4 text-purple-600 dark:text-gray-400"}),t.jsx("span",{children:"End Date"})]}),t.jsx("input",{type:"date",name:"endDate",value:r.endDate,onChange:c=>{const g=c.target.value;if(!r.startDate){Z.error("Please select start date first");return}const f=new Date(r.startDate),j=new Date(g),x=new Set,w=new Date(f);for(;w<=j;){const b=w.toISOString().split("T")[0];x.add(b),w.setDate(w.getDate()+1)}if(i.filter(b=>x.has(b)).length>0){Z.error("Some dates in your selection are already booked. Please choose different dates.");return}a(c)},min:r.startDate||new Date().toISOString().split("T")[0],required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors [&::-webkit-calendar-picker-indicator]:cursor-pointer [&::-webkit-calendar-picker-indicator]:opacity-60 [&::-webkit-calendar-picker-indicator]:hover:opacity-100 [&::-webkit-calendar-picker-indicator]:filter [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[0.4] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:hue-rotate-[250deg] dark:[&::-webkit-calendar-picker-indicator]:invert"})]})]}),s>0&&t.jsx(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"mt-8 p-5 bg-emerald-50/80 dark:bg-emerald-900/20 rounded-xl border border-emerald-200/60 dark:border-emerald-800/50 transition-colors duration-300",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100/80 dark:bg-emerald-900/40 rounded-lg",children:t.jsx(Ue,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-emerald-700 dark:text-emerald-300",children:[s," day",s!==1?"s":""," selected"]}),t.jsxs("p",{className:"text-sm text-emerald-600/80 dark:text-emerald-400",children:["From ",new Date(r.startDate).toLocaleDateString("en-US",{day:"numeric",month:"long"})," ","to ",new Date(r.endDate).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})]})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-2xl font-bold text-emerald-700 dark:text-emerald-300",children:[o," MAD"]}),t.jsx("p",{className:"text-sm text-emerald-600/80 dark:text-emerald-400",children:"Rental cost"})]})]})})]},"step1");case 2:return t.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-indigo-950/40 rounded-2xl border border-gray-200 dark:border-purple-800/30 p-6 transition-colors duration-300",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Additional Options"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Customize your rental experience"})]}),t.jsxs("div",{className:"mb-10",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(vs,{className:"w-5 h-5 text-indigo-600 dark:text-purple-400"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Insurance Protection"})]}),t.jsx("div",{className:"space-y-4",children:l.map(c=>{const g=r.insurance===c.id;return t.jsx("label",{className:`block p-4 rounded-xl border cursor-pointer transition-all ${g?"border-indigo-500 dark:border-purple-500 bg-indigo-50 dark:bg-purple-900/30":"border-gray-300 dark:border-purple-800/50 hover:border-gray-400 dark:hover:border-purple-700"}`,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mt-0.5 ${g?"border-indigo-500 dark:border-purple-500 bg-indigo-500 dark:bg-purple-600":"border-gray-400 dark:border-gray-600"}`,children:g&&t.jsx(Ue,{className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:c.label}),t.jsxs("span",{className:"text-lg font-bold text-indigo-600 dark:text-purple-400",children:["+",c.price," MAD"]})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:c.desc})]})]}),t.jsx("input",{type:"radio",name:"insurance",value:c.id,checked:g,onChange:a,className:"sr-only"})]})},c.id)})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(rn,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Additional Services"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:u.map(c=>{const g=c.icon,f=r.extras.includes(c.id);return t.jsxs("label",{className:`relative p-4 rounded-xl border cursor-pointer transition-all ${f?"border-purple-500 dark:border-purple-500 bg-purple-50 dark:bg-purple-900/30":"border-gray-300 dark:border-purple-800/50 hover:border-gray-400 dark:hover:border-purple-700"}`,children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[t.jsx("div",{className:`p-2 rounded-lg ${f?"bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-400":"bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:t.jsx(g,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:c.label}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["+",c.price," MAD"]})]})]}),t.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center ${f?"border-purple-500 dark:border-purple-500 bg-purple-500 dark:bg-purple-600":"border-gray-400 dark:border-gray-600"}`,children:f&&t.jsx(Ue,{className:"w-3 h-3 text-white"})})]}),t.jsx("input",{type:"checkbox",checked:f,onChange:()=>n(c.id),className:"sr-only"})]},c.id)})})]})]},"step2");case 3:return t.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white dark:bg-indigo-950/40 rounded-2xl border border-gray-200 dark:border-purple-800/30 p-6 transition-colors duration-300",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Contact Information"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Provide your details to finalize the booking"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"First Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(it,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-500"}),t.jsx("input",{type:"text",name:"firstName",value:r.firstName,onChange:a,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",placeholder:"Your first name"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Last Name"}),t.jsx("input",{type:"text",name:"lastName",value:r.lastName,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",placeholder:"Your last name"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),t.jsx("span",{children:"Email Address"})]}),t.jsx("input",{type:"email",name:"email",value:r.email,onChange:a,required:!0,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",placeholder:"example@email.com"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx($s,{className:"w-4 h-4"}),t.jsx("span",{children:"Phone Number"})]}),t.jsx("div",{className:"relative rounded-lg border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 focus-within:border-indigo-500 dark:focus-within:border-purple-500 focus-within:ring-2 focus-within:ring-indigo-200 dark:focus-within:ring-purple-800/50 transition-colors overflow-visible",children:t.jsx(sl,{defaultCountry:"ma",value:r.phone,onChange:c=>a({target:{name:"phone",value:c}}),hideDropdown:!1,disableDialCodePrefill:!1,className:"w-full !text-base",inputClassName:"!w-full !h-12 !pl-3 !pr-4 !bg-transparent !text-base !font-normal !text-gray-900 dark:!text-white !placeholder-gray-400 dark:!placeholder-gray-400 !border-0 !shadow-none !focus:ring-0 !focus:border-0",countrySelectorStyleProps:{buttonClassName:"!h-12 !min-w-[60px] !px-3 !rounded-l-lg !border-r !border-gray-300 dark:!border-purple-800/50 !bg-white dark:!bg-gray-700 !text-gray-900 dark:!text-white hover:!bg-gray-100 dark:hover:!bg-gray-600",dropdownStyle:{zIndex:60,backgroundColor:"#ffffff",color:"#0f172a",border:"1px solid rgba(17, 24, 39, 0.12)",borderRadius:"16px",boxShadow:"0 14px 34px rgba(0,0,0,0.12)"}},dropdownClassName:"!bg-white !text-gray-900 !border !border-gray-200 !shadow-2xl !mt-3 !rounded-2xl dark:!bg-[#1f2430] dark:!text-white dark:!border-purple-800/60",inputProps:{autoComplete:"tel"},placeholder:"Phone number"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(ws,{className:"w-4 h-4"}),t.jsx("span",{children:"Payment Method"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{name:"paymentMethod",value:r.paymentMethod,onChange:a,className:"w-full appearance-none pr-12 pl-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",children:[t.jsx("option",{value:"card",children:"Credit Card"}),t.jsx("option",{value:"cash",children:"Cash Payment"})]}),t.jsx(Ie,{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 dark:text-gray-300"})]})]}),r.paymentMethod==="card"&&t.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"space-y-4 mt-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(zt,{className:"w-4 h-4"}),t.jsx("span",{children:"Card Number"})]}),t.jsx("input",{type:"text",name:"cardNumber",value:r.cardNumber||"",onChange:a,maxLength:19,placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",required:r.paymentMethod==="card"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{children:"Cardholder Name"})]}),t.jsx("input",{type:"text",name:"cardholderName",value:r.cardholderName||"",onChange:a,placeholder:"John Doe",className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",required:r.paymentMethod==="card"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(je,{className:"w-4 h-4"}),t.jsx("span",{children:"Expiry Date"})]}),t.jsx("input",{type:"text",name:"cardExpiry",value:r.cardExpiry||"",onChange:a,maxLength:5,placeholder:"MM/YY",className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",required:r.paymentMethod==="card"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[t.jsx(Mr,{className:"w-4 h-4"}),t.jsx("span",{children:"CVV"})]}),t.jsx("input",{type:"text",name:"cardCVV",value:r.cardCVV||"",onChange:a,maxLength:4,placeholder:"123",className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-800/50 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-800/50 outline-none transition-colors",required:r.paymentMethod==="card"})]})]})]})]})]},"step3");default:return null}};function ts({isEmbedded:e=!1,carId:r}){const{carId:a}=Qa(),n=r||a,s=lt(),[o,i]=m.useState(null),[d,u]=m.useState([]),[l,c]=m.useState({startDate:"",endDate:"",firstName:"",lastName:"",email:"",phone:"",paymentMethod:"card",cardNumber:"",cardholderName:"",cardExpiry:"",cardCVV:"",insurance:"",extras:[]}),[g,f]=m.useState(!1),[j,x]=m.useState(1);m.useEffect(()=>{n&&(async()=>{try{const{carAPI:A,reservationAPI:T}=await ie(async()=>{const{carAPI:M,reservationAPI:W}=await Promise.resolve().then(()=>ce);return{carAPI:M,reservationAPI:W}},void 0),C=(await A.getCarById(n)).data,G=localStorage.getItem("carrent_current_user");if(G)try{const M=JSON.parse(G),W=typeof M.id=="string"?parseInt(M.id):M.id,L=typeof C.ownerId=="string"?parseInt(C.ownerId):C.ownerId;if(W===L){if(Z.error("You cannot book your own car!"),e)return;s("/catalogue");return}}catch(M){console.error("Error checking owner:",M)}const D={id:C.id,name:C.name,brand:C.brand,pricePerDay:typeof C.pricePerDay=="number"?C.pricePerDay:parseFloat(C.pricePerDay)||0,city:C.city,availability:C.availability,owner:C.ownerName,ownerId:C.ownerId,mainImage:C.mainImageUrl||"",images:C.imagesUrl||[],seats:C.seats,fuel:C.fuelType,gearbox:C.gearbox,latitude:C.latitude,longitude:C.longitude};i(D);try{const W=(await T.getReservationsByCar(n)).data||[],L=new Set;console.log("Loading reservations for car:",n),console.log("Found reservations:",W),W.forEach(J=>{if(console.log("Processing reservation:",J.id,"Status:",J.status,"Dates:",J.startDate,"-",J.endDate),J.status==="confirmed"){const ee=new Date(J.startDate),P=new Date(J.endDate),p=new Date(ee);for(;p<=P;){const E=p.toISOString().split("T")[0];L.add(E),p.setDate(p.getDate()+1)}}}),console.log("Blocked dates:",Array.from(L)),u(Array.from(L))}catch(M){console.error("Error loading reservations:",M),u([])}if(G)try{const M=JSON.parse(G);c(W=>({...W,firstName:M.name?M.name.split(" ")[0]:"",lastName:M.name?M.name.split(" ").slice(1).join(" "):"",email:M.email||""}))}catch{}}catch(A){console.error("Error loading car:",A),Z.error("Vehicle not found"),e||s("/catalogue")}})()},[n,s,e]);const w=async R=>{if(R?.preventDefault(),j<3){if(j===1&&(!l.startDate||!l.endDate)){Z.error("Please select rental dates");return}if(j===2&&!l.insurance){Z.error("Please choose an insurance option");return}x(j+1),window.scrollTo({top:0,behavior:"smooth"});return}if(!l.firstName||!l.lastName||!l.email||!l.phone){Z.error("Please fill in all contact information fields");return}const A=Ya(l.phone||"");if(!A||!A.isValid()){Z.error("Please enter a valid phone number");return}if(!l.insurance){Z.error("Please choose an insurance option");return}const T=localStorage.getItem("carrent_current_user");if(T&&o)try{const N=JSON.parse(T),C=typeof N.id=="string"?parseInt(N.id):N.id,G=typeof o.ownerId=="string"?parseInt(o.ownerId):o.ownerId;if(C===G){Z.error("You cannot book your own car!"),f(!1);return}}catch(N){console.error("Error checking owner:",N)}if(l.startDate&&l.endDate){const N=new Date(l.startDate),C=new Date(l.endDate),G=new Set,D=new Date(N);for(;D<=C;){const W=D.toISOString().split("T")[0];G.add(W),D.setDate(D.getDate()+1)}if(d.some(W=>G.has(W))){Z.error("Some selected dates are already booked. Please choose different dates."),f(!1);return}}if(l.paymentMethod==="card"){if(!l.cardNumber||!l.cardholderName||!l.cardExpiry||!l.cardCVV){Z.error("Please fill in all credit card details");return}const N=l.cardNumber.replace(/\s/g,"");if(N.length<13||N.length>19){Z.error("Please enter a valid card number");return}if(!/^\d{2}\/\d{2}$/.test(l.cardExpiry)){Z.error("Please enter a valid expiry date (MM/YY)");return}if(l.cardCVV.length<3||l.cardCVV.length>4){Z.error("Please enter a valid CVV");return}}f(!0);try{const N=localStorage.getItem("carrent_current_user");if(!N){Z.error("Please log in to make a reservation"),f(!1);return}const C=JSON.parse(N),G=Ya(l.phone||""),D=G&&G.isValid()?G.formatInternational():l.phone,{reservationAPI:M}=await ie(async()=>{const{reservationAPI:L}=await Promise.resolve().then(()=>ce);return{reservationAPI:L}},void 0),W={userId:C.id,carId:o.id,startDate:l.startDate,endDate:l.endDate,days:S,insuranceType:l.insurance||"basic",extras:l.extras||[],totalPrice:q,status:"pending"};try{await M.createReservation(W),Z.success(t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Ue,{className:"w-6 h-6 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold",children:"Booking request submitted!"}),t.jsx("p",{className:"text-sm opacity-90",children:"Waiting for owner approval. You'll be notified once approved."})]})]}),{duration:4e3}),setTimeout(()=>{if(f(!1),e){const L=localStorage.getItem("carrent_current_user");if(L)try{const J=JSON.parse(L);(J.role==="owner"||J.role==="OWNER")&&(J.id&&localStorage.setItem(`carrent_owner_active_tab_${J.id}`,"bookings"),window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"bookings"})))}catch{}}else s("/bookings")},1500)}catch(L){console.error("Error creating reservation:",L),console.error("Error response:",L.response?.data),console.error("Error details:",{message:L.message,status:L.response?.status,data:L.response?.data});let J=L.response?.data?.message||L.message||"Failed to create reservation";if(typeof J=="string"&&J.includes("RemoteException")){const ee=J.match(/java\.rmi\.RemoteException:\s*(.+?)(?:\n|$)/);ee&&ee[1]&&(J=ee[1].trim())}Z.error(`Error: ${J}`),f(!1);return}}catch(N){console.error("Error creating reservation:",N),Z.error(N.response?.data?.message||"Error creating reservation. Please try again."),f(!1)}},v=R=>{const{name:A,value:T}=R.target;let N=T;if(A==="cardNumber"&&(N=T.replace(/\s/g,"").replace(/(.{4})/g,"$1 ").trim()),A==="cardExpiry"){const C=T.replace(/\D/g,"");C.length>=2?N=C.slice(0,2)+"/"+C.slice(2,4):N=C}A==="cardCVV"&&(N=T.replace(/\D/g,"")),c(C=>({...C,[A]:N}))},b=R=>{c(A=>({...A,extras:A.extras.includes(R)?A.extras.filter(T=>T!==R):[...A.extras,R]}))},h=()=>{if(j>1)x(j-1),window.scrollTo({top:0,behavior:"smooth"});else if(e){const R=localStorage.getItem("carrent_current_user");if(R)try{const A=JSON.parse(R);(A.role==="owner"||A.role==="OWNER")&&(A.id&&localStorage.setItem(`carrent_owner_active_tab_${A.id}`,"home"),window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"home"})))}catch{}}else s(-1)},I=R=>{R<j&&(x(R),window.scrollTo({top:0,behavior:"smooth"}))};if(!o)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});const S=l.startDate&&l.endDate?Math.max(1,Math.ceil((new Date(l.endDate).setHours(0,0,0,0)-new Date(l.startDate).setHours(0,0,0,0))/(1e3*60*60*24))):0,B=o?typeof o.pricePerDay=="number"?o.pricePerDay:parseFloat(o.pricePerDay)||0:0,k={basic:50,premium:100,full:200}[l.insurance]||0,_={gps:25,wifi:40,babySeat:30,delivery:150},V=l.extras.reduce((R,A)=>R+(_[A]||0),0),z=S*B,q=z+k+V,$=[{number:1,title:"Dates",icon:je},{number:2,title:"Options",icon:rn},{number:3,title:"Payment",icon:zt}];return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-[#1a0f24] transition-colors duration-300",children:[t.jsx("div",{className:"sticky top-0 z-40 bg-white dark:bg-indigo-950/40 border-b border-gray-200 dark:border-purple-800/30 shadow-sm backdrop-blur-md transition-colors duration-300",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"py-3",children:t.jsx("div",{className:"flex items-center justify-center",children:t.jsx(w0,{steps:$,currentStep:j,onStepClick:I,isSubmitting:g})})})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"md:col-span-2 space-y-8",children:[t.jsx("form",{onSubmit:w,children:t.jsx(v0,{step:j,formData:l,onFormChange:v,onToggleExtra:b,days:S,subTotal:z,blockedDates:d,setFormData:c})}),t.jsx("div",{className:"bg-white dark:bg-indigo-950/40 rounded-2xl border border-gray-200 dark:border-purple-800/30 p-6 transition-colors duration-300",children:t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[j>1&&t.jsx(O.button,{type:"button",onClick:h,disabled:g,whileHover:{scale:1.01},whileTap:{scale:.99},className:"px-6 py-3 border border-gray-300 dark:border-purple-800/50 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-purple-900/30 transition-colors disabled:opacity-50",children:"Previous"}),t.jsx(O.button,{type:"button",onClick:w,disabled:g||j===1&&(!l.startDate||!l.endDate)||j===2&&!l.insurance,whileHover:g?{}:{scale:1.01},whileTap:g?{}:{scale:.99},className:`flex-1 py-3 px-6 rounded-lg font-semibold text-white transition-all flex items-center justify-center gap-2 ${g?"bg-indigo-500 dark:bg-purple-600 cursor-wait":"bg-indigo-600 dark:bg-purple-600 hover:bg-indigo-700 dark:hover:bg-purple-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),t.jsx("span",{children:"Processing..."})]}):j<3?t.jsxs(t.Fragment,{children:[t.jsxs("span",{children:["Continue to step ",j+1]}),t.jsx(Fr,{className:"w-4 h-4"})]}):t.jsxs(t.Fragment,{children:[t.jsx(Mr,{className:"w-4 h-4"}),t.jsx("span",{children:"Finalize booking"})]})})]})})]}),t.jsx("div",{className:"md:col-span-1",children:t.jsx($0,{car:o,formData:l,days:S,totalPrice:q,step:j})})]})})]})}const N0=m.memo(function({car:r,onDelete:a,onEdit:n}){return r.availability==="available"||r.available===!0||r.availability,t.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"group bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg transition-all duration-300 overflow-hidden border border-gray-200/30 dark:border-purple-800/20 flex flex-col h-full",children:[t.jsx("div",{className:"px-5 pt-4 pb-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-xs font-semibold",children:r.owner?r.owner.charAt(0).toUpperCase():"O"}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-white font-medium truncate transition-colors duration-300",title:r.owner,children:r.owner})]})}),t.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200",children:[r.mainImage?t.jsx("img",{src:r.mainImage,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",decoding:"async"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-indigo-50 to-purple-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-2 bg-gradient-to-br from-indigo-200 to-purple-200 rounded-xl"}),t.jsx("p",{className:"text-sm text-gray-500",children:"No image"})]})}),t.jsxs("div",{className:"absolute top-3 left-3 z-20 flex gap-2",children:[n&&t.jsx("button",{onClick:s=>{s.stopPropagation(),n(r)},className:"p-2 bg-white/90 dark:bg-indigo-950/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-white dark:hover:bg-indigo-950 transition-colors",title:"Edit car",children:t.jsx(Ps,{className:"w-4 h-4 text-indigo-600 dark:text-white"})}),a&&t.jsx("button",{onClick:s=>{s.stopPropagation(),window.confirm(`Are you sure you want to delete "${r.name}"?`)&&a(r.id)},className:"p-2 bg-white/90 dark:bg-indigo-950/90 backdrop-blur-sm rounded-full shadow-lg hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",title:"Delete car",children:t.jsx(Lr,{className:"w-4 h-4 text-red-600 dark:text-red-400"})})]})]}),t.jsxs("div",{className:"flex-1 p-5 flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white line-clamp-1 transition-colors duration-300",children:r.name}),t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-white transition-colors duration-300",children:[t.jsx(ze,{className:"w-4 h-4 text-indigo-500 dark:text-white"}),t.jsx("span",{children:r.city})]})]}),t.jsxs("div",{className:"flex gap-1.5 mb-3",children:[t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(bt,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsxs("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:[r.seats," seats"]})]}),t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(yt,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsx("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:r.fuel})]}),t.jsxs("div",{className:"flex-1 bg-purple-50/80 dark:bg-indigo-900/60 backdrop-blur-sm rounded-2xl p-2 border border-purple-200/50 dark:border-purple-700/30 flex items-center justify-center gap-1.5 transition-colors duration-300",children:[t.jsx(We,{className:"w-3 h-3 text-purple-600 dark:text-white flex-shrink-0"}),t.jsx("span",{className:"text-[10px] text-gray-700 dark:text-white leading-tight transition-colors duration-300",children:r.gearbox})]})]}),t.jsx("div",{className:"text-gray-900 dark:text-white transition-colors duration-300",children:t.jsxs("p",{className:"text-lg font-semibold",children:[t.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 dark:from-purple-200 dark:to-purple-300 bg-clip-text text-transparent align-middle",children:r.pricePerDay}),t.jsx("span",{className:"ml-1 text-sm font-medium align-middle text-gray-600 dark:text-white transition-colors duration-300",children:"MAD"}),t.jsx("span",{className:"ml-2 text-sm font-medium align-middle text-gray-500 dark:text-white transition-colors duration-300",children:"per day"})]})})]})]})});function j0({isOpen:e,onClose:r,onSave:a,carToEdit:n,ownerName:s}){const[o,i]=m.useState({name:"",brand:"",pricePerDay:"",city:"",seats:"",fuel:"",gearbox:"",mainImage:"",images:[],description:"",latitude:"",longitude:""}),[d,u]=m.useState([]),[l,c]=m.useState([]),g=(b,h=800,I=800,S=300)=>new Promise((B,k)=>{const _=new FileReader;_.onload=V=>{const z=new Image;z.onload=()=>{let q=z.width,$=z.height;if(q>h||$>I){const W=Math.min(h/q,I/$);q=Math.round(q*W),$=Math.round($*W)}const R=document.createElement("canvas");R.width=q,R.height=$;const A=R.getContext("2d");A.imageSmoothingEnabled=!0,A.imageSmoothingQuality="high",A.drawImage(z,0,0,q,$);const T="image/jpeg",N=S*1024;let C=.7,G=0;const D=5,M=()=>{const W=R.toDataURL(T,C);W.split(",")[1].length*3/4<=N||G>=D?B(W):(C=Math.max(.3,C-.15),C<=.4&&(q>600||$>600)&&(q=Math.round(q*.85),$=Math.round($*.85),R.width=q,R.height=$,A.drawImage(z,0,0,q,$)),G++,M())};M()},z.onerror=k,z.src=V.target.result},_.onerror=k,_.readAsDataURL(b)});m.useEffect(()=>{n?(i({name:n.name||"",brand:n.brand||"",pricePerDay:n.pricePerDay||"",city:n.city||"",seats:n.seats||"",fuel:n.fuel||"",gearbox:n.gearbox||"",mainImage:n.mainImage||"",images:n.images||[],description:n.description||"",latitude:n.latitude||"",longitude:n.longitude||""}),n.images&&n.images.length>0&&c(n.images)):(i({name:"",brand:"",pricePerDay:"",city:"",seats:"",fuel:"",gearbox:"",mainImage:"",images:[],description:"",latitude:"",longitude:""}),u([]),c([]))},[n,e]);const f=async b=>{const h=Array.from(b.target.files);if(h.length!==0)for(const I of h){if(!I.type.startsWith("image/")){alert("Please select only image files");continue}if(I.size>5*1024*1024){alert(`File ${I.name} is too large. Please use images smaller than 5MB.`);continue}try{const S=await g(I);l.length===0&&i(k=>({...k,mainImage:S})),c(k=>[...k,S]),i(k=>({...k,images:[...k.images,S]}))}catch(S){console.error("Error processing image:",S),alert(`Error processing ${I.name}. Please try again.`)}}},j=b=>{const h=l.filter((S,B)=>B!==b),I=o.images.filter((S,B)=>B!==b);c(h),i(S=>({...S,images:I})),b===0&&h.length>0?i(S=>({...S,mainImage:h[0]})):h.length===0&&i(S=>({...S,mainImage:""}))},[x,w]=m.useState(!1),v=async b=>{if(b.preventDefault(),!o.name||!o.brand||!o.pricePerDay||!o.city){alert("Please fill in all required fields");return}const h={...o,id:n?n.id:null,owner:s,availability:n?.availability||"available",pricePerDay:parseFloat(o.pricePerDay)||0,seats:Number(o.seats)||5,latitude:o.latitude?Number(o.latitude):void 0,longitude:o.longitude?Number(o.longitude):void 0,mainImage:o.mainImage,images:o.images||[]};try{w(!0),await a(h),r()}catch(I){console.error("Error saving car:",I)}finally{w(!1)}};return e?t.jsx(me,{children:t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),t.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative bg-white dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-200/30 dark:border-purple-800/20 w-full max-w-2xl max-h-[90vh] overflow-y-auto add-car-modal",children:[t.jsxs("div",{className:"sticky top-0 bg-white/90 dark:bg-indigo-950/90 backdrop-blur-xl border-b border-gray-200/30 dark:border-purple-800/20 px-6 py-4 flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n?"Edit Car":"Add New Car"}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:t.jsx(he,{className:"w-5 h-5 text-gray-600 dark:text-white"})})]}),t.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Car Name *"}),t.jsx("input",{type:"text",value:o.name,onChange:b=>i(h=>({...h,name:b.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Brand *"}),t.jsxs("select",{value:o.brand,onChange:b=>i(h=>({...h,brand:b.target.value})),className:"w-full pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none",required:!0,children:[t.jsx("option",{value:"",children:"Select Brand"}),b0.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Price per Day (MAD) *"}),t.jsx("input",{type:"number",value:o.pricePerDay,onChange:b=>{const h=b.target.value;i(I=>({...I,pricePerDay:h}))},className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",required:!0,min:"0",step:"0.01"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"City *"}),t.jsxs("select",{value:o.city,onChange:b=>i(h=>({...h,city:b.target.value})),className:"w-full pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none",required:!0,children:[t.jsx("option",{value:"",children:"Select City"}),y0.map(b=>t.jsx("option",{value:b,children:b},b))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Seats"}),t.jsx("input",{type:"number",value:o.seats,onChange:b=>i(h=>({...h,seats:b.target.value})),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"1",max:"9"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Fuel Type"}),t.jsxs("select",{value:o.fuel,onChange:b=>i(h=>({...h,fuel:b.target.value})),className:"w-full pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none",children:[t.jsx("option",{value:"",children:"Select Fuel Type"}),t.jsx("option",{value:"Gasoline",children:"Gasoline"}),t.jsx("option",{value:"Diesel",children:"Diesel"}),t.jsx("option",{value:"Electric",children:"Electric"}),t.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Transmission"}),t.jsxs("select",{value:o.gearbox,onChange:b=>i(h=>({...h,gearbox:b.target.value})),className:"w-full pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent appearance-none",children:[t.jsx("option",{value:"",children:"Select Transmission"}),t.jsx("option",{value:"Manual",children:"Manual"}),t.jsx("option",{value:"Automatic",children:"Automatic"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Description"}),t.jsx("textarea",{value:o.description,onChange:b=>i(h=>({...h,description:b.target.value})),rows:"3",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Car Images"}),t.jsx("div",{className:"flex flex-wrap gap-4 mb-4",children:l.map((b,h)=>t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:b,alt:`Preview ${h+1}`,className:"w-24 h-24 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),t.jsx("button",{type:"button",onClick:()=>j(h),className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600",children:t.jsx(he,{className:"w-4 h-4"})}),h===0&&t.jsx("span",{className:"absolute bottom-0 left-0 right-0 bg-indigo-600 text-white text-xs text-center py-1",children:"Main"})]},h))}),t.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:border-indigo-500 dark:hover:border-indigo-400 transition-colors",children:[t.jsx(Es,{className:"w-5 h-5 mr-2 text-gray-600 dark:text-white"}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-white",children:"Upload Images"}),t.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:f,className:"hidden"})]})]}),t.jsxs("div",{className:"flex gap-4 pt-4",children:[t.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Saving...":n?"Update Car":"Add Car"})]})]})]})]})}):null}function k0({userData:e,onSignOut:r,onSwitchToClient:a,onUpdateUserData:n}){const[s,o]=m.useState(()=>{if(e)return e;try{const P=localStorage.getItem("carrent_current_user");return P?JSON.parse(P):null}catch(P){return console.error("Error parsing userData from localStorage:",P),null}});m.useEffect(()=>{if(e)o(e);else try{const P=localStorage.getItem("carrent_current_user");if(P){const p=JSON.parse(P);o(p)}}catch(P){console.error("Error parsing userData from localStorage:",P)}},[e]),m.useEffect(()=>{const P=p=>{if(p.key==="carrent_current_user")try{const E=p.newValue;o(E?JSON.parse(E):null)}catch(E){console.error("Error parsing userData from storage event:",E)}};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[]);const[i,d]=m.useState("home"),[u,l]=m.useState(()=>localStorage.getItem(`carrent_client_mode_${s?.id}`)==="true"),[c,g]=m.useState([]),[f,j]=m.useState(!1),[x,w]=m.useState(!1),[v,b]=m.useState(null),[h,I]=m.useState(""),[S,B]=m.useState(null),[k,_]=m.useState([]),[V,z]=m.useState(!1),q=m.useRef(null);m.useEffect(()=>{(async()=>{const p=s||(()=>{try{const E=localStorage.getItem("carrent_current_user");return E?JSON.parse(E):null}catch{return null}})();if(p?.id){j(!0);try{const{carAPI:E}=await ie(async()=>{const{carAPI:F}=await Promise.resolve().then(()=>ce);return{carAPI:F}},void 0),K=((await E.getCarsByOwner(p.id)).data||[]).map(F=>({id:F.id,name:F.name,brand:F.brand,pricePerDay:typeof F.pricePerDay=="number"?F.pricePerDay:parseFloat(F.pricePerDay)||0,city:F.city,availability:F.availability,owner:F.ownerName||p.name,ownerId:F.ownerId,mainImage:F.mainImageUrl||"",images:F.imagesUrl||[],seats:F.seats,fuel:F.fuelType,gearbox:F.gearbox,latitude:F.latitude,longitude:F.longitude}));g(K),console.log("Loaded cars:",K.length)}catch(E){console.error("Error loading cars:",E);const H=E.response?.data?.message||E.message||"Failed to load cars";alert(`Error loading cars: ${H}. Please check if the backend server is running.`),g([])}finally{j(!1)}}})()},[s?.id]);const $=async()=>{if((s||(()=>{try{const p=localStorage.getItem("carrent_current_user");return p?JSON.parse(p):null}catch{return null}})())?.id&&c.length>0){z(!0);try{const{reservationAPI:p,userAPI:E}=await ie(async()=>{const{reservationAPI:K,userAPI:F}=await Promise.resolve().then(()=>ce);return{reservationAPI:K,userAPI:F}},void 0),H=[];for(const K of c)try{const oe=(await p.getReservationsByCar(K.id)).data||[];for(const Y of oe){let ye=null;try{ye=(await E.getUserById(Y.userId)).data}catch(pt){console.error("Error loading customer:",pt)}H.push({id:Y.id,reservation:Y,car:{id:K.id,name:K.name,brand:K.brand,image:K.mainImage,pricePerDay:K.pricePerDay},customer:ye?{id:ye.id,name:ye.fullName||ye.name,email:ye.email}:{id:Y.userId,name:"Unknown User",email:"N/A"}})}}catch(F){console.error(`Error loading reservations for car ${K.id}:`,F)}H.sort((K,F)=>{const oe=new Date(K.reservation.createdAt||0);return new Date(F.reservation.createdAt||0)-oe}),_(H)}catch(p){console.error("Error loading demands:",p),_([])}finally{z(!1)}}else c.length===0&&(_([]),z(!1))};m.useEffect(()=>{i==="demands"&&$()},[s?.id,c,i]),m.useEffect(()=>{const P=p=>{const E=p.detail;d(E),s?.id&&localStorage.setItem(`carrent_owner_active_tab_${s.id}`,E)};if(s?.id){const p=localStorage.getItem(`carrent_owner_active_tab_${s.id}`);p&&(p==="home"||p==="demands"||p==="contact"||p==="profile"||p==="bookings"||p==="reservation")&&(d(p),p==="reservation"&&!S&&d("home"))}return window.addEventListener("owner-tab-change",P),()=>window.removeEventListener("owner-tab-change",P)},[s?.id]);const R=async P=>{try{const p=s||(()=>{try{const Y=localStorage.getItem("carrent_current_user");return Y?JSON.parse(Y):null}catch{return null}})();if(!p||!p.id){console.error("User data is not available"),alert("Please log in to save a car.");return}const{carAPI:E}=await ie(async()=>{const{carAPI:Y}=await Promise.resolve().then(()=>ce);return{carAPI:Y}},void 0),H=parseFloat(P.pricePerDay);if(isNaN(H)||H<0){alert("Please enter a valid price (must be a positive number)");return}const K={name:P.name,brand:P.brand,pricePerDay:H,city:P.city,availability:P.availability||"available",ownerId:p.id,ownerName:p.name||P.owner,mainImageUrl:P.mainImage||"",imagesUrl:P.images||[],seats:Number(P.seats)||5,fuelType:P.fuel||"Gasoline",gearbox:P.gearbox||"Manual",latitude:P.latitude?Number(P.latitude):null,longitude:P.longitude?Number(P.longitude):null};console.log("Saving car with price:",K.pricePerDay,"from input:",P.pricePerDay),P.id&&!isNaN(P.id)&&P.id.toString().length<10?await E.updateCar(P.id,K):await E.addCar(K);const oe=((await E.getCarsByOwner(p.id)).data||[]).map(Y=>({id:Y.id,name:Y.name,brand:Y.brand,pricePerDay:typeof Y.pricePerDay=="number"?Y.pricePerDay:parseFloat(Y.pricePerDay)||0,city:Y.city,availability:Y.availability,owner:Y.ownerName||p.name,ownerId:Y.ownerId,mainImage:Y.mainImageUrl||"",images:Y.imagesUrl||[],seats:Y.seats,fuel:Y.fuelType,gearbox:Y.gearbox,latitude:Y.latitude,longitude:Y.longitude}));g(oe),b(null),w(!1),alert(P.id?"Car updated successfully!":"Car added successfully!")}catch(p){console.error("Error saving car:",p);let E="Error saving car. Please check console for details.";if(p.response){const H=p.response.status,K=p.response.data,F=K?.message||K?.error||JSON.stringify(K);F&&(F.includes("PacketTooBig")||F.includes("max_allowed_packet")||F.includes("Packet for query is too large"))?E="Image files are too large. Please use smaller images or compress them before uploading.":K?.message?E=K.message:K?.error?E=K.error:H===500?E="Server error occurred. Please check your connection and try again.":H===400&&(E="Invalid data provided. Please check all fields and try again."),console.error("Error response:",H,K)}else p.request&&(E="Could not connect to server. Please check your internet connection.");alert(E)}},A=async P=>{try{const p=s||(()=>{try{const F=localStorage.getItem("carrent_current_user");return F?JSON.parse(F):null}catch{return null}})();if(!p?.id){console.error("User data is not available");return}const{carAPI:E}=await ie(async()=>{const{carAPI:F}=await Promise.resolve().then(()=>ce);return{carAPI:F}},void 0);await E.deleteCar(P);const K=((await E.getCarsByOwner(p.id)).data||[]).map(F=>({id:F.id,name:F.name,brand:F.brand,pricePerDay:typeof F.pricePerDay=="number"?F.pricePerDay:parseFloat(F.pricePerDay)||0,city:F.city,availability:F.availability,owner:F.ownerName||p.name,ownerId:F.ownerId,mainImage:F.mainImageUrl||"",images:F.imagesUrl||[],seats:F.seats,fuel:F.fuelType,gearbox:F.gearbox,latitude:F.latitude,longitude:F.longitude}));g(K)}catch(p){console.error("Error deleting car:",p),alert("Error deleting car. Please check console for details.")}},T=P=>{b(P),w(!0)},N=c.filter(P=>P.name.toLowerCase().includes(h.toLowerCase())||P.brand.toLowerCase().includes(h.toLowerCase())||P.city.toLowerCase().includes(h.toLowerCase())),C=()=>{if(s?.name){const P=s.name.split(" ");return P.length>=2?(P[0][0]+P[P.length-1][0]).toUpperCase():s.name.substring(0,2).toUpperCase()}return"U"},G=P=>{const p=P.target.files[0];if(!p)return;const E=s||(()=>{try{const K=localStorage.getItem("carrent_current_user");return K?JSON.parse(K):null}catch{return null}})();if(!E||!E.id){alert("Please log in to update profile picture.");return}if(!p.type.startsWith("image/")){alert("Please select an image file");return}if(p.size>5*1024*1024){alert("Image size should be less than 5MB");return}const H=new FileReader;H.onloadend=()=>{const K=H.result,F={...E,profilePicture:K};localStorage.setItem("carrent_current_user",JSON.stringify(F)),o(F);const oe=JSON.parse(localStorage.getItem("carrent_users")||"[]"),Y=oe.findIndex(ye=>ye.id===E.id);Y!==-1&&(oe[Y]={...oe[Y],profilePicture:K},localStorage.setItem("carrent_users",JSON.stringify(oe))),n&&n(F)},H.readAsDataURL(p)},D=()=>{q.current?.click()},M=()=>t.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white transition-colors duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"flex justify-end mb-6",children:t.jsxs("button",{onClick:()=>{b(null),w(!0)},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-colors font-semibold shadow-lg",children:[t.jsx(Ds,{className:"w-5 h-5"}),"Add New Car"]})}),c.length>0&&t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Me,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, brand, or city...",value:h,onChange:P=>I(P.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),f?t.jsxs("div",{className:"text-center py-16",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading cars..."})]}):N.length>0?t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.jsx(me,{mode:"popLayout",children:N.map(P=>t.jsx(O.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},children:t.jsx(N0,{car:P,onDelete:A,onEdit:T})},P.id))})}):t.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center py-16",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-gray-200 dark:bg-gray-800 rounded-full mb-4",children:t.jsx(Me,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),t.jsx("h3",{className:"text-2xl font-bold text-gray-700 dark:text-white mb-2",children:h?"No cars found":"No cars published yet"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:h?"Try modifying your search criteria":"Start by adding your first car to the platform"})]})]})}),W=async(P,p)=>{try{const{reservationAPI:E}=await ie(async()=>{const{reservationAPI:F}=await Promise.resolve().then(()=>ce);return{reservationAPI:F}},void 0),K=(await E.getReservationById(P)).data;K.status=p,await E.updateReservation(P,K),await $(),alert(`Reservation ${p==="confirmed"?"confirmed":"cancelled"} successfully!`)}catch(E){console.error("Error updating reservation:",E),alert("Error updating reservation. Please try again.")}},L=()=>{const P=H=>{switch(H){case"pending":return{text:"Pending",color:"bg-yellow-500",textColor:"text-yellow-50"};case"confirmed":return{text:"Confirmed",color:"bg-green-500",textColor:"text-green-50"};case"cancelled":return{text:"Cancelled",color:"bg-red-500",textColor:"text-red-50"};case"completed":return{text:"Completed",color:"bg-blue-500",textColor:"text-blue-50"};default:return{text:H,color:"bg-gray-500",textColor:"text-gray-50"}}},p=H=>H?new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",E=(H,K)=>{if(!H||!K)return 0;const F=new Date(H),oe=new Date(K),Y=Math.abs(oe-F);return Math.ceil(Y/(1e3*60*60*24))||1};return V?t.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white transition-colors duration-300",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading demands..."})]})})}):k.length===0?t.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white transition-colors duration-300",children:t.jsx("div",{className:"max-w-7xl mx-auto",children:t.jsx("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-8 text-center",children:t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No demands yet"})})})}):t.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white transition-colors duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Booking Requests"}),t.jsx("div",{className:"space-y-6",children:k.map(H=>{const K=P(H.reservation.status),F=E(H.reservation.startDate,H.reservation.endDate),oe=typeof H.reservation.totalPrice=="number"?H.reservation.totalPrice:parseFloat(H.reservation.totalPrice)||0;return t.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"flex-shrink-0",children:H.car.image?t.jsx("img",{src:H.car.image,alt:H.car.name,className:"w-full md:w-48 h-32 object-cover rounded-xl"}):t.jsx("div",{className:"w-full md:w-48 h-32 bg-gradient-to-br from-indigo-200 to-purple-200 rounded-xl flex items-center justify-center",children:t.jsx(gn,{className:"w-12 h-12 text-gray-400"})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-1",children:[H.car.brand," ",H.car.name]}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Requested by: ",t.jsx("span",{className:"font-medium",children:H.customer.name})]}),t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Email: ",H.customer.email]})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${K.color} ${K.textColor}`,children:K.text})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rental Period"}),t.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[p(H.reservation.startDate)," - ",p(H.reservation.endDate)]}),t.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[F," day",F!==1?"s":""]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Insurance"}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:H.reservation.insuranceType||"basic"})]}),H.reservation.extras&&H.reservation.extras.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Additional Services"}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:H.reservation.extras.join(", ")})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total Price"}),t.jsxs("p",{className:"text-xl font-bold text-indigo-600 dark:text-purple-400",children:[oe," MAD"]})]})]}),H.reservation.status==="pending"&&t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsx("button",{onClick:()=>W(H.id,"confirmed"),className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-colors",children:"Accept"}),t.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to reject this booking request?")&&W(H.id,"cancelled")},className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors",children:"Reject"})]})]})]})},H.id)})})]})})},J=()=>(m.useEffect(()=>{const P=document.getElementById("contact");P&&P.scrollIntoView({behavior:"smooth",block:"start"})},[]),t.jsx("div",{className:"py-4 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white transition-colors duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Contact"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Scroll down to see the contact form"})]})})),ee=()=>{const P=s||(()=>{try{const p=localStorage.getItem("carrent_current_user");return p?JSON.parse(p):null}catch{return null}})();return t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6 sm:p-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Account"}),t.jsx("p",{className:"text-gray-600 dark:text-white/70",children:"Manage your account settings and profile."})]}),P?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center mb-8",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-4xl font-bold shadow-lg",children:P.profilePicture?t.jsx("img",{src:P.profilePicture,alt:"Profile",className:"w-full h-full object-cover"}):t.jsx("span",{children:C()})}),t.jsx("input",{ref:q,type:"file",accept:"image/*",onChange:G,style:{display:"none"}}),t.jsx("button",{type:"button",onClick:D,className:"absolute bottom-0 right-0 p-2 bg-indigo-600 dark:bg-purple-600 text-white rounded-full shadow-lg hover:bg-indigo-700 dark:hover:bg-purple-700 transition-colors",title:"Change photo",children:t.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),t.jsx("button",{type:"button",onClick:D,className:"mt-4 px-4 py-2 text-sm font-medium text-indigo-600 dark:text-purple-300 bg-indigo-50 dark:bg-indigo-900/40 rounded-lg hover:bg-indigo-100 dark:hover:bg-indigo-900/60 transition-colors",children:P.profilePicture?"Change Picture":"Add Picture"})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Name"}),t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:P.name||"N/A"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Email"}),t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:P.email||"N/A"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Role"}),t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:"Car Owner"})]})]})]}):null,r&&t.jsx("button",{type:"button",onClick:r,className:"w-full py-3 px-6 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl",children:"Sign Out"})]})};return t.jsxs("div",{className:`owner-page ${u&&(i==="home"||i==="bookings"||i==="reservation")?"owner-page-client-mode":""}`,children:[(i==="home"||i==="demands"||i==="bookings"||i==="reservation")&&t.jsxs("div",{className:"client-mode-banner",children:[t.jsx("span",{className:"client-mode-text",children:"Wanna rent a car? switch to client mode"}),t.jsxs("label",{className:"client-mode-toggle",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:P=>{const p=P.target.checked;l(p),s?.id&&localStorage.setItem(`carrent_client_mode_${s.id}`,p.toString()),p&&i==="demands"?(d("bookings"),s?.id&&localStorage.setItem(`carrent_owner_active_tab_${s.id}`,"bookings"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"bookings"}))},100)):!p&&i==="bookings"&&(d("demands"),s?.id&&localStorage.setItem(`carrent_owner_active_tab_${s.id}`,"demands"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"demands"}))},100)),a&&a(p)}}),t.jsx("span",{className:"client-mode-slider"})]})]}),i==="home"?u?t.jsx("div",{className:"owner-catalogue-wrapper",children:t.jsx(Un,{isEmbedded:!0,onCarSelect:P=>{B(P),d("reservation"),s?.id&&localStorage.setItem(`carrent_owner_active_tab_${s.id}`,"reservation"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"reservation"}))},100)}})}):M():i==="reservation"&&S?u?t.jsx("div",{className:"owner-catalogue-wrapper",children:t.jsx(ts,{isEmbedded:!0,carId:S.id})}):M():i==="bookings"?u?t.jsx("div",{className:"owner-catalogue-wrapper",children:t.jsx(Vn,{isEmbedded:!0})}):M():i==="demands"?L():i==="contact"?t.jsx(J,{}):t.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ee()}),t.jsx(j0,{isOpen:x,onClose:()=>{w(!1),b(null)},onSave:R,carToEdit:v,ownerName:s?.name||"Owner"})]})}function C0(){const e=lt(),r=us(),[a,n]=m.useState(!1),[s,o]=m.useState(!1),[i,d]=m.useState(!1),[u,l]=m.useState({top:0,left:0,width:0}),[c,g]=m.useState(()=>typeof window>"u"?!1:localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches),[f,j]=m.useState(!1),[x,w]=m.useState("home"),v=m.useRef(null),b=m.useRef(null),h=m.useMemo(()=>{try{const $=localStorage.getItem("carrent_current_user");return $?JSON.parse($):null}catch{return null}},[]);m.useEffect(()=>{if(h?.id){const T=localStorage.getItem(`carrent_client_mode_${h.id}`);j(T==="true");const N=localStorage.getItem(`carrent_owner_active_tab_${h.id}`);N&&w(N)}const $=()=>{if(h?.id){const T=localStorage.getItem(`carrent_client_mode_${h.id}`);j(T==="true");const N=localStorage.getItem(`carrent_owner_active_tab_${h.id}`);N&&w(N)}},R=T=>{w(T.detail),h?.id&&localStorage.setItem(`carrent_owner_active_tab_${h.id}`,T.detail)};window.addEventListener("storage",$),window.addEventListener("owner-tab-change",R);const A=setInterval($,500);return()=>{window.removeEventListener("storage",$),window.removeEventListener("owner-tab-change",R),clearInterval(A)}},[h?.id]);const I=m.useMemo(()=>(h?.role==="owner"||h?.role==="OWNER")&&!f?[{name:"Home",path:"/owner",icon:an,isButton:!1},{name:"Demands",path:"/owner",icon:Vt,isButton:!1},{name:"Contact",path:"#contact",icon:Gt,isButton:!0}]:[{name:"Catalogue",path:"/catalogue",icon:null,isButton:!1},{name:"Bookings",path:"/bookings",icon:null,isButton:!1},{name:"Contact",path:"#contact",icon:Gt,isButton:!0}],[h?.role,f]);m.useEffect(()=>{const $=document.documentElement;c?$.classList.add("dark"):$.classList.remove("dark"),localStorage.setItem("theme",c?"dark":"light"),window.dispatchEvent(new Event("themechange"))},[c]);const S=()=>g($=>!$),B=()=>{const $=document.getElementById("contact");$?$.scrollIntoView({behavior:"smooth",block:"start"}):e("/#contact"),n(!1)},k=$=>{const R=$.toLowerCase();($==="Home"||$==="Demands")&&(e("/owner"),h?.id&&localStorage.setItem(`carrent_owner_active_tab_${h.id}`,R),w(R),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:R}))},100)),n(!1)},_=$=>{if((h?.role==="owner"||h?.role==="OWNER")&&f){if($==="Catalogue"){e("/owner");const A="home";h?.id&&localStorage.setItem(`carrent_owner_active_tab_${h.id}`,A),w(A),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:A}))},100)}else if($==="Bookings"){e("/owner");const A="bookings";h?.id&&localStorage.setItem(`carrent_owner_active_tab_${h.id}`,A),w(A),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:A}))},100)}return n(!1),!0}return!1},V=()=>{const $=v.current?.getBoundingClientRect();$&&l({top:$.bottom+window.scrollY+8,left:$.left+window.scrollX,width:$.width})};m.useEffect(()=>{s&&V()},[s]),m.useEffect(()=>{const $=()=>{s&&V()};return window.addEventListener("resize",$),window.addEventListener("scroll",$),()=>{window.removeEventListener("resize",$),window.removeEventListener("scroll",$)}},[s]),m.useEffect(()=>{const $=R=>{s&&v.current&&!v.current.contains(R.target)&&!document.getElementById("profile-dropdown-portal")?.contains(R.target)&&o(!1)};return document.addEventListener("mousedown",$),()=>document.removeEventListener("mousedown",$)},[s]);const z=()=>{localStorage.removeItem("carrent_current_user"),e("/signin")},q="text-sm font-semibold px-3 py-2 rounded-lg transition-colors flex items-center gap-1";return t.jsxs("nav",{ref:b,className:"sticky top-0 z-50 bg-white/90 dark:bg-indigo-950/80 backdrop-blur-xl border-b border-gray-200/60 dark:border-purple-900/40 shadow-md",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 relative",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:t.jsx("div",{className:"text-lg sm:text-xl font-bold text-indigo-700 dark:text-purple-200",children:"CARRENT"})}),t.jsxs("div",{className:"hidden md:flex flex-1 items-center justify-center gap-2",children:[I.map($=>{const R=$.isButton?!1:$.name==="Home"||$.name==="Demands"?r.pathname==="/owner"&&x===$.name.toLowerCase():r.pathname===$.path;return $.isButton?t.jsxs("button",{onClick:B,className:`${q} ${R?"text-indigo-600 dark:text-purple-300":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:[$.icon&&t.jsx($.icon,{className:"w-4 h-4"}),$.name]},$.name):$.name==="Home"||$.name==="Demands"?t.jsxs("button",{onClick:()=>k($.name),className:`${q} ${R?"text-indigo-600 dark:text-purple-300":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:[$.icon&&t.jsx($.icon,{className:"w-4 h-4"}),$.name]},$.name):($.name==="Catalogue"||$.name==="Bookings")&&(h?.role==="owner"||h?.role==="OWNER")&&f?t.jsx("button",{onClick:()=>{_($.name),n(!1)},className:`${q} ${r.pathname==="/owner"&&x===$.name.toLowerCase()?"text-indigo-600 dark:text-purple-300":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:$.name},$.name):t.jsx(aa,{to:$.path,className:({isActive:A})=>`${q} ${A?"text-indigo-600 dark:text-purple-300":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,onClick:()=>n(!1),children:$.name},$.name)}),t.jsx("div",{className:"relative",children:t.jsxs(O.button,{whileTap:{scale:.97},ref:v,onClick:()=>o($=>!$),className:`${q} text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300`,children:[t.jsx("span",{children:"Profile"}),t.jsx(Ie,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx(O.button,{whileTap:{scale:.9},onClick:S,className:"p-2 rounded-full bg-transparent border-0 hover:scale-105 transition-transform","aria-label":"Toggle theme",children:c?t.jsx(Rr,{className:"w-5 h-5 text-white"}):t.jsx(Or,{className:"w-5 h-5 text-purple-800"})}),t.jsx("button",{className:"md:hidden p-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-indigo-900/40",onClick:()=>n($=>!$),"aria-label":"Toggle menu",children:a?t.jsx(he,{className:"w-5 h-5"}):t.jsx(Is,{className:"w-5 h-5"})})]})]}),t.jsx(me,{children:a&&t.jsx(O.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},className:"md:hidden mt-3 space-y-2 bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl border border-gray-200/60 dark:border-purple-900/40 p-3 shadow-lg",children:t.jsxs("div",{className:"space-y-2",children:[I.map($=>{const R=$.isButton?!1:$.name==="Home"||$.name==="Demands"?r.pathname==="/owner"&&x===$.name.toLowerCase():r.pathname===$.path;return $.isButton?t.jsxs("button",{onClick:B,className:`w-full text-left px-3 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 ${R?"text-indigo-600 dark:text-purple-300 bg-indigo-50/60 dark:bg-purple-900/30":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:[$.icon&&t.jsx($.icon,{className:"w-4 h-4"}),$.name]},$.name):$.name==="Home"||$.name==="Demands"?t.jsxs("button",{onClick:()=>{k($.name),n(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-semibold flex items-center gap-2 ${R?"text-indigo-600 dark:text-purple-300 bg-indigo-50/60 dark:bg-purple-900/30":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:[$.icon&&t.jsx($.icon,{className:"w-4 h-4"}),$.name]},$.name):($.name==="Catalogue"||$.name==="Bookings")&&(h?.role==="owner"||h?.role==="OWNER")&&f?t.jsx("button",{onClick:()=>{_($.name),n(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-semibold ${r.pathname==="/owner"&&x===$.name.toLowerCase()?"text-indigo-600 dark:text-purple-300 bg-indigo-50/60 dark:bg-purple-900/30":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:$.name},$.name):t.jsx(aa,{to:$.path,onClick:()=>n(!1),className:({isActive:A})=>`block px-3 py-2 rounded-lg text-sm font-semibold ${A?"text-indigo-600 dark:text-purple-300 bg-indigo-50/60 dark:bg-purple-900/30":"text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300"}`,children:$.name},$.name)}),t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>d($=>!$),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300",children:[t.jsx("span",{children:"Profile"}),t.jsx(Ie,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),t.jsx(me,{initial:!1,children:i&&t.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:t.jsxs("div",{className:"pl-4 space-y-1 pt-1",children:[t.jsxs("button",{onClick:()=>{d(!1),n(!1),e("/profile")},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-200 hover:text-indigo-600 dark:hover:text-purple-300 hover:bg-indigo-50/60 dark:hover:bg-purple-900/30 transition-colors",children:[t.jsx(it,{className:"w-4 h-4 text-indigo-600 dark:text-purple-300"}),"Profile"]}),t.jsxs("button",{onClick:()=>{d(!1),n(!1),z()},className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:[t.jsx(ia,{className:"w-4 h-4"}),"Logout"]})]})})})]})]})})})]}),s&&Za.createPortal(t.jsx("div",{id:"profile-dropdown-portal",className:"absolute z-[60]",style:{top:`${u.top}px`,left:`${u.left}px`,minWidth:`${u.width||180}px`},children:t.jsxs(O.div,{initial:{opacity:0,scale:.98,y:-6},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:-6},transition:{duration:.15},className:"bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 overflow-hidden",children:[t.jsx("div",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 text-white flex items-center justify-center font-semibold",children:h?.name?h.name.charAt(0).toUpperCase():"P"}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:h?.name||"Profile"}),t.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h?.email||"Signed in"})]})]})}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-purple-800/40"}),t.jsxs("button",{onClick:()=>{o(!1),h?.role==="owner"||h?.role==="OWNER"?(e("/owner"),setTimeout(()=>{window.dispatchEvent(new CustomEvent("owner-tab-change",{detail:"profile"})),h?.id&&localStorage.setItem(`carrent_owner_active_tab_${h.id}`,"profile")},100)):e("/profile")},className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-indigo-50/80 dark:hover:bg-indigo-900/30 transition-colors",children:[t.jsx(it,{className:"w-4 h-4 text-indigo-600 dark:text-purple-300"}),"Profile"]}),t.jsxs("button",{onClick:()=>{o(!1),z()},className:"w-full flex items-center gap-2 px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 transition-colors",children:[t.jsx(ia,{className:"w-4 h-4"}),"Logout"]})]})}),document.body)]})}function S0(){const[e,r]=m.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[a,n]=m.useState({name:"",email:"",message:""});m.useEffect(()=>{const i=()=>{const l=localStorage.getItem("theme");r(l?l==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches)};i(),window.addEventListener("storage",i);const d=()=>{i()};window.addEventListener("themechange",d);const u=setInterval(i,100);return()=>{window.removeEventListener("storage",i),window.removeEventListener("themechange",d),clearInterval(u)}},[]);const s=i=>{i.preventDefault(),console.log("Form submitted:",a),n({name:"",email:"",message:""})},o=i=>{n({...a,[i.target.name]:i.target.value})};return t.jsx(O.footer,{id:"contact",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.2},className:`w-full mt-20 py-12 border-t border-gray-200/60 dark:border-purple-900/40 shadow-md transition-colors duration-300 ${e?"backdrop-blur-md":"bg-gray-50"}`,style:e?{background:"radial-gradient(circle at top left, rgba(79, 70, 229, 0.3), transparent 55%), radial-gradient(circle at bottom right, rgba(124, 58, 237, 0.25), transparent 55%), rgba(26, 15, 36, 0.7)"}:{},children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 md:gap-12",children:[t.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[t.jsxs(O.div,{className:"flex items-center gap-3 transition-colors duration-300",whileHover:{scale:1.05},children:[t.jsx("img",{src:Wt,alt:"CarRent logo",className:"w-8 h-8 object-contain"}),t.jsxs("p",{className:"font-semibold text-lg",children:["Â© ",new Date().getFullYear()," ",e?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"bg-gradient-to-r from-purple-200 to-purple-300 bg-clip-text text-transparent",children:"CAR"}),t.jsx("span",{className:"bg-gradient-to-r from-purple-300 to-purple-400 bg-clip-text text-transparent",children:"RENT"})]}):t.jsx("span",{className:"text-indigo-700",children:"CARRENT"})]})]}),t.jsx("p",{className:`text-sm max-w-2xl transition-colors duration-300 ${e?"text-white":"text-gray-900"}`,children:"CarRent - Your trusted partner for premium vehicle rentals. Explore our wide selection of cars and enjoy a seamless booking experience."})]}),t.jsx("div",{className:`hidden md:block w-px ${e?"bg-purple-700/50":"bg-gray-200/60"}`}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:`text-xl font-semibold mb-4 ${e?"text-white":"text-gray-900"}`,children:"Contact Us"}),t.jsxs("form",{onSubmit:s,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-900"}`,children:"Name"}),t.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:o,required:!0,className:`w-full px-4 py-2 rounded-lg border transition-colors duration-300 ${e?"bg-indigo-900/60 border-purple-700/30 text-white placeholder-gray-400 focus:border-purple-600":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200"} focus:outline-none`,placeholder:"Your name"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-900"}`,children:"Email"}),t.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:o,required:!0,className:`w-full px-4 py-2 rounded-lg border transition-colors duration-300 ${e?"bg-indigo-900/60 border-purple-700/30 text-white placeholder-gray-400 focus:border-purple-600":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200"} focus:outline-none`,placeholder:"your.email@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 ${e?"text-gray-300":"text-gray-900"}`,children:"Message"}),t.jsx("textarea",{id:"message",name:"message",value:a.message,onChange:o,required:!0,rows:4,className:`w-full px-4 py-2 rounded-lg border transition-colors duration-300 resize-none ${e?"bg-indigo-900/60 border-purple-700/30 text-white placeholder-gray-400 focus:border-purple-600":"bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200"} focus:outline-none`,placeholder:"Your message..."})]}),t.jsxs(O.button,{type:"submit",whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full px-6 py-3 rounded-lg font-medium transition-colors duration-300 flex items-center justify-center gap-2 ${e?"bg-purple-700 hover:bg-purple-600 text-white":"bg-purple-600 hover:bg-purple-700 text-white"}`,children:[t.jsx(_s,{className:"w-4 h-4"}),"Send Message"]})]})]})]})})})}function P0(){const[e,r]=m.useState(!1),[a,n]=m.useState("personal"),[s,o]=m.useState(!1),[i,d]=m.useState(!0),[u,l]=m.useState(0),c=m.useRef(null),g=JSON.parse(localStorage.getItem("carrent_current_user")||"{}"),[f,j]=m.useState({name:"",email:"",phone:"",phoneCountryCode:"",address:"",profilePicture:null,drivingCard:null,nationalCard:null});m.useEffect(()=>{(async()=>{if(!g?.id){d(!1);return}try{d(!0);const{userAPI:C,reservationAPI:G}=await ie(async()=>{const{userAPI:L,reservationAPI:J}=await Promise.resolve().then(()=>ce);return{userAPI:L,reservationAPI:J}},void 0),D=typeof g.id=="string"?parseInt(g.id):g.id;if(!D||isNaN(D))throw new Error("Invalid user ID: "+g.id);const M=await C.getUserById(D),W=M.data||M;j({name:W.fullName||W.name||"",email:W.email||"",phone:W.phoneNumber||"",phoneCountryCode:W.phoneCountryCode||"",address:W.address||"",profilePicture:W.profilePictureUrl||null,drivingCard:W.drivingCardUrl||null,nationalCard:W.nationalCardUrl||null});try{const L=await G.getReservationsByUser(D),J=L.data||L||[];l(Array.isArray(J)?J.length:0)}catch(L){console.error("Error loading bookings count:",L),l(0)}}catch(C){console.error("Error loading user data:",C);const G=C.response?.data?.message||C.message||"Failed to load profile data";Z.error(`Error: ${G}. Please check if the backend server is running.`);try{const D=JSON.parse(localStorage.getItem("carrent_current_user")||"{}");D&&D.id&&j({name:D.name||"",email:D.email||"",phone:"",phoneCountryCode:"",address:"",profilePicture:D.profilePicture||null,drivingCard:null,nationalCard:null})}catch(D){console.error("Error loading fallback data:",D)}}finally{d(!1)}})()},[g?.id]);const[x,w]=m.useState([{id:1,name:"Driver's License",type:"license",file:"license.pdf",uploaded:"2024-01-15",status:"approved"},{id:2,name:"ID Card",type:"id",file:"id.pdf",uploaded:"2024-01-10",status:"approved"},{id:3,name:"Proof of Address",type:"address",file:"address.pdf",uploaded:"2024-01-05",status:"pending"},{id:4,name:"International License",type:"international_license",file:"international_license.pdf",uploaded:"2024-01-20",status:"approved"}]),[v,b]=m.useState([{id:1,type:"visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:2,type:"mastercard",last4:"5555",expiry:"08/25",isDefault:!1}]),[h,I]=m.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:!1}),S=async()=>{if(!g?.id){Z.error("User not found");return}try{const{userAPI:N}=await ie(async()=>{const{userAPI:W}=await Promise.resolve().then(()=>ce);return{userAPI:W}},void 0),C={fullName:f.name.trim(),email:f.email,phoneNumber:f.phone,phoneCountryCode:f.phoneCountryCode||"+1",address:f.address,profilePictureUrl:f.profilePicture,drivingCardUrl:f.drivingCard,nationalCardUrl:f.nationalCard},D=(await N.updateUser(g.id,C)).data,M={...g,name:D.fullName||D.name,email:D.email,profilePicture:D.profilePictureUrl||null};localStorage.setItem("carrent_current_user",JSON.stringify(M)),r(!1),Z.success("Profile updated successfully!")}catch(N){console.error("Error updating profile:",N),Z.error(N.response?.data?.message||"Failed to update profile")}},B=()=>{r(!1),Z("Changes cancelled")},k=N=>{j(C=>({...C,[N.target.name]:N.target.value}))},_=N=>{I(C=>({...C,[N.target.name]:N.target.value}))},V=async N=>{const C=N.target.files[0];if(!C)return;if(C.size>5*1024*1024){Z.error("Image must be less than 5MB");return}if(!C.type.startsWith("image/")){Z.error("Please select an image");return}const G=async D=>new Promise(M=>{const W=new FileReader;W.onload=L=>{const J=new Image;J.onload=()=>{const ee=document.createElement("canvas");let P=J.width,p=J.height;const E=600;P>p?P>E&&(p=p*E/P,P=E):p>E&&(P=P*E/p,p=E),ee.width=P,ee.height=p,ee.getContext("2d").drawImage(J,0,0,P,p);let K=.6,F=ee.toDataURL("image/jpeg",K);for(;F.length>200*1024&&K>.1;)K-=.1,F=ee.toDataURL("image/jpeg",K);M(F)},J.src=L.target.result},W.readAsDataURL(D)});try{const D=await G(C);if(j(M=>({...M,profilePicture:D})),g?.id){const{userAPI:M}=await ie(async()=>{const{userAPI:L}=await Promise.resolve().then(()=>ce);return{userAPI:L}},void 0);await M.updateUser(g.id,{profilePictureUrl:D});const W={...g,profilePicture:D};localStorage.setItem("carrent_current_user",JSON.stringify(W))}Z.success("Profile picture updated!")}catch(D){console.error("Error uploading avatar:",D),Z.error("Failed to update profile picture")}},z=()=>{c.current.click()},q=N=>{b(C=>C.map(G=>({...G,isDefault:G.id===N}))),Z.success("Payment method set as default")},$=N=>{b(C=>C.filter(G=>G.id!==N)),Z.success("Payment method deleted")},R=async()=>{if(!g?.id){Z.error("User not found");return}if(h.newPassword!==h.confirmPassword){Z.error("Passwords don't match");return}if(h.newPassword.length<8){Z.error("Password must be at least 8 characters");return}try{const{userAPI:N}=await ie(async()=>{const{userAPI:C}=await Promise.resolve().then(()=>ce);return{userAPI:C}},void 0);await N.changePassword(g.id,h.currentPassword,h.newPassword),I({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:h.twoFactorEnabled}),Z.success("Password updated successfully!")}catch(N){console.error("Error changing password:",N),Z.error(N.response?.data?.message||"Failed to change password")}},A=[{id:"personal",label:"Personal Information",icon:it},{id:"documents",label:"Documents",icon:Vt},{id:"payments",label:"Payments",icon:zt},{id:"security",label:"Security",icon:Mr},{id:"preferences",label:"Preferences",icon:We}],T=N=>{switch(N){case"visa":return"ðŸ’³";case"mastercard":return"ðŸ’³";case"paypal":return"ðŸ¦";default:return"ðŸ’³"}};return i?t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:bg-[#1a0f24] py-8 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 border-t-indigo-600 rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})]})}):t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:bg-[#1a0f24] py-8 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.15},className:"mb-8"}),t.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-500 flex items-center justify-center text-white text-4xl font-bold shadow-lg mb-4",children:f.profilePicture?t.jsx("img",{src:f.profilePicture,alt:"Avatar",className:"w-full h-full object-cover"}):t.jsx(t.Fragment,{children:f.name?f.name.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):""})}),t.jsx("input",{type:"file",ref:c,onChange:V,accept:"image/*",className:"hidden",capture:"environment"}),t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"absolute bottom-2 right-2 p-2 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 transition-colors",title:"Change photo",children:t.jsx(As,{className:"w-4 h-4"})})]}),t.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:f.name}),t.jsx("p",{className:"text-gray-500 dark:text-white/70",children:f.email}),t.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-purple-800/30",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-indigo-600 dark:text-purple-300",children:u}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:"Bookings"})]})})]}),t.jsx("nav",{className:"space-y-2",children:A.map(N=>{const C=N.icon,G=a===N.id;return t.jsxs(O.button,{whileHover:{x:4},onClick:()=>n(N.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-colors ${G?"bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-300":"text-gray-600 dark:text-white hover:bg-gray-100 dark:hover:bg-indigo-900/20"}`,children:[t.jsx(C,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:N.label})]},N.id)})})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsxs(me,{mode:"wait",children:[a==="personal"&&t.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Personal Information"}),e?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-indigo-900/40 text-gray-700 dark:text-white rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-indigo-900/60 transition-colors",children:[t.jsx(he,{className:"w-4 h-4"}),t.jsx("span",{children:"Cancel"})]}),t.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors",children:[t.jsx(Os,{className:"w-4 h-4"}),t.jsx("span",{children:"Save"})]})]}):t.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 dark:bg-purple-600 text-white rounded-xl font-medium hover:bg-indigo-700 dark:hover:bg-purple-700 transition-colors",children:[t.jsx(Rs,{className:"w-4 h-4"}),t.jsx("span",{children:"Edit"})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2 flex items-center gap-2",children:[t.jsx(it,{className:"w-4 h-4"}),t.jsx("span",{children:"Full Name"})]}),e?t.jsx("input",{type:"text",name:"name",value:f.name,onChange:k,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:f.name})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2 flex items-center gap-2",children:[t.jsx(Gt,{className:"w-4 h-4"}),t.jsx("span",{children:"Email"})]}),e?t.jsx("input",{type:"email",name:"email",value:f.email,onChange:k,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:f.email})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2 flex items-center gap-2",children:[t.jsx(Ts,{className:"w-4 h-4"}),t.jsx("span",{children:"Phone"})]}),e?t.jsx("input",{type:"tel",name:"phone",value:f.phone,onChange:k,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:f.phone})]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2 flex items-center gap-2",children:[t.jsx(ze,{className:"w-4 h-4"}),t.jsx("span",{children:"Address"})]}),e?t.jsx("textarea",{name:"address",value:f.address,onChange:k,rows:"3",className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors resize-none"}):t.jsx("p",{className:"px-4 py-3 bg-gray-50 dark:bg-indigo-900/40 rounded-lg text-gray-900 dark:text-white",children:f.address})]})})]})]})},"personal"),a==="documents"&&t.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Documents"}),t.jsx("p",{className:"text-gray-600 dark:text-white/70",children:"Manage your required documents for rental"})]})}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Required Documents"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{type:"drivingCard",label:"Driving Card",data:f.drivingCard},{type:"nationalCard",label:"National Card",data:f.nationalCard}].map(N=>t.jsxs("div",{className:"p-4 border border-gray-200 dark:border-purple-800/30 rounded-xl bg-white/40 dark:bg-indigo-900/20",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vt,{className:"w-5 h-5 text-gray-600 dark:text-white"}),t.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:N.label})]}),t.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 rounded-full",children:"Required"})]}),t.jsx("div",{className:"flex items-center gap-2",children:N.data?t.jsx("a",{href:N.data,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-600 dark:text-indigo-300 hover:text-indigo-700 dark:hover:text-indigo-200 font-medium",children:"View Document"}):t.jsx("span",{className:"text-sm text-gray-500 dark:text-white/70",children:"Not uploaded"})})]},N.type))})]})]})},"documents"),a==="payments"&&t.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Payment Methods"}),t.jsx("p",{className:"text-gray-600 dark:text-white/70",children:"Manage your cards and payment methods"})]}),t.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 dark:bg-purple-600 text-white rounded-xl font-medium hover:bg-indigo-700 dark:hover:bg-purple-700 transition-colors",children:[t.jsx(zt,{className:"w-4 h-4"}),t.jsx("span",{children:"Add card"})]})]}),t.jsx("div",{className:"space-y-4",children:v.map(N=>t.jsx("div",{className:"p-4 border border-gray-200 dark:border-purple-800/30 rounded-xl bg-white/40 dark:bg-indigo-900/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-indigo-500 to-purple-500 rounded flex items-center justify-center text-white",children:T(N.type)}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[N.type==="visa"?"Visa":"Mastercard"," â€¢â€¢â€¢â€¢ ",N.last4]}),t.jsxs("div",{className:"text-sm text-gray-500 dark:text-white/70",children:["Expires ",N.expiry]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[N.isDefault?t.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 rounded-full text-sm font-medium",children:"Default"}):t.jsx("button",{onClick:()=>q(N.id),className:"text-sm text-indigo-600 dark:text-indigo-300 hover:text-indigo-700 dark:hover:text-indigo-200 font-medium",children:"Set as default"}),t.jsx("button",{onClick:()=>$(N.id),className:"p-2 text-gray-400 dark:text-white/50 hover:text-red-600 dark:hover:text-red-400",children:t.jsx(Lr,{className:"w-4 h-4"})})]})]})},N.id))}),t.jsxs("div",{className:"mt-8",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment History"}),t.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>t.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100 dark:border-purple-800/30",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:["Booking #2024-00",N]}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:"Toyota Corolla 2022"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:"1,600 MAD"}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:"March 15, 2024"})]})]},N))})]})]})},"payments"),a==="security"&&t.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Account Security"}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Change Password"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:s?"text":"password",name:"currentPassword",value:h.currentPassword,onChange:_,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors pr-12"}),t.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-white/50 hover:text-gray-600 dark:hover:text-white",children:s?t.jsx(Fs,{className:"w-5 h-5"}):t.jsx(tn,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"New Password"}),t.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:_,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Confirm Password"}),t.jsx("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:_,className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors"})]})]}),t.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:R,className:"px-6 py-3 bg-indigo-600 dark:bg-purple-600 text-white rounded-lg font-medium hover:bg-indigo-700 dark:hover:bg-purple-700 transition-colors",children:"Update Password"})]})]})]})},"security"),a==="preferences"&&t.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:t.jsxs("div",{className:"bg-white/60 dark:bg-indigo-950/40 backdrop-blur-xl rounded-2xl shadow-lg border border-gray-200/30 dark:border-purple-800/20 p-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"Preferences"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notifications"}),t.jsx("div",{className:"space-y-3",children:[{label:"Email Notifications",description:"Receive emails for your bookings"},{label:"SMS Notifications",description:"Receive SMS for confirmations"},{label:"Newsletter",description:"Receive our exclusive offers"}].map((N,C)=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:N.label}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-white/70",children:N.description})]}),t.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-indigo-600 dark:bg-purple-600",children:t.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white translate-x-6"})})]},C))})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Language & Region"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Language"}),t.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors",children:[t.jsx("option",{children:"English"}),t.jsx("option",{children:"French"}),t.jsx("option",{children:"Arabic"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-white mb-2",children:"Currency"}),t.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 dark:border-purple-700/30 rounded-lg bg-white dark:bg-indigo-900/40 text-gray-900 dark:text-white focus:border-indigo-500 dark:focus:border-purple-500 focus:ring-2 focus:ring-indigo-200 dark:focus:ring-purple-500/20 outline-none transition-colors",children:[t.jsx("option",{children:"MAD (Moroccan Dirham)"}),t.jsx("option",{children:"EUR (Euro)"}),t.jsx("option",{children:"USD (US Dollar)"})]})]})]})]})]})]})},"preferences")]})})]})]})})}function E0(){const{carId:e}=Qa(),r=lt(),[a,n]=m.useState(null),[s,o]=m.useState(0),[i,d]=m.useState(!1),[u,l]=m.useState(1),[c,g]=m.useState({x:0,y:0}),[f,j]=m.useState(!1),[x,w]=m.useState({x:0,y:0}),[v,b]=m.useState(null),[h,I]=m.useState(null),S=m.useRef(null),B=m.useRef(null);if(m.useEffect(()=>{(async()=>{try{const{carAPI:M}=await ie(async()=>{const{carAPI:ee}=await Promise.resolve().then(()=>ce);return{carAPI:ee}},void 0),L=(await M.getCarById(e)).data,J={id:L.id,name:L.name,brand:L.brand,pricePerDay:typeof L.pricePerDay=="number"?L.pricePerDay:parseFloat(L.pricePerDay)||0,city:L.city,availability:L.availability,owner:L.ownerName,mainImage:L.mainImageUrl||"",images:L.imagesUrl||[],seats:L.seats,fuel:L.fuelType,gearbox:L.gearbox,latitude:L.latitude,longitude:L.longitude};n(J)}catch(M){console.error("Error loading car:",M),Z.error("Car not found"),r("/catalogue")}})()},[e,r]),!a)return t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"text-center",children:t.jsx("p",{className:"text-gray-600 dark:text-white",children:"Loading..."})})});const k=a?.mainImage?[a.mainImage,...a.images?.filter(D=>D!==a.mainImage)||[]]:a?.images&&a.images.length>0?a.images:[],_=k[s]||a?.mainImage,V=m.useCallback(()=>{o(D=>(D+1)%k.length),d(!1),l(1),g({x:0,y:0})},[k.length]),z=m.useCallback(()=>{o(D=>(D-1+k.length)%k.length),d(!1),l(1),g({x:0,y:0})},[k.length]),q=D=>{b(D.targetTouches[0].clientX)},$=D=>{I(D.targetTouches[0].clientX)},R=()=>{if(!v||!h)return;const D=v-h,M=D>50,W=D<-50;M&&k.length>1&&V(),W&&k.length>1&&z(),b(null),I(null)},A=()=>{l(D=>Math.min(D+.5,5)),d(!0)},T=()=>{l(D=>{const M=Math.max(D-.5,1);return M===1&&(d(!1),g({x:0,y:0})),M})},N=()=>{i||(d(!0),l(2))},C=D=>{i&&u>1&&(j(!0),w({x:D.clientX-c.x,y:D.clientY-c.y}))};m.useEffect(()=>{const D=M=>{M.key==="Escape"?r("/catalogue"):M.key==="ArrowLeft"&&k.length>1?z():M.key==="ArrowRight"&&k.length>1&&V()};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[r,z,V,k.length]),m.useEffect(()=>{if(i){const D=L=>{if(i){L.preventDefault();const J=L.deltaY>0?-.2:.2;l(ee=>{const P=Math.max(1,Math.min(ee+J,5));return P===1&&(d(!1),g({x:0,y:0})),P})}},M=L=>{f&&i&&g({x:L.clientX-x.x,y:L.clientY-x.y})},W=()=>{j(!1)};return document.addEventListener("mousemove",M),document.addEventListener("mouseup",W),document.addEventListener("wheel",D,{passive:!1}),()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",W),document.removeEventListener("wheel",D)}}},[i,f,x]);const G=()=>{r(`/reservation/${a.id}`),Z.success("Redirecting to reservation page")};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:bg-[#1a0f24] transition-colors duration-300",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs(O.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>r("/catalogue"),className:"mb-6 flex items-center gap-2 text-gray-700 dark:text-white hover:text-purple-600 dark:hover:text-purple-400 transition-colors",children:[t.jsx(Ls,{className:"w-5 h-5"}),t.jsx("span",{children:"Back to Catalogue"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[3fr_2fr] gap-4 md:gap-8",children:[t.jsxs("div",{className:"bg-white/90 dark:bg-indigo-950/80 backdrop-blur-md rounded-xl shadow-2xl border border-gray-200/50 dark:border-purple-800/30 transition-colors duration-300 p-3 md:p-4 flex flex-col",children:[t.jsx("div",{className:"relative overflow-hidden rounded-lg mb-2 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",style:{minHeight:"300px"},children:t.jsxs("div",{ref:S,className:"relative w-full h-full",onTouchStart:q,onTouchMove:$,onTouchEnd:R,children:[t.jsx(me,{mode:"wait",children:_?t.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"w-full h-full flex items-center justify-center p-4 cursor-zoom-in",ref:B,onClick:N,onMouseDown:C,style:{overflow:i?"hidden":"visible"},children:t.jsx(O.img,{src:_,alt:`${a.name} - Image ${s+1}`,className:`max-w-full max-h-full object-contain rounded-xl shadow-lg transition-transform duration-200 ${i?"cursor-move":"cursor-zoom-in"}`,style:{transform:`translate(${c.x}px, ${c.y}px) scale(${u})`,transformOrigin:"center center"}})},s):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:t.jsx("p",{children:"No image available"})})}),k.length>1&&t.jsxs(t.Fragment,{children:[t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D=>{D.stopPropagation(),z()},className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 opacity-80 hover:opacity-100 transition-opacity",children:t.jsx(Ms,{className:"w-8 h-8 text-purple-300 dark:text-purple-400 drop-shadow-lg"})}),t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D=>{D.stopPropagation(),V()},className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 opacity-80 hover:opacity-100 transition-opacity",children:t.jsx(Fr,{className:"w-8 h-8 text-purple-300 dark:text-purple-400 drop-shadow-lg"})})]}),i&&t.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 p-2 bg-black/70 backdrop-blur-sm rounded-lg z-20",children:[t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D=>{D.stopPropagation(),A()},className:"p-2 bg-white/20 hover:bg-white/30 rounded text-white transition-colors",disabled:u>=5,children:t.jsx(Us,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-white text-xs px-2",children:[Math.round(u*100),"%"]}),t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D=>{D.stopPropagation(),T()},className:"p-2 bg-white/20 hover:bg-white/30 rounded text-white transition-colors",disabled:u<=1,children:t.jsx(Bs,{className:"w-4 h-4"})}),t.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:D=>{D.stopPropagation(),l(1),d(!1),g({x:0,y:0})},className:"p-2 bg-white/20 hover:bg-white/30 rounded text-white transition-colors text-xs",children:"Reset"})]})]})}),k.length>0&&t.jsx("div",{className:"text-center mb-2",children:t.jsxs("span",{className:"text-xs md:text-sm text-gray-600 dark:text-gray-400",children:[s+1," / ",k.length," photos"]})}),k.length>1&&t.jsx("div",{className:"mb-2",children:t.jsx("div",{className:"flex gap-2 justify-center overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-purple-700 scrollbar-track-transparent",children:k.map((D,M)=>t.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{o(M),d(!1),l(1),g({x:0,y:0})},className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-200 ${s===M?"border-indigo-600 dark:border-purple-400 shadow-lg ring-2 ring-indigo-200 dark:ring-purple-800":"border-gray-300 dark:border-gray-600 hover:border-indigo-400 dark:hover:border-purple-500"}`,children:t.jsx("img",{src:D,alt:`Thumbnail ${M+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},M))})}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-purple-800/30 mb-3"}),t.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:G,disabled:!1,className:"w-full py-3 px-4 sm:py-4 sm:px-6 rounded-xl font-semibold text-white shadow-lg transition-all duration-150 flex items-center justify-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 hover:shadow-xl",children:[t.jsx(je,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm sm:text-base",children:"Book now"})]})]}),t.jsx("div",{className:"bg-white dark:bg-indigo-950/40 rounded-2xl shadow-lg p-4 md:p-6 lg:p-8 mt-4 md:mt-0",children:t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white text-sm font-semibold border-2 border-white dark:border-purple-800/50 shadow-md",children:a?.owner?a.owner.charAt(0).toUpperCase():"O"}),t.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:a?.owner??"â€”"})]}),t.jsx("div",{className:"h-px bg-gray-200 dark:bg-purple-800/30"}),t.jsx("div",{children:t.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white mb-4",children:a?.name})}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-3",children:t.jsx("h3",{className:"text-lg font-semibold text-indigo-600 dark:text-purple-400",children:"Car details:"})}),t.jsxs("div",{className:"space-y-2 pl-0",children:[t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(ze,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["City: ",t.jsx("span",{className:"font-medium",children:a.city||"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(We,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Brand: ",t.jsx("span",{className:"font-medium",children:a.brand||"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(bt,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Seats: ",t.jsx("span",{className:"font-medium",children:a.seats||"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(We,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Type: ",t.jsx("span",{className:"font-medium",children:a.gearbox||a.type||"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(yt,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Fuel Type: ",t.jsx("span",{className:"font-medium",children:a.fuel||"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(je,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Times Rented: ",t.jsx("span",{className:"font-medium",children:a.timesRented!==void 0?a.timesRented:"â€”"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[t.jsx(Ue,{className:"w-4 h-4 text-indigo-600 dark:text-purple-400 flex-shrink-0"}),t.jsxs("span",{children:["Minimum Rating: ",t.jsx("span",{className:"font-medium",children:a.rating!==void 0?`${a.rating} / 5`:"â€”"})]})]})]})]}),t.jsxs("div",{className:"pt-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-indigo-600 dark:text-purple-400 mb-3",children:"Description:"}),t.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:a.description||a.ownerDescription||"No description provided by the owner."})]})]})})]})]})})}function Qe({children:e,requireRole:r}){const a=localStorage.getItem("carrent_current_user");if(!a)return t.jsx(at,{to:"/signin",replace:!0});try{const n=JSON.parse(a);return r&&n.role!==r&&n.role!==r.toUpperCase()?(localStorage.removeItem("carrent_current_user"),t.jsx(at,{to:"/signin",replace:!0})):e}catch{return localStorage.removeItem("carrent_current_user"),t.jsx(at,{to:"/signin",replace:!0})}}function D0(){const e=lt(),r=localStorage.getItem("carrent_current_user");m.useEffect(()=>{if(r)try{const n=JSON.parse(r);n.role==="client"||n.role==="CLIENT"?e("/catalogue",{replace:!0}):(n.role==="owner"||n.role==="OWNER")&&e("/owner",{replace:!0})}catch(n){console.error("Error parsing user data:",n)}},[r,e]);const a=n=>{localStorage.setItem("carrent_current_user",JSON.stringify(n)),n.role==="client"||n.role==="CLIENT"?e("/catalogue"):(n.role==="owner"||n.role==="OWNER")&&e("/owner")};return t.jsx(Ri,{onSignedIn:a,onGoToSignUp:()=>e("/signup")})}function I0(){const e=lt(),r=localStorage.getItem("carrent_current_user");m.useEffect(()=>{if(r)try{const n=JSON.parse(r);n.role==="client"||n.role==="CLIENT"?e("/catalogue",{replace:!0}):(n.role==="owner"||n.role==="OWNER")&&e("/owner",{replace:!0})}catch{}},[r,e]);const a=n=>{localStorage.setItem("carrent_current_user",JSON.stringify(n)),n.role==="client"||n.role==="CLIENT"?e("/catalogue"):n.role==="owner"||n.role==="OWNER"?e("/owner"):e("/signin")};return t.jsx(Vi,{onSignedUp:a,onGoToSignIn:()=>e("/signin")})}function et({children:e}){return t.jsxs(t.Fragment,{children:[t.jsx(C0,{}),t.jsx("div",{className:"min-h-screen dark:!bg-[#1a0f24] bg-gradient-to-br from-gray-50 to-gray-100 transition-colors duration-300 overflow-x-hidden w-full",children:t.jsx("div",{className:"w-full overflow-x-hidden",children:e})}),t.jsx(S0,{})]})}class _0 extends Q.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,a){console.error("Error caught by boundary:",r,a)}render(){return this.state.hasError?t.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#f5f3ff",padding:"20px"},children:t.jsxs("div",{style:{textAlign:"center",maxWidth:"600px"},children:[t.jsx("h1",{style:{color:"#ef4444",marginBottom:"16px"},children:"Something went wrong"}),t.jsx("p",{style:{color:"#6b7280",marginBottom:"24px"},children:this.state.error?.message||"An unexpected error occurred"}),t.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"#7c3aed",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Reload Page"}),t.jsx("pre",{style:{marginTop:"24px",padding:"16px",background:"#1f2937",color:"#f3f4f6",borderRadius:"8px",overflow:"auto",textAlign:"left"},children:this.state.error?.stack})]})}):this.props.children}}function A0(){return t.jsx(_0,{children:t.jsxs(ms,{children:[t.jsx(Ii,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff",borderRadius:"12px",padding:"16px"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),t.jsxs(ps,{children:[t.jsx(Ne,{path:"/signin",element:t.jsx(D0,{})}),t.jsx(Ne,{path:"/signup",element:t.jsx(I0,{})}),t.jsx(Ne,{path:"/",element:t.jsx(at,{to:"/signin",replace:!0})}),t.jsx(Ne,{path:"/catalogue",element:t.jsx(Qe,{requireRole:"client",children:t.jsx(et,{children:t.jsx(Un,{})})})}),t.jsx(Ne,{path:"/reservation/:carId",element:t.jsx(Qe,{requireRole:"client",children:t.jsx(et,{children:t.jsx(ts,{})})})}),t.jsx(Ne,{path:"/profile",element:t.jsx(Qe,{children:t.jsx(et,{children:t.jsx(P0,{})})})}),t.jsx(Ne,{path:"/bookings",element:t.jsx(Qe,{requireRole:"client",children:t.jsx(et,{children:t.jsx(Vn,{})})})}),t.jsx(Ne,{path:"/car/:carId",element:t.jsx(Qe,{requireRole:"client",children:t.jsx(et,{children:t.jsx(E0,{})})})}),t.jsx(Ne,{path:"/owner",element:t.jsx(Qe,{requireRole:"owner",children:t.jsx(et,{children:t.jsx(k0,{userData:(()=>{try{const e=localStorage.getItem("carrent_current_user");return e?JSON.parse(e):null}catch{return null}})(),onSignOut:()=>{localStorage.removeItem("carrent_current_user"),window.location.href="/signin"}})})})}),t.jsx(Ne,{path:"/logout",element:t.jsx(at,{to:"/signin",replace:!0,state:{logout:!0}})}),t.jsx(Ne,{path:"*",element:t.jsx(at,{to:"/signin",replace:!0})})]})]})})}try{const e=document.getElementById("root");if(!e)throw new Error("Root element not found!");console.log("Mounting React app..."),Vs.createRoot(e).render(t.jsx(m.StrictMode,{children:t.jsx(A0,{})})),console.log("React app mounted successfully")}catch(e){console.error("Failed to mount React app:",e);const r=document.getElementById("root");r&&(r.innerHTML=`
      <div style="padding: 20px; font-family: sans-serif; background: #fee; color: #c00; min-height: 100vh;">
        <h1>Error Loading App</h1>
        <p><strong>Error:</strong> ${e.message}</p>
        <pre style="background: #fff; padding: 10px; border-radius: 4px; overflow: auto;">${e.stack}</pre>
        <button onclick="window.location.reload()" style="margin-top: 20px; padding: 10px 20px; background: #c00; color: white; border: none; border-radius: 4px; cursor: pointer;">
          Reload Page
        </button>
      </div>
    `)}export{Z as z};
